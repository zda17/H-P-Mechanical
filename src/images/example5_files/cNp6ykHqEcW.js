;/*FB_PKG_DELIM*/

__d("VideoPlayerDashPerformanceLoggerPayloadBuilder",[],(function(t,n,r,o,a,i){"use strict";var e={access_token:void 0,additional_buffered_ranges:void 0,append_target:void 0,appended_buffer_ms:void 0,bandwidth_estimate:void 0,client_time_begin:void 0,client_time_duration:void 0,client_time_end:void 0,code:void 0,concluder:void 0,connection_quality_level:void 0,content_length_header:void 0,device_pixel_ratio_float:void 0,dropped_frames:void 0,dynamic_bitrate:void 0,edge_hit_header:void 0,ended:void 0,error:void 0,event:void 0,expected_length:void 0,fbls_to_ply_dis_ms:void 0,initiator:void 0,is_drm:void 0,is_live:void 0,is_muted:void 0,is_online:void 0,is_p2p_playback:void 0,is_page_visible:void 0,is_prefetch:void 0,is_ring_buffer_sample:void 0,is_servable_via_fbms:void 0,is_templated_manifest:void 0,is_latency_catchup_enabled:void 0,last_buffered_end:void 0,last_buffered_start:void 0,last_buffering_event_end_time:void 0,last_buffering_event_start_time:void 0,last_playing_event_time:void 0,length:void 0,livehead_delta:void 0,livehead_seq_num_header:void 0,livehead_seq_num_mpd:void 0,logical_cpu_count:void 0,lowest_quality_representation_id:void 0,manifest_type:void 0,mediastream_event_count:void 0,mediasource_previous_duration:void 0,mediasource_new_duration:void 0,one_observed:void 0,one_req_wave:void 0,one_res_wave:void 0,origin_hit_header:void 0,parent_id:void 0,playback_fbms_param:void 0,playback_rate:void 0,player_height:void 0,player_instance_count:void 0,player_origin_caller_specified:void 0,player_suborigin:void 0,player_version:void 0,player_width:void 0,player_format:void 0,playhead:void 0,preload_time:void 0,previous_representation_id:void 0,priority_float:void 0,proxy_status_header:void 0,reason:void 0,representation_id:void 0,reschedule_count:void 0,resource:void 0,response_time_ms_header:void 0,result:void 0,script_path:void 0,segment_count:void 0,segment_end_time:void 0,segment_start_time:void 0,segment_time_gap:void 0,sequential_id:void 0,session:void 0,state:void 0,stream_switch_reason:void 0,time_between_bytes_max:void 0,time_since_main_thread_available:void 0,time_to_first_byte:void 0,time_to_last_byte:void 0,time_to_request_sent:void 0,time_to_request_start:void 0,total_frames:void 0,type:void 0,update_period:void 0,user_info:void 0,video_duration:void 0,video_id:void 0,video_playback_experience_issue:void 0,was_delayed:void 0,fna_hit_header:void 0,last_video_buffered_end:void 0,last_video_buffered_start:void 0,last_audio_buffered_end:void 0,last_audio_buffered_start:void 0,per_session_sampling_rate:void 0};function l(e){var t=e;return typeof t=="string"&&(t=Number(e)),t!=null&&isFinite(t)?String(Math.floor(t)):null}var s=(function(){function t(){this.$1=babelHelpers.extends({},e)}var n=t.prototype;return n.clear=function(){return this.$1=babelHelpers.extends({},e),this},n.getData=function(){return babelHelpers.extends({},this.$1)},n.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},n.setPerSessionSampleRate=function(t){return this.$1.per_session_sampling_rate=l(t),this},n.setAccessToken=function(t){return this.$1.access_token=t,this},n.setAdditionalBufferedRanges=function(t){return this.$1.additional_buffered_ranges=t,this},n.setAppendTarget=function(t){return this.$1.append_target=l(t),this},n.setAppendedBufferMs=function(t){return this.$1.appended_buffer_ms=l(t),this},n.setBandwidthEstimate=function(t){return this.$1.bandwidth_estimate=l(t),this},n.setClientTimeBegin=function(t){return this.$1.client_time_begin=l(t),this},n.setClientTimeDuration=function(t){return this.$1.client_time_duration=l(t),this},n.setClientTimeEnd=function(t){return this.$1.client_time_end=l(t),this},n.setCode=function(t){return this.$1.code=l(t),this},n.setConcluder=function(t){return this.$1.concluder=t,this},n.setConnectionQualityLevel=function(t){return this.$1.connection_quality_level=t,this},n.setContentLengthHeader=function(t){return this.$1.content_length_header=l(t),this},n.setDevicePixelRatioFloat=function(t){return this.$1.device_pixel_ratio_float=t,this},n.setDroppedFrames=function(t){return this.$1.dropped_frames=l(t),this},n.setDynamicBitrate=function(t){return this.$1.dynamic_bitrate=l(t),this},n.setFNAHitHeader=function(t){return this.$1.fna_hit_header=t,this},n.setEdgeHitHeader=function(t){return this.$1.edge_hit_header=t,this},n.setEnded=function(t){return this.$1.ended=t,this},n.setError=function(t){return this.$1.error=t,this},n.setEvent=function(t){return this.$1.event=t,this},n.setExpectedLength=function(t){return this.$1.expected_length=l(t),this},n.setFblsToPlyDisMs=function(t){return this.$1.fbls_to_ply_dis_ms=l(t),this},n.setPreferredEdgeLatency=function(t){return this.$1.preferred_edge_latency=l(t),this},n.setInitiator=function(t){return this.$1.initiator=t,this},n.setIsDrm=function(t){return this.$1.is_drm=t,this},n.setIsLive=function(t){return this.$1.is_live=t,this},n.setIsMuted=function(t){return this.$1.is_muted=t,this},n.setIsOnline=function(t){return this.$1.is_online=t,this},n.setIsP2pPlayback=function(t){return this.$1.is_p2p_playback=t,this},n.setIsPageVisible=function(t){return this.$1.is_page_visible=t,this},n.setIsPrefetch=function(t){return this.$1.is_prefetch=t,this},n.setIsRingBufferSample=function(t){return this.$1.is_ring_buffer_sample=t,this},n.setIsServableViaFbms=function(t){return this.$1.is_servable_via_fbms=t,this},n.setIsTemplatedManifest=function(t){return this.$1.is_templated_manifest=t,this},n.setIsLatencyCachupEnabled=function(t){return this.$1.is_latency_catchup_enabled=t,this},n.setPlayerFormat=function(t){return this.$1.player_format=t,this},n.setLastBufferedEnd=function(t){return this.$1.last_buffered_end=l(t),this},n.setLastBufferedStart=function(t){return this.$1.last_buffered_start=l(t),this},n.setLastBufferingEventEndTime=function(t){return this.$1.last_buffering_event_end_time=l(t),this},n.setLastBufferingEventStartTime=function(t){return this.$1.last_buffering_event_start_time=l(t),this},n.setLastPlayingEventTime=function(t){return this.$1.last_playing_event_time=l(t),this},n.setLength=function(t){return this.$1.length=l(t),this},n.setLiveheadDelta=function(t){return this.$1.livehead_delta=l(t),this},n.setLiveheadSeqNumHeader=function(t){return this.$1.livehead_seq_num_header=l(t),this},n.setLiveheadSeqNumMpd=function(t){return this.$1.livehead_seq_num_mpd=l(t),this},n.setLogicalCpuCount=function(t){return this.$1.logical_cpu_count=l(t),this},n.setLowestQualityRepresentationID=function(t){return this.$1.lowest_quality_representation_id=t,this},n.setManifestType=function(t){return this.$1.manifest_type=t,this},n.setIsMixedCodecManifest=function(t){return this.$1.is_mixed_codec_manifest=t,this},n.setMediastreamEventCount=function(t){return this.$1.mediastream_event_count=l(t),this},n.setMediaSourceNewDuration=function(t){return this.$1.mediasource_new_duration=t,this},n.setMediaSourcePreviousDuration=function(t){return this.$1.mediasource_previous_duration=t,this},n.setOneObserved=function(t){return this.$1.one_observed=t,this},n.setOneReqWave=function(t){return this.$1.one_req_wave=l(t),this},n.setOneResWave=function(t){return this.$1.one_res_wave=l(t),this},n.setOriginHitHeader=function(t){return this.$1.origin_hit_header=t,this},n.setParentID=function(t){return this.$1.parent_id=l(t),this},n.setPlaybackFbmsParam=function(t){return this.$1.playback_fbms_param=t,this},n.setPlaybackRate=function(t){return this.$1.playback_rate=t,this},n.setPlayerHeight=function(t){return this.$1.player_height=l(t),this},n.setPlayerInstanceCount=function(t){return this.$1.player_instance_count=l(t),this},n.setPlayerOriginCallerSpecified=function(t){return this.$1.player_origin_caller_specified=t,this},n.setPlayerSuborigin=function(t){return this.$1.player_suborigin=t,this},n.setPlayerVersion=function(t){return this.$1.player_version=t,this},n.setPlayerWidth=function(t){return this.$1.player_width=l(t),this},n.setPlayhead=function(t){return this.$1.playhead=l(t),this},n.setPreloadTime=function(t){return this.$1.preload_time=l(t),this},n.setPreviousRepresentationID=function(t){return this.$1.previous_representation_id=t,this},n.setPriorityFloat=function(t){return this.$1.priority_float=t,this},n.setProxyStatusHeader=function(t){return this.$1.proxy_status_header=t,this},n.setPushed=function(t){return this},n.setReason=function(t){return this.$1.reason=t,this},n.setRepresentationID=function(t){return this.$1.representation_id=t,this},n.setRescheduleCount=function(t){return this.$1.reschedule_count=l(t),this},n.setResource=function(t){return this.$1.resource=t,this},n.setResponseTimeMsHeader=function(t){return this.$1.response_time_ms_header=l(t),this},n.setResult=function(t){return this.$1.result=t,this},n.setScriptPath=function(t){return this.$1.script_path=t,this},n.setSegmentCount=function(t){return this.$1.segment_count=l(t),this},n.setSegmentEndTime=function(t){return this.$1.segment_end_time=l(t),this},n.setSegmentStartTime=function(t){return this.$1.segment_start_time=l(t),this},n.setSegmentTimeGap=function(t){return this.$1.segment_time_gap=l(t),this},n.setSequentialID=function(t){return this.$1.sequential_id=l(t),this},n.setSession=function(t){return this.$1.session=t,this},n.setState=function(t){return this.$1.state=t,this},n.setStreamSwitchReason=function(t){return this.$1.stream_switch_reason=t,this},n.setTimeBetweenBytesMax=function(t){return this.$1.time_between_bytes_max=l(t),this},n.setTimeSinceMainThreadAvailable=function(t){return this.$1.time_since_main_thread_available=l(t),this},n.setTimeToFirstByte=function(t){return this.$1.time_to_first_byte=l(t),this},n.setTimeToLastByte=function(t){return this.$1.time_to_last_byte=l(t),this},n.setTimeToRequestSent=function(t){return this.$1.time_to_request_sent=l(t),this},n.setTimeToRequestStart=function(t){return this.$1.time_to_request_start=l(t),this},n.setTotalFrames=function(t){return this.$1.total_frames=l(t),this},n.setType=function(t){return this.$1.type=t,this},n.setUpdatePeriod=function(t){return this.$1.update_period=l(t),this},n.setUserInfo=function(t){return this.$1.user_info=t,this},n.setVideoDuration=function(t){return this.$1.video_duration=l(t),this},n.setVideoID=function(t){return this.$1.video_id=t,this},n.setVideoPlaybackExperienceIssue=function(t){return this.$1.video_playback_experience_issue=t,this},n.setWasDelayed=function(t){return this.$1.was_delayed=t,this},n.setDynamicStatusHeader=function(t){return this.$1.dynamic_status_header=t,this},n.setLastAudioBufferedEnd=function(t){return this.$1.last_audio_buffered_end=l(t),this},n.setLastAudioBufferedStart=function(t){return this.$1.last_audio_buffered_start=l(t),this},n.setLastVideoBufferedEnd=function(t){return this.$1.last_video_buffered_end=l(t),this},n.setLastVideoBufferedStart=function(t){return this.$1.last_video_buffered_start=l(t),this},t})();i.convertToInt64=l,i.VideoPlayerDashPerformanceLoggerPayloadBuilder=s}),66);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerDashPerformanceLoggerEventFalcoEvent","VideoPlayerDashPerformanceLoggerPayloadBuilder","VideoPlayerShakaPerformanceLoggerConfig","clearTimeout","gkx","qex","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=999,u=(e=r("qex")._("2104"))!=null?e:12e4,c=[],d=0,m=!1,p=!1,_=null,f=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e),t.isEnabled=function(){return t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5()||t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6()},t.disable=function(){m=!1},t.enable=function(){m=!0},t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7=function(n){var e=c[n];if(e!=null){var r=new t;r.updateData(e).log()}},t.flushQueuedLogs=function(){if(d=d>s?0:d,!t.isEnabled()){p=!0,t.enable();for(var e=d;e<=s;++e)t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(e);for(var n=0;n<d;++n)t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(n);c=[],d=0}p&&(_!=null&&r("clearTimeout")(_),_=r("setTimeout")(function(){_=null,p=!1,t.disable()},u))},t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5=function(){return o("VideoPlayerShakaPerformanceLoggerConfig").isSampled},t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6=function(){return m};var n=t.prototype;return n.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8=function(){p&&this.setIsRingBufferSample(!0),this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9()},n.log=function(){t.isEnabled()||(this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4||0)>0?this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8():r("gkx")("26220")&&(d=d>s?0:d,c[d++]=this.getData())},n.setPerSessionSampleRate=function(n){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4=n,e.prototype.setPerSessionSampleRate.call(this,n)},n.setState=function(n){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1=n,e.prototype.setState.call(this,n)},n.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1},n.setType=function(n){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3=n,e.prototype.setType.call(this,n)},n.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3},n.setIsRingBufferSample=function(n){return e.prototype.setIsRingBufferSample.call(this,n),this},n.setSequentialID=function(n){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2=n,e.prototype.setSequentialID.call(this,n),this},n.setParentLogger=function(t){return this.setParentID(t.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2),this},n.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9=function(){var e=this;r("VideoPlayerDashPerformanceLoggerEventFalcoEvent").log(function(){return e.getData()})},t})(o("VideoPlayerDashPerformanceLoggerPayloadBuilder").VideoPlayerDashPerformanceLoggerPayloadBuilder);l.default=f}),98);
__d("InstreamVideoAdBreaksPlayerDeferred.react",["deferredLoadComponent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferred")("InstreamVideoAdBreaksPlayerImpl.react").__setRef("InstreamVideoAdBreaksPlayerDeferred.react"));l.default=e}),98);
__d("InstreamVideoAdBreaksPlayerImpl_adBreaks$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"instream_placement",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"InstreamVideoAdBreaksPlayerImpl_adBreaks$normalization",selections:[{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"mid_rolls",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"time_offset_in_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"pre_roll",plural:!1,selections:[e,t],storageKey:null}]}})();a.exports=e}),null);
__d("ShakaConstants",[],(function(t,n,r,o,a,i){var e={abort_loading_delay:2e4,abr_abort_on_zero_stream_progress_below_threshold:-1,abr_abort_when_fetch_estimate_exceeds_buffer_factor:0,abr_abort_when_fetch_estimate_exceeds_time:0,append_window_end_fudge_factor:0,audio_request_pipeline_max_concurrent_requests:1,audio_request_pipeline_soothing_factor:1,audio_video_buffer_diff_threshold:14400,autoplay_start_video_interval:200,back_off_buffering_overflow_max:5,back_off_buffering_overflow_time_factor:2,back_off_buffering_overflow_time_window:2e3,bandwidth_downgrade_target:.9,bandwidth_penalty_decay_per_video:1,bandwidth_standard_deviation_penalty_factor:.1,buffer_downgrade_threshold:10,buffer_replacement_ahead_threshold:15,buffer_replacement_behind_threshold:5,buffer_target:-1,buffer_target_overflow_upgrade_aggressiveness:1,buffer_target_underflow_upgrade_aggressiveness:1,buffer_velocity_time_in_past_to_consider:0,buffering_count_threshold:5,buffering_spinner_delay_ms:0,buffering_underflow_threshold:.05,clear_buffer_on_constraint_change_offset:5,clear_buffer_on_constraint_change_paused_offset:5,clear_buffer_on_seek_back_delta:0,decouple_stream_on_update_loop_from_request_loop_int:0,fast_moving_average_half_life:3,frame_drop_penalty_factor:0,frame_drop_penalty_minimum_frame_count:0,global_scheduler_priority_downgrade_bufferahead_threshold:0,global_scheduler_priority_threshold:6,hvq_inline_upgrade_aggressiveness:1,hvq_upgrade_aggressiveness:1,initial_stream_buffer_size_for_blocked_autoplay:5.9335983320607,initial_stream_buffer_size_for_video_stream:0,jump_to_live_threshold:.5,live_bandwidth_downgrade_target:1,live_bitrate_estimates_half_life:1,live_bitrate_estimates_large_sample_weight_factor:10,live_bitrate_estimates_minimum_sample_count:1,live_buffering_underflow_threshold:.5,live_data_fetch_max_retries:0,live_dynamic_stream_buffer_size:12,live_hvq_inline_upgrade_aggressiveness:1,live_hvq_upgrade_aggressiveness:1,live_interruption_consecutive_updates_with_change:3,live_interruption_consecutive_updates_without_change:5,live_max_manifest_fetches_with_push:1,live_max_segments_to_push:1,live_playhead_idle_all_stream_threshold:4,live_playhead_idle_single_stream_threshold:5,live_pre_hvq_inline_upgrade_aggressiveness:1,live_pre_hvq_upgrade_aggressiveness:1,live_predictive_abr_down_buffer:5e3,live_predictive_abr_floor_swich_lanes:-2,live_predictive_abr_floor_ttfb_ratio:5,live_predictive_abr_ttfb_ratio:1.8,live_predictive_abr_up_buffer:9e3,live_predictive_abr_up_retry_interval:3e4,live_rewind_templated_last_x_segments_only:0,live_source_buffer_clear_max_retries:0,live_stream_end_slack:.5,live_stream_end_timeout:6e4,living_room_play_x_milliseconds_before_seek:0,living_room_playhead_catchup_interval:0,local_bitrate_segments_ahead:10,logging_log_event_limit:1e3,low_buffer_velocity_abr_interval:500,low_buffer_velocity_abr_interval_buffer_threshold:10,low_buffer_velocity_threshold:0,low_pri_task_min_bytes_to_yield:0,low_pri_task_yield_check_interval:0,low_pri_task_yields_per_task:0,max_bandwidth_update_interval:0,max_network_interrupted_time_before_seek:1e4,max_prefetch_request_num:0,max_prefetch_videos_num:2,max_recent_bandwidth_samples:25,maximum_bandwidth_bitrate_ratio:1.5,maximum_mos_to_decrease:3,min_mpd_refresh_interval:1e3,min_sample_count:1e4,minimum_sample_count_to_use_deviation_penalty:2,minimum_sample_count_to_use_new_estimator:0,minimum_samples_to_use_neural_estimate:1,minimum_weight_to_trust_local_bandwidth_estimate:.5,multiple_videos_queue_penalty_start_count:2,neural_estimate_weight:0,new_estimator_half_life:5,new_estimator_standard_deviation_exclusion_factor:2,pending_seek_while_playing_delay:2e3,pending_seek_while_playing_offset_from_livehead:4e3,playhead_fragmented_gap_diff_allowance:.1,pre_hvq_inline_upgrade_aggressiveness:1,pre_hvq_upgrade_aggressiveness:1,priority_precision:1,recursive_native_settimeout_delay:-1,recursive_ric_timeout:17,request_bounded_animation_frame_bound:50,request_pipeline_max_concurrent_requests:2,request_pipeline_soothing_factor:2,request_pipeline_timeout_ms:0,resolution_constraint_max_height:0,resolution_constraint_max_width:0,ric_autoplay_bound:50,rl_bandwidth_scale:1e6,rl_bitrate_reward:1,rl_buffer_scale:10,rl_max_number_of_bitrates:10,rl_model_id:0,rl_playback_scale:2e5,rl_request_timeout:1e3,rl_stall_count_penalty:30,rl_stall_time_penalty:0,rl_watch_time_reward:0,scheduled_videos_start_stream_buffer_size_threshold:0,scheduler_priority_update_interval:1e3,settimeout_polling_delay:17,shaka_default_ajax_request_timeout_ms:0,shaka_default_request_timeout_timescale:1e3,skip_manifest_gap_boundary_precision_ms:1e3,slow_moving_average_half_life:10,stream_maximum_onpause_buffer_size_multiplier:0,stream_onupdate_sampling:0,streaming_append_per_segment:3,templated_adjust_stream_limits_start_offset:0,templated_adjust_stream_limits_start_offset_int:10,templated_chunked_segment_update_limit_int:10,templated_ingest_throttle:0,templated_jump_to_live_sidx_end_offset:0,templated_quarantine_idle_references_threshold:0,templated_use_perf_test_segment_index_base_int:0,video_dash_prefetch_cache_retention_duration_ms:5e3},l={block_play_request_http_status_list:"410",defer_which_video_to_abort_loading_decisioning_logic:"live",feature_param:"",live_abr_audio_push_representation:"live-md-a",live_abr_initial_push_representation:"live-md-v",rl_smc_tier:"repomen_1",segment_update_helper_splice_path_entity_key:"",templated_perf_test_methods_under_test_csv_string:"all"},s={numbers:e,strings:l};i.default=s}),66);
__d("VideoPlayerMainThreadAvailability",["ShakaConstants","Visibility","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s=window.__fbNativeSetTimeout,u=t.__fbNativeClearTimeout,c=window.requestIdleCallback,d=window.cancelIdleCallback,m=function(t,n){var e=function(){t(e,n)};return e},p=(function(){function t(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var n=t.prototype;return n.enable=function(){this.$1||!this.$5()||(this.$6(),this.$7(),this.$1=!0)},n.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(e||(e=r("performanceNow")))()-Number(this.$2):null},n.$8=function(){this.$2=r("Visibility").isHidden()?null:(e||(e=r("performanceNow")))()},n.$9=function(){this.$2=null,typeof this.$4=="number"&&(d(this.$4),this.$4=null),typeof this.$3=="number"&&(u(this.$3),this.$3=null)},n.$7=function(){this.$10()},n.$6=function(){var e=this,t;(t=r("Visibility")).addListener(t.VISIBLE,function(){e.$9(),e.$7()}),t.addListener(t.HIDDEN,function(){e.$9()})},n.$10=function(){var e=this,t=r("ShakaConstants").numbers.settimeout_polling_delay;if(t>-1){var n=function(){e.$8(),e.$3=s(n,t)};s(n,t)}},n.$5=function(){return r("Visibility").isSupported()&&typeof c=="function"&&typeof d=="function"&&typeof s=="function"&&typeof u=="function"},n.maybeEnablePerformanceTest=function(){var e,t,n=r("ShakaConstants").numbers.recursive_ric_timeout;n>-1&&(t={timeout:n});var o=r("ShakaConstants").numbers.recursive_native_settimeout_delay;o>-1&&typeof s=="function"&&(e=m(s,o)),e&&e()},t})(),_=new p;l.default=_}),98);
__d("VideoPlayerScrubberDefaultPreview_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberDefaultPreview_video",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerScrubberDefaultPreview.react",["CometRelay","VideoPlayerHooks","VideoPlayerScrubberDefaultPreview_video.graphql","VideoPlayerTimeIndicator.react","cr:6885","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=.1,m=60,p=120;function _(e,t,n,r,o,a){var i=n*t,l=Math.floor(e%i/t),s=Math.floor(l/r),u=l%r,c=u*o,d=s*a,m=Math.floor(e/i);return{spriteIndex:m,spriteX:c,spriteY:d}}function f(t){var a,i=o("react-compiler-runtime").c(48),l=t.timestampSec,s=t.video,f=(u||(u=o("VideoPlayerHooks"))).useDimensions(),g=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerScrubberDefaultPreview_video.graphql"),s),h=g==null||(a=g.video)==null?void 0:a.scrubber_preview_thumbnail_information,y=h==null?void 0:h.sprite_uris,C=h==null?void 0:h.thumbnail_width,b=h==null?void 0:h.thumbnail_height,v=h==null?void 0:h.has_preview_thumbnails,S=h==null?void 0:h.num_images_per_row,R=h==null?void 0:h.max_number_of_images_per_sprite,L=h==null?void 0:h.time_interval_between_image;if(y==null||C==null||b==null||v==null||S==null||R==null||L==null||!v){var E;return i[0]!==l?(E=c.jsx(r("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:l}),i[0]=l,i[1]=E):E=i[1],E}var k;i[2]!==R||i[3]!==S||i[4]!==b||i[5]!==C||i[6]!==L||i[7]!==l?(k=_(l,L,R,S,C,b),i[2]=R,i[3]=S,i[4]=b,i[5]=C,i[6]=L,i[7]=l,i[8]=k):k=i[8];var I=k,T=I.spriteIndex,D=I.spriteX,x=I.spriteY,$=y[T];if($==null||$===""){var P;return i[9]!==l?(P=c.jsx(r("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:l}),i[9]=l,i[10]=P):P=i[10],P}var N=C/b,M=f==null?m:Math.max(m,Math.min(p,f.height*d)),w=M*N;if(n("cr:6885")!=null){var A;i[11]===Symbol.for("react.memo_cache_sentinel")?(A="x4n7ey xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x4p5aij x1ccui7m x1j85h84 x18pi947 x1n2onr6",i[11]=A):A=i[11];var F=-w/2,O;i[12]!==M||i[13]!==w||i[14]!==F?(O={height:M,left:F,width:w},i[12]=M,i[13]=w,i[14]=F,i[15]=O):O=i[15];var B;i[16]!==M||i[17]!==w||i[18]!==$||i[19]!==D||i[20]!==x||i[21]!==b||i[22]!==C?(B=c.jsx(n("cr:6885"),{previewHeight:M,previewWidth:w,spriteURI:$,spriteX:D,spriteY:x,thumbnailHeight:b,thumbnailWidth:C}),i[16]=M,i[17]=w,i[18]=$,i[19]=D,i[20]=x,i[21]=b,i[22]=C,i[23]=B):B=i[23];var W;i[24]!==l?(W=c.jsx(r("VideoPlayerTimeIndicator.react"),{timestampSec:l}),i[24]=l,i[25]=W):W=i[25];var q;return i[26]!==O||i[27]!==B||i[28]!==W?(q=c.jsxs("div",{className:A,style:O,children:[B,W]}),i[26]=O,i[27]=B,i[28]=W,i[29]=q):q=i[29],q}else{var U=b/M,V="url("+$+")",H="-"+D/U+"px -"+x/U+"px",G;i[30]!==M||i[31]!==w||i[32]!==V||i[33]!==H?(G={backgroundImage:V,backgroundPosition:H,backgroundSize:"1000% 1000%",borderRadius:4,height:M,width:w},i[30]=M,i[31]=w,i[32]=V,i[33]=H,i[34]=G):G=i[34];var z=G,j=-w/2,K;i[35]!==M||i[36]!==w||i[37]!==j?(K={height:M,left:j,width:w},i[35]=M,i[36]=w,i[37]=j,i[38]=K):K=i[38];var Q=K,X;i[39]===Symbol.for("react.memo_cache_sentinel")?(X="x4n7ey xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x4p5aij x1ccui7m x1j85h84 x18pi947 x1n2onr6",i[39]=X):X=i[39];var Y;i[40]!==z?(Y=c.jsx("div",{style:z}),i[40]=z,i[41]=Y):Y=i[41];var J;i[42]!==l?(J=c.jsx(r("VideoPlayerTimeIndicator.react"),{timestampSec:l}),i[42]=l,i[43]=J):J=i[43];var Z;return i[44]!==Q||i[45]!==Y||i[46]!==J?(Z=c.jsxs("div",{className:X,style:Q,children:[Y,J]}),i[44]=Q,i[45]=Y,i[46]=J,i[47]=Z):Z=i[47],Z}}l.default=f}),98);
__d("VideoPlayerScrubberDefaultPreview_video$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"SplitOperation",metadata:{},name:"VideoPlayerScrubberDefaultPreview_video$normalization",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};a.exports=e}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.cloneContext=function(){var e=this.createLoggerProvider();return this.$11(e),e},t.setType=function(t){return this.$1=t,this},t.setInitiator=function(t){return this.$2=t,this},t.setResource=function(t){return this.$4=t,this},t.setRepresentationID=function(t){return this.$3=t,this},t.setSegmentStartTime=function(t){return this.$5=t,this},t.setSegmentEndTime=function(t){return this.$6=t,this},t.setStreamSwitchReason=function(t){return this.$7=t,this},t.setIsP2pPlayback=function(t){return this.$8=t,this},t.setIsRingBufferSample=function(t){return this.$9=t,this},t.setPerSessionSampleRate=function(t){return this.$10=t,this},t.getType=function(){return this.$1},t.getInitiator=function(){return this.$2},t.getRepresentationID=function(){return this.$3},t.getStreamSwitchReason=function(){return this.$7},t.getResource=function(){return this.$4},t.getSegmentStartTime=function(){return this.$5},t.getSegmentEndTime=function(){return this.$6},t.getIsP2pPlayback=function(){return this.$8},t.getIsRingBufferSample=function(){return this.$9},t.getOperationLogger=function(t){var e=this.createOperationLogger(t);return this.setOperationContext(e)},t.setOperationContext=function(t){return this.$11(t),t},t.createOperationLogger=function(t){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})},t.createLoggerProvider=function(){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})},t.$11=function(t){this.getType()&&t.setType(this.getType()),this.getInitiator()&&t.setInitiator(this.getInitiator()),this.getResource()&&t.setResource(this.getResource()),this.getRepresentationID()&&t.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&t.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()=="number"&&t.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()=="number"&&t.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()=="boolean"&&t.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()=="boolean"&&t.setIsRingBufferSample(this.getIsRingBufferSample())},e})();l.default=e}),98);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","gkx","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzErrorUtils","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e=3e5,s=200,u=4;r("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();var c=!1,d=(function(t){function n(e){var r,o,a,i;return i=t.call(this)||this,i.$VideoPlayerShakaPerformanceLogger$p_13=!1,i.$VideoPlayerShakaPerformanceLogger$p_14=!0,i.$VideoPlayerShakaPerformanceLogger$p_26=0,i.$VideoPlayerShakaPerformanceLogger$p_27=0,i.$VideoPlayerShakaPerformanceLogger$p_28=[],i.$VideoPlayerShakaPerformanceLogger$p_38=new Map,i.$VideoPlayerShakaPerformanceLogger$p_25=e,i.$VideoPlayerShakaPerformanceLogger$p_2=e.videoID,i.$VideoPlayerShakaPerformanceLogger$p_4=e.video,i.$VideoPlayerShakaPerformanceLogger$p_1=e.uniqueID,i.$VideoPlayerShakaPerformanceLogger$p_3=0,i.$VideoPlayerShakaPerformanceLogger$p_11=e.isLive,i.$VideoPlayerShakaPerformanceLogger$p_12=e.isServableViaFbms,i.$VideoPlayerShakaPerformanceLogger$p_9=null,i.$VideoPlayerShakaPerformanceLogger$p_15=e.accessToken,i.$VideoPlayerShakaPerformanceLogger$p_16=e.playerOrigin,i.$VideoPlayerShakaPerformanceLogger$p_17=e.playerSuborigin,i.$VideoPlayerShakaPerformanceLogger$p_18=e.playerVersion,i.$VideoPlayerShakaPerformanceLogger$p_29=e.getBandwidthEstimate,i.$VideoPlayerShakaPerformanceLogger$p_30=(r=e.getPlayerDimensions)!=null?r:null,i.$VideoPlayerShakaPerformanceLogger$p_31=(o=e.getPlayerFormat)!=null?o:null,i.setRepresentationID(e.representationId),i.$VideoPlayerShakaPerformanceLogger$p_33=e.isDrm,i.$VideoPlayerShakaPerformanceLogger$p_35={},i.$VideoPlayerShakaPerformanceLogger$p_36=(a=e.playerInstanceCount)!=null?a:null,n.maybeEnableMainThreadAvailabilityLogging(),i}babelHelpers.inheritsLoose(n,t),n.forceShouldSample=function(){c=!0,r("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable()},n.shouldInitialize=function(){return c||!!o("VideoPlayerShakaPerformanceLoggerConfig").isSampled||r("gkx")("26220")},n.flushQueuedLogs=function(){r("ExtendableVideoPlayerShakaPerformanceTypedLogger").flushQueuedLogs()},n.setVideoPlaybackExperienceIssue=function(t){n.$VideoPlayerShakaPerformanceLogger$p_32=t},n.isEnabled=function(){return r("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()},n.maybeEnableMainThreadAvailabilityLogging=function(){o("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&r("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&r("VideoPlayerMainThreadAvailability").enable()};var a=n.prototype;return a.$VideoPlayerShakaPerformanceLogger$p_39=function(t){var e=null;try{e=t.getBuffered()}catch(e){}if(e!=null&&e.length>0){var n=e.length-1;return{lastBufferedStart:Math.round(e.start(n)*1e3),lastBufferedEnd:Math.round(e.end(n)*1e3)}}return null},a.$VideoPlayerShakaPerformanceLogger$p_40=function(t){var e=t,n=this.$VideoPlayerShakaPerformanceLogger$p_4.buffered;if(n.length>0){var r=n.length-1;e=e.setLastBufferedStart(Math.round(n.start(r)*1e3)).setLastBufferedEnd(Math.round(n.end(r)*1e3))}for(var o=[],a=0;a<n.length-1;a++){var i=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.start(a)*1e3),l=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.end(a)*1e3);o.push([i,l])}o.length&&(e=e.setAdditionalBufferedRanges(JSON.stringify(o)));var s=this.$VideoPlayerShakaPerformanceLogger$p_38.get("audio");if(s!=null){var u=this.$VideoPlayerShakaPerformanceLogger$p_39(s);u!=null&&(e=e.setLastAudioBufferedStart(u.lastBufferedStart).setLastAudioBufferedEnd(u.lastBufferedEnd))}var c=this.$VideoPlayerShakaPerformanceLogger$p_38.get("video");if(c!=null){var d=this.$VideoPlayerShakaPerformanceLogger$p_39(c);d!=null&&(e=e.setLastVideoBufferedStart(d.lastBufferedStart).setLastVideoBufferedEnd(d.lastBufferedEnd))}return e},a.setType=function(t){return this.$VideoPlayerShakaPerformanceLogger$p_24=t,this},a.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger$p_25)},a.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger$p_9?Math.round((this.$VideoPlayerShakaPerformanceLogger$p_9-this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime)*1e3):null},a.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger$p_2},a.setIsTemplatedManifest=function(t){this.$VideoPlayerShakaPerformanceLogger$p_13=t},a.setMediaSourceSourceBuffer=function(t,n){return this.$VideoPlayerShakaPerformanceLogger$p_38.set(t,n),this},a.unsetMediaSourceSourceBuffers=function(){return this.$VideoPlayerShakaPerformanceLogger$p_38.clear(),this},a.addToLastErrorQueue=function(t){this.$VideoPlayerShakaPerformanceLogger$p_28.push(t),this.$VideoPlayerShakaPerformanceLogger$p_28.length>u&&this.$VideoPlayerShakaPerformanceLogger$p_28.shift()},a.getEventLogger=function(t){var e=this,a=Date.now(),i=new(r("ExtendableVideoPlayerShakaPerformanceTypedLogger")),l=this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime,s=this.$VideoPlayerShakaPerformanceLogger$p_4.duration,u=this.$VideoPlayerShakaPerformanceLogger$p_29(this.$VideoPlayerShakaPerformanceLogger$p_11),c=this.$VideoPlayerShakaPerformanceLogger$p_25.getApproximateFBLSToPlayerDisplayLatency(),d=this.$VideoPlayerShakaPerformanceLogger$p_30?this.$VideoPlayerShakaPerformanceLogger$p_30():null;switch(this.$VideoPlayerShakaPerformanceLogger$p_40(i).setEvent(t).setVideoID(this.$VideoPlayerShakaPerformanceLogger$p_2).setDroppedFrames(o("VideoPlaybackQuality").getDroppedFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setTotalFrames(o("VideoPlaybackQuality").getTotalFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setEnded(this.$VideoPlayerShakaPerformanceLogger$p_4.ended).setIsMuted(this.$VideoPlayerShakaPerformanceLogger$p_4.muted).setPlaybackRate(this.$VideoPlayerShakaPerformanceLogger$p_4.playbackRate).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger$p_23).setPlayhead(Math.round(l*1e3)).setVideoDuration(Math.round(s*1e3)).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger$p_16).setScriptPath(o("ScriptPath").getScriptPath()).setPlayerHeight(d?d.height:null).setPlayerWidth(d?d.width:null).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger$p_17).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger$p_18).setPlayerFormat(this.$VideoPlayerShakaPerformanceLogger$p_31?this.$VideoPlayerShakaPerformanceLogger$p_31():null).setBandwidthEstimate(u==null?null:Math.round(u)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger$p_22).setIsLive(this.$VideoPlayerShakaPerformanceLogger$p_11).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger$p_12).setPlaybackFbmsParam(this.$VideoPlayerShakaPerformanceLogger$p_37).setIsPageVisible(!r("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger$p_13).setSession(this.$VideoPlayerShakaPerformanceLogger$p_1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger$p_20).setIsMixedCodecManifest(this.$VideoPlayerShakaPerformanceLogger$p_21).setLiveheadSeqNumMpd(this.$VideoPlayerShakaPerformanceLogger$p_10).setSequentialID(this.$VideoPlayerShakaPerformanceLogger$p_3++).setState(this.$VideoPlayerShakaPerformanceLogger$p_5).setLastBufferingEventStartTime(this.$VideoPlayerShakaPerformanceLogger$p_8).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger$p_7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger$p_6).setLiveheadDelta(this.getLiveheadDelta()).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger$p_15).setVideoPlaybackExperienceIssue(n.$VideoPlayerShakaPerformanceLogger$p_32).setClientTimeBegin(a).setClientTimeDuration(0).setClientTimeEnd(a).setIsDrm(this.$VideoPlayerShakaPerformanceLogger$p_33).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger$p_36).setFblsToPlyDisMs((c==null?void 0:c.latencyFromMpdUpdate)!=null?Math.round(c.latencyFromMpdUpdate*1e3):null).setPreferredEdgeLatency(this.$VideoPlayerShakaPerformanceLogger$p_19).setPerSessionSampleRate(this.$VideoPlayerShakaPerformanceLogger$p_25.perSessionSampleRate).setIsLatencyCachupEnabled(this.$VideoPlayerShakaPerformanceLogger$p_14).setIsOnline(this.$VideoPlayerShakaPerformanceLogger$p_34),t){case"buffering":case"buffering_timeout":case"enter_buffering":case"unload":i.setError(this.$VideoPlayerShakaPerformanceLogger$p_28.join(" | "))}switch(t){case"leave_buffering":case"playing":this.$VideoPlayerShakaPerformanceLogger$p_28=[]}var m=this,p=i.setState;i.setState=function(e){var t=this;return e!==m.$VideoPlayerShakaPerformanceLogger$p_5&&e==="playing"?m.$VideoPlayerShakaPerformanceLogger$p_6=Date.now():e!=="playing"&&(m.$VideoPlayerShakaPerformanceLogger$p_6=null),m.$VideoPlayerShakaPerformanceLogger$p_5=e,p.call(this,e)},i.updateState=function(e){return this.getState()==m.$VideoPlayerShakaPerformanceLogger$p_5?this.setState(e):this};var _=i.setError;i.setError=function(e){if(typeof e=="object"&&e!=null)if(o("oz-player/utils/OzErrorUtils").isOzError(e))this.setResult("failed"),this.setCode(e.getExtra().code),m.addToLastErrorQueue(e.getType()),_.call(this,e.getType());else{if(e.type==="aborted"||e.type==="delay")this.setResult("aborted");else if(e.type==="paused")this.setResult("paused");else if(this.setResult("failed"),e.type!=null&&e.type!=="")m.addToLastErrorQueue(e.type),_.call(this,e.type);else{var t=function(t){return t.replace(/([0-9]{2,})/g,function(e){for(var t="";t.length<e.length;)t+="#";return t})},n=t(e.name+": "+e.message);m.addToLastErrorQueue(n),_.call(this,n)}this.setCode(e.status||e.errorRawTransportStatus)}else e!=null&&m.addToLastErrorQueue(e),_.call(this,e);return this};var f=i.setManifestType;i.setManifestType=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_20=t,f.call(i,t)};var g=i.setIsMixedCodecManifest;i.setIsMixedCodecManifest=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_21=t,g.call(i,t)};var h=i.setPlaybackFbmsParam;i.setPlaybackFbmsParam=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_37=t,h.call(i,t)},i.setLiveheadPosition=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_9=t,i.setLiveheadDelta(e.getLiveheadDelta()),i};var y=i.setLiveheadSeqNumMpd;i.setLiveheadSeqNumMpd=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_10=t,y.call(i,t)};var C=i.setPreferredEdgeLatency;i.setPreferredEdgeLatency=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_19=t,C.call(i,t)};var b=i.setIsTemplatedManifest;i.setIsTemplatedManifest=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_13=t!=null?t:!1,b.call(i,t)};var v=i.setIsLatencyCachupEnabled;i.setIsLatencyCachupEnabled=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_14=t!=null?t:!1,v.call(i,t)};var S=i.setDynamicBitrate;i.setDynamicBitrate=function(t){var n=Number(t)||null;return e.setDynamicBitrate(n),S.call(i,n)};var R=i.setLowestQualityRepresentationID;i.setLowestQualityRepresentationID=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_22=t,R.call(i,t)};var L=i.setIsOnline;return i.setIsOnline=function(t){return e.$VideoPlayerShakaPerformanceLogger$p_34=t,L.call(i,t)},i.setMediaSourceSourceBuffer=function(t,n){return e.setMediaSourceSourceBuffer(t,n),i},i.unsetMediaSourceSourceBuffers=function(){return e.unsetMediaSourceSourceBuffers(),i},i.setWasPrefetchCacheHit=function(e){return i},i},a.getOperationLogger=function(t){var e=this.createOperationLogger(t);return this.setOperationContext(e),e},a.createOperationLogger=function(n){var t=this.getEventLogger(n);t.setClientTimeEnd(null),t.setClientTimeDuration(null);var o=t.setResource;t.setResource=function(e){return o.call(t,e)};var a=t.log,i=this,l=!1,s=null;return t.log=function(){var e=this;if(!l){r("clearTimeout")(s);var t=Date.now(),o=e.getData().client_time_begin,u=e.getData().client_time_end;o=o!=null?Number(o):null,u=u!=null?Number(u):null,(o==null||o===0)&&(o=t,e.setClientTimeBegin(o)),(u==null||u===0)&&(u=t,e.setClientTimeEnd(u)),e.setClientTimeDuration(u-o);var c=r("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();e.setTimeSinceMainThreadAvailable(c!=null?Math.round(c):null),i.$VideoPlayerShakaPerformanceLogger$p_41(c),i.$VideoPlayerShakaPerformanceLogger$p_26=t,n==="buffering"&&(i.$VideoPlayerShakaPerformanceLogger$p_7=u),l=!0;var d=e.getType();return d&&(i.$VideoPlayerShakaPerformanceLogger$p_35[d+n]=(i.$VideoPlayerShakaPerformanceLogger$p_35[d+n]||0)+1,e.setMediastreamEventCount(i.$VideoPlayerShakaPerformanceLogger$p_35[d+n])),a.call(e)}},t.start=function(){var o=Date.now();return this.setClientTimeBegin(o),this.setClientTimeDuration(null),this.setClientTimeEnd(null),r("clearTimeout")(s),s=null,s=r("setTimeoutAcrossTransitions")(function(){r("clearTimeout")(s),s=null,t.setResult("timeout"),t.log()},e),n==="buffering"&&(i.$VideoPlayerShakaPerformanceLogger$p_8=Date.now()),t},t},a.$VideoPlayerShakaPerformanceLogger$p_41=function(t){if(t==null||s===0||this.$VideoPlayerShakaPerformanceLogger$p_26===0||t<s||this.$VideoPlayerShakaPerformanceLogger$p_27<t){this.$VideoPlayerShakaPerformanceLogger$p_27=Number(t);return}var e=this.$VideoPlayerShakaPerformanceLogger$p_26,n=Math.round(e-this.$VideoPlayerShakaPerformanceLogger$p_27);this.getEventLogger("main_thread_blocked").setClientTimeBegin(n).setClientTimeDuration(e-n).setClientTimeEnd(e).log(),this.$VideoPlayerShakaPerformanceLogger$p_27=Number(t)},a.setDynamicBitrate=function(t){this.$VideoPlayerShakaPerformanceLogger$p_23=t!=null?Math.round(t):null},n})(r("oz-player/loggings/OzPerfLoggerProviderBase"));d.$VideoPlayerShakaPerformanceLogger$p_32=null,l.default=d}),98);
__d("VideoPlayerShakaPerformanceLoggerBuilder",["VideoPlayerShakaPerformanceLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e.perSessionSampleRate}var t=e.prototype;return t.build=function(t){return new(r("VideoPlayerShakaPerformanceLogger"))(babelHelpers.extends({},t,{perSessionSampleRate:this.$1}))},e})();l.default=e}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerBuilder_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};a.exports=e}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};a.exports=e}),null);