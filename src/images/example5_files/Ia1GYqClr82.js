;/*FB_PKG_DELIM*/

__d("AggregateError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(n,r){var o,a=r!=null?r:l(n);return o=e.call(this,a)||this,o.name="AggregateError",o.errors=n,o.message=a,Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function l(e){return e.length===0?"No errors":e.length===1?e[0].message:e.map(function(e){return"- "+e.message}).join("\n")}i.default=e}),66);
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("699"),s=o("FalcoLoggerInternal").create("armadillo_cutover_client",e),u=s;l.default=u}),98);
__d("BizCoreFbApPlusMessageButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6143"),s=o("FalcoLoggerInternal").create("biz_core_fb_ap_plus_message_button_click",e),u=s;l.default=u}),98);
__d("BizCoreFbApPlusMessageButtonImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6144"),s=o("FalcoLoggerInternal").create("biz_core_fb_ap_plus_message_button_impression",e),u=s;l.default=u}),98);
__d("ChannelConstants",[],(function(t,n,r,o,a,i){var e="channel/",l={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2e3,MUTE_WARNING_TIME_MSEC:25e3,WARNING_COUNTDOWN_THRESHOLD_MSEC:15e3,ON_SHUTDOWN:e+"shutdown",ON_INVALID_HISTORY:e+"invalid_history",ON_CONFIG:e+"config",ON_ENTER_STATE:e+"enter_state",ON_EXIT_STATE:e+"exit_state",ATTEMPT_RECONNECT:e+"attempt_reconnect",RTI_SESSION:e+"new_rti_address",CONSOLE_LOG:e+"message:console_log",GET_RTI_SESSION_REQUEST:e+"rti_session_request",SKYWALKER:e+"skywalker",CHANNEL_ESTABLISHED:e+"established",OK:"ok",ERROR:"error",ERROR_MAX:"error_max",ERROR_MISSING:"error_missing",ERROR_MSG_TYPE:"error_msg_type",ERROR_SHUTDOWN:"error_shutdown",ERROR_STALE:"error_stale",SYS_OWNER:"sys_owner",SYS_NONOWNER:"sys_nonowner",SYS_ONLINE:"sys_online",SYS_OFFLINE:"sys_offline",SYS_TIMETRAVEL:"sys_timetravel",HINT_AUTH:"shutdown auth",HINT_CONN:"shutdown conn",HINT_DISABLED:"shutdown disabled",HINT_INVALID_STATE:"shutdown invalid state",HINT_MAINT:"shutdown maint",HINT_UNSUPPORTED:"shutdown unsupported",reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,CAPABILITY_ACTIVE_ON_DESKTOP_APP:16384,CAPABILITY_PLAYING_INSTANT_GAME:2097152,SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",FAKE_DFF:"fake_dff",THROTTLED:e+"throttled",JUMPSTART:e+"jumpstart",ENTITY_PRESENCE_ACTIVE_PING:"entity_presence/active_ping",ENTITY_PRESENCE_SKIPPED_PING:"entity_presence/skipped_ping",SUBSCRIPTION_STATE:{SUBSCRIBE:"s",MUTATE_CONTEXT:"m",UNSUBSCRIBE:"u"},DEFAULT_MAX_SUBSCRIPTIONS:300,DEFAULT_EVICTION_BATCH_SIZE:20,DEFAULT_MAX_SUBSCRIPTION_FLUSH_BATCH_SIZE:300,DEFAULT_MAX_CONSECUTIVE_FLUSH_FAILURES:3,getArbiterType:function(n){return e+"message:"+n},getRTISkywalkerArbiterType:function(n,r){return e+"skywalker:"+n+":"+r}};a.exports=l}),null);
__d("CometCastingMiniplayerRoot.react",["CastingContext","CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=r("lazyLoadComponent")(r("JSResourceForInteraction")("CometCastingMiniplayer.react").__setRef("CometCastingMiniplayerRoot.react"));function d(){var e=o("react-compiler-runtime").c(1),t=u(o("CastingContext").CastingStateContext);if(t==null)return null;var n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(c,{})}),e[0]=n):n=e[0],n}l.default=d}),98);
__d("CometFeedHomeTabBadgeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6728"),s=o("FalcoLoggerInternal").create("comet_feed_home_tab_badge",e),u=s;l.default=u}),98);
__d("CometHomeTabBadge.react",["fbt","CometFeedFetchTracker","CometFeedStalenessConstantsEntryPointVariables","CometUserActivityMonitor","CometVisualCompletionAttributes","FDSBadge.react","promiseDone","react","react-compiler-runtime","requireDeferred","useCometRouterState"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p=c.useRef,_=r("requireDeferred")("CometFeedHomeTabBadgeFalcoEvent").__setRef("CometHomeTabBadge.react");function f(e){var t,n=o("react-compiler-runtime").c(27),a=e.testid,i=e.value,l=e.setBadgeCount,c=r("useCometRouterState")(),d=c==null||(t=c.main)==null?void 0:t.route,f=d==null?void 0:d.tracePolicy,g=(d==null?void 0:d.tabKey)==="home",h;n[0]===Symbol.for("react.memo_cache_sentinel")?(h=Date.now(),n[0]=h):h=n[0];var y=p(h),C=p(null),b=p(null),v=p(null),S;n[1]!==l||n[2]!==f?(S=function(t){var e=o("CometFeedFetchTracker").getLastHeadloadTime();r("promiseDone")(_.load().then(function(n){return n.log(function(){return{event_type:"impression",time_since_last_activity:t.toString(),time_since_last_headload:e!=null?(Date.now()-e).toString():null,trace_policy:f}})})),C.current=Date.now(),b.current=f,v.current=t,l==null||l(1)},n[1]=l,n[2]=f,n[3]=S):S=n[3];var R=S,L;n[4]!==l?(L=function(){var e=o("CometFeedFetchTracker").getLastHeadloadTime();r("promiseDone")(_.load().then(function(t){t.log(function(){var t,n;return{event_type:"click",time_since_last_activity:((t=v.current)!=null?t:0).toString(),time_since_last_headload:e!=null?(Date.now()-e).toString():null,time_since_trigger:(Date.now()-((n=C.current)!=null?n:Date.now())).toString(),trace_policy:b.current}})})),l==null||l(0)},n[4]=l,n[5]=L):L=n[5];var E=L,k;n[6]!==g||n[7]!==R?(k=function(){if(!g){var e=o("CometUserActivityMonitor").subscribe(function(e){if(e==="INACTIVE")y.current=Date.now();else if(e==="ACTIVE"){var t=Date.now()-y.current;t>o("CometFeedStalenessConstantsEntryPointVariables").BADGE_STALE_TIMEOUT&&R(t)}});return(function(){return e&&e.remove()})}},n[6]=g,n[7]=R,n[8]=k):k=n[8];var I;n[9]!==g||n[10]!==l||n[11]!==R?(I=[g,l,R],n[9]=g,n[10]=l,n[11]=R,n[12]=I):I=n[12],m(k,I);var T;n[13]!==E||n[14]!==g||n[15]!==i?(T=function(){g&&i>0&&E()},n[13]=E,n[14]=g,n[15]=i,n[16]=T):T=n[16];var D;n[17]!==E||n[18]!==g||n[19]!==l||n[20]!==i?(D=[E,g,l,i],n[17]=E,n[18]=g,n[19]=l,n[20]=i,n[21]=D):D=n[21],m(T,D);var x;n[22]!==i?(x=i>0&&u.jsx(r("FDSBadge.react"),{accessibilityText:s._(/*BTDS*/"New posts"),color:"red"}),n[22]=i,n[23]=x):x=n[23];var $;return n[24]!==x||n[25]!==a?($=u.jsx("div",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE,{"data-testid":void 0,children:x})),n[24]=x,n[25]=a,n[26]=$):$=n[26],$}l.default=f}),226);
__d("CometObjectFitContainerWithMaxHeight.react",["CometObjectFitContainer.react","react","react-compiler-runtime","useCometSize_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=["contentAspectRatio","maxHeight"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(a=t.contentAspectRatio,i=t.maxHeight,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=r("useCometSize_DO_NOT_USE")(),c=s[0],d=s[1],m=a!=null&&isFinite(a)&&a>0?a:1.7777777777777777;if(i!=null&&i>0&&d!=null){var p=d.width/m;p>i&&(m=d.width/i)}var _;return n[4]!==m||n[5]!==l||n[6]!==c?(_=u.jsx(r("CometObjectFitContainer.react"),babelHelpers.extends({contentAspectRatio:m,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",ref:c},l)),n[4]=m,n[5]=l,n[6]=c,n[7]=_):_=n[7],_}l.default=c}),98);
__d("CometProfileSwitchedToast_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProfileSwitchedToast_query",selections:[{args:null,kind:"FragmentSpread",name:"useCometProfileSwitchedToast_query"}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("useCometProfileSwitchedToast_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometProfileSwitchedToast_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_type_name_for_content",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:32,width:32)"},{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[e],storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometProfileSwitchMutation_query"}],type:"Query",abstractKey:null}})();a.exports=e}),null);
__d("useCometProfileSwitchedToast",["fbt","CometRelay","CometRouteURL","FDSButtonGroup.react","FDSListCell.react","FDSProfilePhoto.react","FDSText.react","FDSTextPairing.react","XCometMeControllerRouteBuilder","XCometProfileControllerRouteBuilder","XCometProfileVanityControllerRouteBuilder","emptyFunction","react","react-compiler-runtime","useCometProfileSwitchMutation","useCometProfileSwitchTracer","useCometProfileSwitchedToast_query.graphql"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var a,i,l,u,d,p,_=o("react-compiler-runtime").c(41),f=t.onDismiss,g=t.previousProfileID,h=t.query,y=o("CometRelay").useFragment(e!==void 0?e:e=n("useCometProfileSwitchedToast_query.graphql"),h),C=y==null||(a=y.viewer)==null||(a=a.actor)==null?void 0:a.name,b=y==null||(i=y.viewer)==null||(i=i.actor)==null?void 0:i.id,v=y==null||(l=y.viewer)==null||(l=l.actor)==null||(l=l.profile_picture)==null?void 0:l.uri,S;if(_[0]!==((u=y.viewer)==null||(u=u.actor)==null||(u=u.profile_switcher_eligible_profiles)==null?void 0:u.nodes)){var R,L;S=y==null||(R=y.viewer)==null||(R=R.actor)==null||(R=R.profile_switcher_eligible_profiles)==null?void 0:R.nodes.map(m),_[0]=(L=y.viewer)==null||(L=L.actor)==null||(L=L.profile_switcher_eligible_profiles)==null?void 0:L.nodes,_[1]=S}else S=_[1];var E=S,k=(y==null||(d=y.viewer)==null||(d=d.actor)==null?void 0:d.profile_type_name_for_content)==="PAGE",I=(p=y.viewer)==null||(p=p.actor)==null?void 0:p.username,T;_[2]!==I?(T=I==null||I.length===0?"":r("XCometProfileVanityControllerRouteBuilder").buildURL({vanity:I}),_[2]=I,_[3]=T):T=_[3];var D=T,x=o("CometRouteURL").useRouteURLPath(),$=D===x,P;_[4]===Symbol.for("react.memo_cache_sentinel")?(P=r("XCometProfileControllerRouteBuilder").buildURL({}),_[4]=P):P=_[4];var N=P,M=o("CometRouteURL").useRouteURLParams().id,w=N===x&&M===b,A=$||w,F;_[5]===Symbol.for("react.memo_cache_sentinel")?(F={origin:"switched_toast",originatingSurface:"switched_toast"},_[5]=F):F=_[5];var O=r("useCometProfileSwitchTracer")(F),B;_[6]!==y?(B={data:y},_[6]=y,_[7]=B):B=_[7];var W=r("useCometProfileSwitchMutation")(B),q;_[8]!==f||_[9]!==g||_[10]!==W||_[11]!==E||_[12]!==O?(q=function(){E!=null&&E.includes(g)&&O(function(e){W(g,e,null,"switched_toast")}),f()},_[8]=f,_[9]=g,_[10]=W,_[11]=E,_[12]=O,_[13]=q):q=_[13];var U=q,V=A?"start":"justify",H;_[14]!==k||_[15]!==A||_[16]!==f||_[17]!==U?(H=A?{label:s._(/*BTDS*/"Undo"),onPress:U,padding:"wide",type:"secondary"}:{label:k?s._(/*BTDS*/"See Page"):s._(/*BTDS*/"See profile"),linkProps:{url:r("XCometMeControllerRouteBuilder").buildURL({})},onPress:f,type:"primary"},_[14]=k,_[15]=A,_[16]=f,_[17]=U,_[18]=H):H=_[18];var G;_[19]!==A||_[20]!==U?(G=A?null:{label:s._(/*BTDS*/"Undo"),onPress:U,type:"secondary"},_[19]=A,_[20]=U,_[21]=G):G=_[21];var z;_[22]!==V||_[23]!==H||_[24]!==G?(z=c.jsx(r("FDSButtonGroup.react"),{align:V,paddingHorizontal:0,paddingTop:12,primary:H,secondary:G,size:"large",wrap:"forward"}),_[22]=V,_[23]=H,_[24]=G,_[25]=z):z=_[25];var j=z,K;_[26]!==f||_[27]!==v?(K=v!=null?c.jsx(r("FDSProfilePhoto.react"),{"aria-label":s._(/*BTDS*/"Profile picture"),linkProps:{url:r("XCometMeControllerRouteBuilder").buildURL({})},onPress:f,shape:"circle",size:48,source:{uri:v}}):null,_[26]=f,_[27]=v,_[28]=K):K=_[28];var Q;_[29]!==C?(Q=c.jsx(r("FDSText.react"),{type:"headline4",children:s._(/*BTDS*/"You're now acting as {profile_name} on Facebook.",[s._param("profile_name",C)])}),_[29]=C,_[30]=Q):Q=_[30];var X;_[31]!==j||_[32]!==Q?(X=c.jsx(r("FDSTextPairing.react"),{body:j,headline:Q,level:4}),_[31]=j,_[32]=Q,_[33]=X):X=_[33];var Y;_[34]!==K||_[35]!==X?(Y=c.jsx(r("FDSListCell.react"),{addOnStart:K,addOnStartVerticalAlign:"top",content:X,contentPaddingHorizontal:16}),_[34]=K,_[35]=X,_[36]=Y):Y=_[36];var J=Y,Z;return _[37]!==J||_[38]!==f||_[39]!==C?(Z={accessibilityAnnouncement:null,content:J,onCloseClick:f,onMouseEnter:r("emptyFunction"),profileName:C},_[37]=J,_[38]=f,_[39]=C,_[40]=Z):Z=_[40],Z}function m(e){var t;return(t=e.profile)==null?void 0:t.id}l.default=d}),226);
__d("CometProfileSwitchedToast.react",["fbt","CometProfileSwitchedToast_query.graphql","CometRelay","CometToastCard.react","react","react-compiler-runtime","useCometProfileSwitchedToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(11),i=t.onDismiss,l=t.previousProfileID,u=t.query,d=o("CometRelay").useFragment(e!==void 0?e:e=n("CometProfileSwitchedToast_query.graphql"),u),p;a[0]!==d||a[1]!==i||a[2]!==l?(p={onDismiss:i,previousProfileID:l,query:d},a[0]=d,a[1]=i,a[2]=l,a[3]=p):p=a[3];var _=r("useCometProfileSwitchedToast")(p),f;a[4]!==_.profileName?(f=s._(/*BTDS*/"Switched to {profile_name}",[s._param("profile_name",_.profileName)]),a[4]=_.profileName,a[5]=f):f=a[5];var g;return a[6]!==i||a[7]!==_.accessibilityAnnouncement||a[8]!==_.content||a[9]!==f?(g=c.jsx(r("CometToastCard.react"),{accessibilityAnnouncement:_.accessibilityAnnouncement,content:_.content,headline:f,onCloseClick:i,onMouseEnter:m}),a[6]=i,a[7]=_.accessibilityAnnouncement,a[8]=_.content,a[9]=f,a[10]=g):g=a[10],g}function m(){}l.default=d}),226);
__d("CometReturnToFeedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("690"),s=o("FalcoLoggerInternal").create("comet_return_to_feed",e),u=s;l.default=u}),98);
__d("CometReturnToFeedRouteUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){switch(e){case"comet.group":case"comet.group.permalink":case"comet.groups.feed":case"comet.marketplace.home":case"comet.profile.timeline.list":case"comet.watch.feed":case"comet.birthday":case"comet.error":case"comet.friending":case"comet.friending.suggestions":case"comet.friending.friendrequests":case"comet.memories":case"comet.post.single":case"comet.save.saveDashboard":case"comet.search_results.default_tab":case"comet.search_results.entity_scoped":case"comet.stories.viewer":return!0;default:return!1}}i.isRouteEligible=e}),66);
__d("FDSChevronLeftCircleFilled20Icon",["cr:14701"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14701")}),98);
__d("pushReturnToFeedRestorationToastGroupQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9629747497106613"}),null);
__d("pushReturnToFeedRestorationToastGroupQuery.graphql",["pushReturnToFeedRestorationToastGroupQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"groupID"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t=[{kind:"Variable",name:"id",variableName:"groupID"}],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"pushReturnToFeedRestorationToastGroupQuery",selections:[{alias:null,args:t,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[r,o],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"pushReturnToFeedRestorationToastGroupQuery",selections:[{alias:null,args:t,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("pushReturnToFeedRestorationToastGroupQuery_facebookRelayOperation"),metadata:{},name:"pushReturnToFeedRestorationToastGroupQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("pushReturnToFeedRestorationToastProfileQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30396567453267408"}),null);
__d("pushReturnToFeedRestorationToastProfileQuery.graphql",["pushReturnToFeedRestorationToastProfileQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"profileID"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t=[{kind:"Variable",name:"id",variableName:"profileID"}],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"actor_id",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"pushReturnToFeedRestorationToastProfileQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[r,o],storageKey:null},a],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"pushReturnToFeedRestorationToastProfileQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},a]},params:{id:n("pushReturnToFeedRestorationToastProfileQuery_facebookRelayOperation"),metadata:{},name:"pushReturnToFeedRestorationToastProfileQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("pushReturnToFeedRestorationToast",["fbt","CometRelay","FDSChevronLeftCircleFilled20Icon","FDSIcon.react","FDSMarketplaceFilled20Icon","FDSProfilePhoto.react","WebPixelRatio","cometPushToast","promiseDone","pushReturnToFeedRestorationToastGroupQuery.graphql","pushReturnToFeedRestorationToastProfileQuery.graphql","react","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=r("react")),m=r("requireDeferred")("CometReturnToFeedFalcoEvent").__setRef("pushReturnToFeedRestorationToast"),p=5e3;function _(t,a,i,l,c){var _=function(){r("promiseDone")(m.load().then(function(e){return e.log(function(){return{event_type:"toast_impression",time_since_last_activity:c.toString(),trace_policy:i}})}))},f={action:{label:s._(/*BTDS*/"Go back"),onPress:function(){a.goBack(),r("promiseDone")(m.load().then(function(e){return e.log(function(){return{event_type:"toast_click",time_since_last_activity:c.toString(),trace_policy:i}})}))}},icon:d.jsx(r("FDSIcon.react"),{icon:r("FDSChevronLeftCircleFilled20Icon"),size:20}),message:s._(/*BTDS*/"Pick up where you left off"),withoutCloseButton:!1},g=function(){o("cometPushToast").cometPushToast(f,p),_()};i.startsWith("comet.profile")&&l!=null?o("CometRelay").fetchQuery(t,e!==void 0?e:e=n("pushReturnToFeedRestorationToastProfileQuery.graphql"),{profileID:l,scale:o("WebPixelRatio").get()},{fetchPolicy:"store-or-network"}).subscribe({next:function(t){var e,n,a,i=(e=t.profile)==null?void 0:e.name,u=(n=t.profile)==null||(n=n.profile_picture)==null?void 0:n.uri;if(i==null||u==null){g();return}o("cometPushToast").cometPushToast(babelHelpers.extends({},f,{icon:d.jsx(r("FDSProfilePhoto.react"),{"aria-label":i,shape:"circle",size:32,source:{uri:u}}),message:String((a=t.viewer)==null?void 0:a.actor_id)===l?s._(/*BTDS*/"Continue viewing your profile?"):s._(/*BTDS*/"Continue viewing {=m1} profile?",[s._implicitParam("=m1",d.jsx("strong",{children:s._(/*BTDS*/"{name}'s",[s._param("name",i)])}))])}),p),_()}}):(i==="comet.group"||i==="comet.group.permalink")&&l!=null?o("CometRelay").fetchQuery(t,u!==void 0?u:u=n("pushReturnToFeedRestorationToastGroupQuery.graphql"),{groupID:l,scale:o("WebPixelRatio").get()},{fetchPolicy:"store-or-network"}).subscribe({next:function(t){var e,n,a=(e=t.group)==null?void 0:e.name,i=(n=t.group)==null||(n=n.profile_picture)==null?void 0:n.uri;if(a==null||i==null){g();return}o("cometPushToast").cometPushToast(babelHelpers.extends({},f,{icon:d.jsx(r("FDSProfilePhoto.react"),{"aria-label":a,shape:"roundedRect",size:32,source:{uri:i}}),message:s._(/*BTDS*/"Continue browsing {=m1} ?",[s._implicitParam("=m1",d.jsx("strong",{children:s._(/*BTDS*/"{name}",[s._param("name",a)])}))])}),p),_()}}):i.startsWith("comet.marketplace")?(o("cometPushToast").cometPushToast(babelHelpers.extends({},f,{icon:d.jsx(r("FDSIcon.react"),{icon:r("FDSMarketplaceFilled20Icon"),size:20}),message:s._(/*BTDS*/"Continue shopping on Marketplace?")}),p),_()):g()}l.default=_}),226);
__d("useStaleSessionReturnToFeed",["CometComposerDirtyTracker","CometFeedFetchTracker","CometProductAttribution","CometRelay","CometReturnToFeedRouteUtils","CometRouterPushViewStackContext","XCometHomeControllerRouteBuilder","getCometEntityKey","gkx","promiseDone","pushReturnToFeedRestorationToast","react","react-compiler-runtime","requireDeferred","unfinishedCommentTracking","useCometRouterDispatcher","useCometRouterState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect,m=s.useRef,p=r("requireDeferred")("CometReturnToFeedFalcoEvent").__setRef("useStaleSessionReturnToFeed"),_=r("requireDeferred")("CometUserActivityMonitor").__setRef("useStaleSessionReturnToFeed"),f=r("requireDeferred")("CometVisibilityUserActivityMonitor").__setRef("useStaleSessionReturnToFeed"),g=1800;function h(){var e,t,n,a,i=o("react-compiler-runtime").c(27),l=o("CometRelay").useRelayEnvironment(),s=(e=r("useCometRouterState")())!=null?e:{},u=s.main,h=(t=u==null||(n=u.route)==null?void 0:n.tracePolicy)!=null?t:"",C;i[0]!==u?(C=u!=null?r("getCometEntityKey")(u.route):null,i[0]=u,i[1]=C):C=i[1];var b=C,v;i[2]!==(u==null?void 0:u.productAttribution)?(v=(u==null?void 0:u.productAttribution)!=null?o("CometProductAttribution").minifyProductAttributionV2(u==null?void 0:u.productAttribution):null,i[2]=u==null?void 0:u.productAttribution,i[3]=v):v=i[3];var S=v,R=(a=c(r("CometRouterPushViewStackContext")))!=null?a:[],L=R.length>0,E=r("useCometRouterDispatcher")(),k;i[4]===Symbol.for("react.memo_cache_sentinel")?(k=r("XCometHomeControllerRouteBuilder").buildURL({}),i[4]=k):k=i[4];var I=k,T;i[5]!==L||i[6]!==S||i[7]!==h?(T=function(){if(!o("CometReturnToFeedRouteUtils").isRouteEligible(h)||L||r("unfinishedCommentTracking").hasAnyUnfinishedComments()||r("unfinishedCommentTracking").getDialogActive()&&r("gkx")("3730")||o("CometComposerDirtyTracker").isAnyComposerDirty())return!1;if(o("CometFeedFetchTracker").getLastHeadloadTime()==null)return r("promiseDone")(p.load().then(function(e){return e.log(function(){return{event_type:"cancel",navigation_chain:S,trace_policy:h}})})),!1;var e=o("CometFeedFetchTracker").getLastBrowserHeadloadTime();return e!=null&&Date.now()-e<g*1e3?(r("promiseDone")(p.load().then(function(t){return t.log(function(){return{event_type:"cancel",navigation_chain:S,time_since_last_headload:(Date.now()-e).toString(),trace_policy:h}})})),!1):!0},i[5]=L,i[6]=S,i[7]=h,i[8]=T):T=i[8];var D=T,x;i[9]!==E||i[10]!==(b==null?void 0:b.entity_id)||i[11]!==l||i[12]!==S||i[13]!==h?(x=function(t){E&&(E.go(I,{onNavigate_DEPRECATED_FIXME:function(){r("pushReturnToFeedRestorationToast")(l,E,h,b==null?void 0:b.entity_id,t)}}),r("promiseDone")(p.load().then(function(e){return e.log(function(){return{event_type:"refresh",navigation_chain:S,time_since_last_activity:t.toString(),trace_policy:h}})})))},i[9]=E,i[10]=b==null?void 0:b.entity_id,i[11]=l,i[12]=S,i[13]=h,i[14]=x):x=i[14],b==null||b.entity_id;var $=x,P;i[15]===Symbol.for("react.memo_cache_sentinel")?(P=Date.now(),i[15]=P):P=i[15];var N=m(P),M;i[16]===Symbol.for("react.memo_cache_sentinel")?(M=Date.now(),i[16]=M):M=i[16];var w=m(M),A;i[17]!==$||i[18]!==D?(A=function(t){if(t==="INACTIVE")N.current=Date.now();else if(t==="ACTIVE"){var e=Date.now()-N.current;e>g*1e3&&D()&&$(e)}},i[17]=$,i[18]=D,i[19]=A):A=i[19];var F=A,O;i[20]!==$||i[21]!==D?(O=function(t){if(!t)w.current=Date.now();else{var e=Date.now()-w.current;e>g*1e3&&D()&&$(e)}},i[20]=$,i[21]=D,i[22]=O):O=i[22];var B=O,W,q;i[23]!==F||i[24]!==B?(q=function(){var e=[];return r("gkx")("3730")?f.onReady(function(t){var n=t.subscribe;e.push(n(B))}):_.onReady(function(t){var n=t.subscribe,r=n(F);e.push(function(){return r.remove()})}),(function(){return e.forEach(y)})},W=[F,B],i[23]=F,i[24]=B,i[25]=W,i[26]=q):(W=i[25],q=i[26]),d(q,W)}function y(e){return e()}l.default=h}),98);
__d("CometStaleSessionReturnToFeedManager.react",["useStaleSessionReturnToFeed"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("useStaleSessionReturnToFeed")(),null}l.default=e}),98);
__d("CometVideoPictureInPictureManagerHooks",["CometVideoPictureInPictureManagerContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(o("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext)}l.useCometVideoPictureInPictureManager=u}),98);
__d("CometWatchAndScrollCloseButton_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWatchAndScrollCloseButton_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometWatchAndScrollCloseButton.react",["fbt","CometRelay","CometSetWatchAndScrollVideoContext","CometWatchAndScrollCloseButton_video.graphql","CometWatchAndScrollVideoContext","FDSCrossFilled20Icon","FDSIcon.react","VideoPlayerInstreamAdsStateHooks","react","react-compiler-runtime","requireDeferred","useCometRouterState","useCometTahoeChainingDepth","useMinifiedProductAttribution","useVideoPlayerDefaultControlsVisibility"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useContext,m=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometWatchAndScrollCloseButton.react");function p(t){var a,i,l=o("react-compiler-runtime").c(19),u=t.video,p=o("CometRelay").useFragment(e!==void 0?e:e=n("CometWatchAndScrollCloseButton_video.graphql"),u),_=d(r("CometSetWatchAndScrollVideoContext")),f=d(r("CometWatchAndScrollVideoContext")),g=o("useCometTahoeChainingDepth").useChainingDepthContext(),h=g.chainingDepthState,y=r("useVideoPlayerDefaultControlsVisibility")(),C=y.isControlsVisible,b=y.onUserInteraction,v=!!(p!=null&&(a=p.owner)!=null&&a.has_professional_features_for_watch),S=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart(),R=v||S,L=r("useMinifiedProductAttribution")(),E=r("useCometRouterState")(),k=(i=E==null?void 0:E.main.route.tabKey)!=null?i:"undefined",I;l[0]!==C||l[1]!==R?(I={0:{className:"x1vjfegm"},2:{className:"xceh6e4 x10l6tqk x1jzctok x1vjfegm"},1:{className:"x1vjfegm xg01cxk xlshs6z"},3:{className:"xceh6e4 x10l6tqk x1jzctok x1vjfegm xg01cxk xlshs6z"}}[!R<<1|(!R&&!C)<<0],l[0]=C,l[1]=R,l[2]=I):I=l[2];var T;l[3]===Symbol.for("react.memo_cache_sentinel")?(T=s._(/*BTDS*/"Close Video and scroll"),l[3]=T):T=l[3];var D=R?"primary":"white",x;l[4]!==h||l[5]!==k||l[6]!==b||l[7]!==L||l[8]!==R||l[9]!==_||l[10]!==(f==null?void 0:f.sessionStartTime)||l[11]!==(f==null?void 0:f.sessionTrigger)?(x=function(){var e=f==null?void 0:f.sessionStartTime,t=new Date,n=f!=null&&f.sessionTrigger?f==null?void 0:f.sessionTrigger:null;_(null),b({name:"exit_watch_and_scroll_video",type:"happened"}),R&&m.onReady(function(r){var o=h+1,a=e?(t.getTime()-e.getTime())/1e3:null;r.log({attribution_id_v2:L,click_point:"close_button",click_target:"watch_and_scroll",event:"click",event_target_info:k}),r.log({event:"watch_and_scroll_end_session",event_target_info:n,video_watched_count:o,watch_time_in_watch_and_scroll_s:a})})},l[4]=h,l[5]=k,l[6]=b,l[7]=L,l[8]=R,l[9]=_,l[10]=f==null?void 0:f.sessionStartTime,l[11]=f==null?void 0:f.sessionTrigger,l[12]=x):x=l[12];var $;l[13]!==D||l[14]!==x?($=c.jsx(r("FDSIcon.react"),{"aria-label":T,color:D,icon:r("FDSCrossFilled20Icon"),onPress:x}),l[13]=D,l[14]=x,l[15]=$):$=l[15];var P;return l[16]!==I||l[17]!==$?(P=c.jsx("i",babelHelpers.extends({},I,{children:$})),l[16]=I,l[17]=$,l[18]=P):P=l[18],P}l.default=p}),226);
__d("CometWatchAndScrollContainer_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWatchAndScrollContainer_video",selections:[{args:null,kind:"FragmentSpread",name:"useVideoOriginalDimensionsRelay_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometWatchAndScrollTopBar_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometWatchAndScrollTopBar_video",selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollCloseButton_video"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[t,e,{alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"page_vanity_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vanity",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifier_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}})();a.exports=e}),null);
__d("FDSDots3VerticalOutline20Icon",["cr:14004"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14004")}),98);
__d("CometWatchAndScrollTopBar.react",["CometLink.react","CometRelay","CometRow.react","CometRowItem.react","CometVideoHomeThreeDotContextMenu.react","CometWatchAndScrollCloseButton.react","CometWatchAndScrollTopBar_video.graphql","FDSDots3VerticalOutline20Icon","FDSProfilePhoto.react","FDSTextPairing.react","XCometGamingVanityControllerRouteBuilder","XCometVideoHomePlaylistControllerRouteBuilder","isStringNullOrEmpty","react","react-compiler-runtime","requireDeferred","useCometRouterState","useMinifiedProductAttribution","useNavigateToTahoePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometWatchAndScrollTopBar.react"),m={actorIcon:{marginInlineStart:"x13fj5qh",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},closeButton:{display:"x78zum5",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},row:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",width:"xh8yej3",$$css:!0},threeDot:{display:"x78zum5",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function p(t){var a,i,l,s,p=o("react-compiler-runtime").c(46),h=t.isGamingVideo,y=t.routeTracePolicy,C=t.subOrigin,b=t.video,v=t.videoUrl,S=o("CometRelay").useFragment(e!==void 0?e:e=n("CometWatchAndScrollTopBar_video.graphql"),b),R=r("useMinifiedProductAttribution")(),L=r("useNavigateToTahoePassthroughProps")(),E=c(!1),k=E[1],I;p[0]===Symbol.for("react.memo_cache_sentinel")?(I=function(t){k(t)},p[0]=I):I=p[0];var T=I,D=S==null?void 0:S.owner;if(S==null||D==null)return null;var x;p[1]!==L||p[2]!==y||p[3]!==C?(x=babelHelpers.extends({},L,{playerSubOrigin:C,portalingRouteTracePolicy:y,portalingSubOrigin:C}),p[1]=L,p[2]=y,p[3]=C,p[4]=x):x=p[4];var $=x,P="#",N=D.uri_token;if(N!=null){var M;p[5]!==N?(M=r("XCometVideoHomePlaylistControllerRouteBuilder").buildURL({idorvanity:N}),p[5]=N,p[6]=M):M=p[6],P=M}else D.url!=null&&(P=D.url);if(h){var w,A,F=(w=(A=D.page_vanity_url)!=null?A:D.vanity)!=null?w:D.uri_token;if(F!=null){var O;if(p[7]!==F||p[8]!==S.id){var B;O=r("XCometGamingVanityControllerRouteBuilder").buildURL({injected_hero_video_id:(B=S.id)!=null?B:void 0,vanity:F}),p[7]=F,p[8]=S.id,p[9]=O}else O=p[9];P=O}}var W;p[10]===Symbol.for("react.memo_cache_sentinel")?(W={className:"x1jx94hy x5a5i1n x1obq294 x163d74j x78zum5 x1dqyrwa xtijo5x x1o0tod x1hc1fzr x10l6tqk x11zq2l5 x1nm1lid xm4efwp xx6bhzk x11xpdln"},p[10]=W):W=p[10];var q=(a=D.profile_picture)==null?void 0:a.uri,U=h?$:void 0,V;p[11]!==D.id||p[12]!==D.name||p[13]!==P||p[14]!==R||p[15]!==q||p[16]!==U?(V=u.jsx(r("CometRowItem.react"),{xstyle:m.actorIcon,children:u.jsx(_,{actorID:D.id,actorName:D.name,actorURL:P,iconURI:q,passthroughProps:U,productAttribution:R})}),p[11]=D.id,p[12]=D.name,p[13]=P,p[14]=R,p[15]=q,p[16]=U,p[17]=V):V=p[17];var H;p[18]!==$||p[19]!==R||p[20]!==S.title_with_fallback||p[21]!==v?(H=u.jsx(g,{passthroughProps:$,productAttribution:R,title:S.title_with_fallback,videoUrl:v}),p[18]=$,p[19]=R,p[20]=S.title_with_fallback,p[21]=v,p[22]=H):H=p[22];var G=h?$:void 0,z;p[23]!==D.name||p[24]!==P||p[25]!==R||p[26]!==G?(z=u.jsx(f,{actorName:D.name,actorURL:P,passthroughProps:G,productAttribution:R}),p[23]=D.name,p[24]=P,p[25]=R,p[26]=G,p[27]=z):z=p[27];var j;p[28]!==H||p[29]!==z?(j=u.jsx(r("CometRowItem.react"),{expanding:!0,children:u.jsx(r("FDSTextPairing.react"),{headline:H,headlineLineLimit:1,level:4,meta:z,metaLineLimit:1,metaLocation:"above"})}),p[28]=H,p[29]=z,p[30]=j):j=p[30];var K=(i=S.creation_story)==null?void 0:i.identifier_token,Q;p[31]!==R?(Q=function(){d.onReady(function(e){e.log({attribution_id_v2:R,click_point:"three_dot_menu",click_target:"watch_and_scroll",event:"click"})})},p[31]=R,p[32]=Q):Q=p[32];var X=(l=S.creation_story)==null?void 0:l.debug_info,Y=(s=S.creation_story)==null?void 0:s.tracking,J;p[33]!==K||p[34]!==Q||p[35]!==X||p[36]!==Y||p[37]!==S.id?(J=u.jsx(r("CometRowItem.react"),{xstyle:m.threeDot,children:u.jsx(r("CometVideoHomeThreeDotContextMenu.react"),{icon:r("FDSDots3VerticalOutline20Icon"),identifierToken:K,onMenuVisibilityChange:T,onPress:Q,position:"above",storyDebugInfo:X,tracking:Y,videoID:S.id,videoMenuLocation:"WATCH_AND_SCROLL"})}),p[33]=K,p[34]=Q,p[35]=X,p[36]=Y,p[37]=S.id,p[38]=J):J=p[38];var Z;p[39]!==S?(Z=u.jsx(r("CometRowItem.react"),{xstyle:m.closeButton,children:u.jsx(r("CometWatchAndScrollCloseButton.react"),{video:S})}),p[39]=S,p[40]=Z):Z=p[40];var ee;return p[41]!==j||p[42]!==J||p[43]!==Z||p[44]!==V?(ee=u.jsx("div",babelHelpers.extends({},W,{children:u.jsxs(r("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",xstyle:m.row,children:[V,j,J,Z]})})),p[41]=j,p[42]=J,p[43]=Z,p[44]=V,p[45]=ee):ee=p[45],ee}function _(e){var t=o("react-compiler-runtime").c(12),n=e.actorName,a=e.actorURL,i=e.iconURI,l=e.passthroughProps,s=e.productAttribution,c=r("isStringNullOrEmpty")(n)?a:n,m=l!=null?l:void 0,p;t[0]!==a||t[1]!==m?(p={passthroughProps:m,url:a},t[0]=a,t[1]=m,t[2]=p):p=t[2];var _;t[3]!==s?(_=function(){d.onReady(function(e){e.log({attribution_id_v2:s,click_point:"actor_profile_picture",click_target:"watch_and_scroll",event:"click"})})},t[3]=s,t[4]=_):_=t[4];var f=i||"",g;t[5]!==f?(g={uri:f},t[5]=f,t[6]=g):g=t[6];var h;return t[7]!==c||t[8]!==p||t[9]!==_||t[10]!==g?(h=u.jsx(r("FDSProfilePhoto.react"),{"aria-label":c,linkProps:p,onPress:_,size:32,source:g}),t[7]=c,t[8]=p,t[9]=_,t[10]=g,t[11]=h):h=t[11],h}function f(e){var t=o("react-compiler-runtime").c(5),n=e.actorName,a=e.actorURL,i=e.passthroughProps,l=e.productAttribution,s;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(s=r("isStringNullOrEmpty")(n)?null:u.jsx(r("CometLink.react"),{href:a,onClick:function(){d.onReady(function(e){e.log({attribution_id_v2:l,click_point:"actor_name",click_target:"watch_and_scroll",event:"click"})})},passthroughProps:i!=null?i:void 0,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s):s=t[4],s}function g(e){var t=o("react-compiler-runtime").c(8),n=e.passthroughProps,a=e.productAttribution,i=e.title,l=e.videoUrl,s=r("useCometRouterState")(),c=s==null?void 0:s.main.route.tabKey,m;t[0]!==c||t[1]!==a?(m=function(){d.onReady(function(e){e.log({attribution_id_v2:a,click_point:"video_title",click_target:"watch_and_scroll",event:"click",event_target_info:c})})},t[0]=c,t[1]=a,t[2]=m):m=t[2];var p;return t[3]!==n||t[4]!==m||t[5]!==i||t[6]!==l?(p=u.jsx(r("CometLink.react"),{href:l,onClick:m,passthroughProps:n,children:i}),t[3]=n,t[4]=m,t[5]=i,t[6]=l,t[7]=p):p=t[7],p}l.default=p}),98);
__d("CometWatchAndScrollVideoQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32827984676850266"}),null);
__d("CometWatchAndScrollVideoQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","CometWatchAndScrollVideoQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"chainingCursor"},t={defaultValue:!1,kind:"LocalArgument",name:"chainingDisabled"},r={defaultValue:null,kind:"LocalArgument",name:"chainingSeedVideoID"},o={defaultValue:null,kind:"LocalArgument",name:"scale"},a={defaultValue:null,kind:"LocalArgument",name:"videoID"},i=[{kind:"Variable",name:"id",variableName:"videoID"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"is_soundbites_video",storageKey:null},m={alias:null,args:null,concreteType:"PayToAccessPaywall",kind:"LinkedField",name:"pay_to_access_paywall",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_paywall",storageKey:null}],storageKey:null},p=[{kind:"Variable",name:"id",variableName:"chainingSeedVideoID"}],_={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null},g=[{kind:"Literal",name:"site",value:"www"}],h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},y=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],C=[l],b={alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},v={kind:"InlineFragment",selections:C,type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[e,t,r,o,a],kind:"Fragment",metadata:null,name:"CometWatchAndScrollVideoQuery",selections:[{alias:null,args:i,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[l,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[u],type:"VideoOwner",abstractKey:"__isVideoOwner"}],storageKey:null},c,d,{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollContainer_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWithLiveVideoEndscreen_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWithLiveVideoIndicator_video"},{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollTopBar_video"},{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollCloseButton_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWithWatchAndScrollWarningScreen_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWithAudioOverlay_video"},{condition:"chainingDisabled",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerWithWatchAndScrollChainingWrapper_video"}],type:"Video",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"watch_and_scroll_chaining_wrapper"}]},m],storageKey:null},{alias:"chainingSeedVideo",args:p,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{kind:"Defer",selections:[{args:[{kind:"Variable",name:"cursor",variableName:"chainingCursor"},{kind:"Variable",name:"seedVideoID",variableName:"chainingSeedVideoID"}],kind:"FragmentSpread",name:"VideoPlayerSkipControl_video"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,r,a,o,t],kind:"Operation",name:"CometWatchAndScrollVideoQuery",selections:[{alias:null,args:i,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[l,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[_,{kind:"InlineFragment",selections:[u,f,{kind:"InlineFragment",selections:[{alias:null,args:g,kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},l,h,{alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:y,storageKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"page_vanity_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vanity",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},c,d,{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"live_end_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_audio_room_v2_broadcast",storageKey:null},{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"associated_paid_online_event",plural:!1,selections:C,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_paid_virtual_event_premium_content",storageKey:null},{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null},h,b,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifier_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},l],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"video_channel"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[_,{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithWatchAndScrollWarningScreen_video",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},v],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"video_channel")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:y,storageKey:null},l],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2wvKjr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[_,{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"2wvKjr")'},m,{args:null,fragment:n("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{condition:"chainingDisabled",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[_,{alias:"wwwUrl",args:g,kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},v],storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"chainingSeedVideo",args:p,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{if:null,kind:"Defer",label:"CometWatchAndScrollVideoQuery$defer$VideoPlayerSkipControl_video_izUbj",selections:[l,{alias:null,args:[{kind:"Literal",name:"entry_point",value:"WNS"}],concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[_,{alias:null,args:[{kind:"Variable",name:"after",variableName:"chainingCursor"},{kind:"Literal",name:"caller",value:"WNS"},{kind:"Variable",name:"exclude_video",variableName:"chainingSeedVideoID"},{kind:"Literal",name:"first",value:1}],concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoChannelFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[_,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[_,{kind:"InlineFragment",selections:[l,{alias:null,args:[{kind:"Literal",name:"height",value:202},{kind:"Literal",name:"sizing",value:"cover-fill-cropped"},{kind:"Literal",name:"width",value:360}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:y,storageKey:'image(height:202,sizing:"cover-fill-cropped",width:360)'},b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[_,h,l],storageKey:null},s],type:"Video",abstractKey:null},v,{kind:"InlineFragment",selections:C,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:C,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:C,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:C,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},v,{kind:"InlineFragment",selections:C,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:'video_channel(entry_point:"WNS")'}]},l],storageKey:null}]},params:{id:n("CometWatchAndScrollVideoQuery_facebookRelayOperation"),metadata:{},name:"CometWatchAndScrollVideoQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("VideoPlayerPictureInPictureControl.react",["fbt","ix","CometVideoPictureInPictureManagerContext","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime","requireDeferred","useMinifiedProductAttribution","useVideoPlayerPortalingPassthroughProps","vulture"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=m.useEffect,g=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerPictureInPictureControl.react"),h=window.document.pictureInPictureEnabled;function y(e){var t=o("react-compiler-runtime").c(15),n=e.routeTracePolicy,a=e.subOrigin;r("vulture")("O0_Icvc9BmzBHgbM8bWd-Qko1LQ=");var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Enter Picture in Picture Mode"),t[0]=i):i=t[0];var l=i,m=r("useMinifiedProductAttribution")(),p;t[1]!==m||t[2]!==n||t[3]!==a?(p=function(){g.onReady(function(e){e.log({attribution_id_v2:m,click_point:"control_picture_in_picture",event:"click",event_target_info:n,player_suborigin:a})})},t[1]=m,t[2]=n,t[3]=a,t[4]=p):p=t[4];var y=p,C=(c||(c=o("VideoPlayerHooks"))).useController(),b=_(o("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext),v;t[5]!==b||t[6]!==y?(v=function(){b.openPipPlayer(),y()},t[5]=b,t[6]=y,t[7]=v):v=t[7];var S=v,R=r("useVideoPlayerPortalingPassthroughProps")(),L=R.portableVideoID,E,k;t[8]!==b||t[9]!==C||t[10]!==L?(E=function(){h&&(b.setController(C),b.setPipPortableVideoID(L))},k=[b,C,L],t[8]=b,t[9]=C,t[10]=L,t[11]=E,t[12]=k):(E=t[11],k=t[12]),f(E,k);var I;return t[13]!==S?(I=h?d.jsx(r("VideoPlayerControlIcon.react"),{icon:o("fbicon")._(u("509931"),20),label:l,onPress:S,tooltip:l}):null,t[13]=S,t[14]=I):I=t[14],I}l.VideoPlayerPictureInPictureControl=y}),226);
__d("VideoPlayerSkipControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(7),n=e.disabled,a=e.onHoverIn,i=e.onHoverOut,l=e.onPress;r("vulture")("vlqpEhxzSAfdtyaGp21pnPzvgtI=");var d,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=o("fbicon")._(u("1052613"),20),m=s._(/*BTDS*/"Skip"),t[0]=d,t[1]=m):(d=t[0],m=t[1]);var p;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l?(p=c.jsx(r("VideoPlayerControlIcon.react"),{color:"white",disabled:n,icon:d,label:m,onHoverIn:a,onHoverOut:i,onPress:l}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=p):p=t[6],p}l.default=d}),226);
__d("VideoPlayerWithWatchAndScrollSoundContext.react",["CometWatchAndScrollSoundContext","VideoPlayerHooks","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useContext,d=u.useEffect,m=u.useRef;function p(){var e=o("react-compiler-runtime").c(16),t=c(r("CometWatchAndScrollSoundContext")),n=(s||(s=o("VideoPlayerHooks"))).useController(),a=s.useMuted(),i=s.useVolume(),l=s.usePaused(),u=r("usePrevious")(a),p=r("usePrevious")(i),_=m(a),f=m(i),g,h;e[0]!==a||e[1]!==u||e[2]!==p||e[3]!==t||e[4]!==i?(g=function(){u!==null&&u!==a&&t.setMuted(a),p!==null&&p!==i&&t.setVolume(i)},h=[a,u,p,t,i],e[0]=a,e[1]=u,e[2]=p,e[3]=t,e[4]=i,e[5]=g,e[6]=h):(g=e[5],h=e[6]),d(g,h);var y,C;e[7]!==l||e[8]!==t?(y=function(){l||(t.muted==null&&t.setMuted(_.current),t.volume==null&&t.setVolume(f.current))},C=[l,t],e[7]=l,e[8]=t,e[9]=y,e[10]=C):(y=e[9],C=e[10]),d(y,C);var b,v;return e[11]!==n||e[12]!==l||e[13]!==t?(b=function(){if(!l){var e=t.muted,r=t.volume;e!=null&&n.setMuted(e,"user_initiated"),r!=null&&n.setVolume(r)}},v=[n,l,t],e[11]=n,e[12]=l,e[13]=t,e[14]=b,e[15]=v):(b=e[14],v=e[15]),d(b,v),null}l.default=p}),98);
__d("VideoPlayerWithWatchAndScrollWarningScreen_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithWatchAndScrollWarningScreen_video",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"video_channel"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithWatchAndScrollWarningScreen_video",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"video_channel")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[e],storageKey:null},e,{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}})();a.exports=e}),null);
__d("VideoPlayerWithWatchAndScrollWarningScreen.react",["CometRelay","CometWarningScreenContext","VideoPlayerHooks","VideoPlayerWithWatchAndScrollWarningScreen_video.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useEffect;function m(t){var r,a,i,l,s=o("react-compiler-runtime").c(21),m=t.video,p=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerWithWatchAndScrollWarningScreen_video.graphql"),m),_=(u||(u=o("VideoPlayerHooks"))).useController(),f=u.usePaused(),g=u.useEnded(),h=o("CometWarningScreenContext").useSetOverlayExists(),y=o("CometWarningScreenContext").useShowOverlay(),C=o("CometWarningScreenContext").useIsOverlayShown(),b=p==null||(r=p.cix_screen)==null?void 0:r.view_model,v=b!=null,S=(a=p==null||(i=p.preferred_thumbnail)==null||(i=i.image)==null?void 0:i.uri)!=null?a:"#",R=p==null?void 0:p.id,L=p==null||(l=p.container_story)==null?void 0:l.id,E;s[0]!==h||s[1]!==y||s[2]!==v?(E=function(){v&&(h(!0),y(!0))},s[0]=h,s[1]=y,s[2]=v,s[3]=E):E=s[3];var k;s[4]!==_||s[5]!==h||s[6]!==y||s[7]!==v?(k=[_,h,y,v],s[4]=_,s[5]=h,s[6]=y,s[7]=v,s[8]=k):k=s[8],d(E,k);var I,T;s[9]!==_||s[10]!==C||s[11]!==f?(I=function(){!f&&C&&_.pause("warning_screen_cover")},T=[_,C,f],s[9]=_,s[10]=C,s[11]=f,s[12]=I,s[13]=T):(I=s[12],T=s[13]),d(I,T);var D;return s[14]!==g||s[15]!==v||s[16]!==L||s[17]!==S||s[18]!==R||s[19]!==b?(D=v&&!g?c.jsx(o("CometRelay").MatchContainer,{match:b,props:{alwaysShowDetails:!0,contentID:R,data:b,mediaUri:S,storyID:L,surface:"video_channel"}}):null,s[14]=g,s[15]=v,s[16]=L,s[17]=S,s[18]=R,s[19]=b,s[20]=D):D=s[20],D}l.default=m}),98);
__d("CometWatchAndScroll.react",["CaptionsTextSizeMapping","CometInteractionSourceContext","CometObjectFitContainerWithMaxHeight.react","CometPictureInPictureExpContext","CometPlaceholder.react","CometProductAttribution","CometRelay","CometRouteProductAttributionContext","CometRouterPushViewStackContext","CometSetWatchAndScrollVideoContext","CometTahoeChainingDepthLogging.react","CometTrackingCodeProvider.react","CometUFIVideoPlayerUtils","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometVideoPlayerLoggingConfigForFBWeb","CometWarningScreenContext","CometWatchAndScrollCloseButton.react","CometWatchAndScrollContainer_video.graphql","CometWatchAndScrollSoundContext","CometWatchAndScrollStoryViewabilityLoggerContext","CometWatchAndScrollTopBar.react","CometWatchAndScrollVideoContext","CometWatchAndScrollVideoQuery.graphql","FDSLoadingAnimation.react","HiddenSubtreeContext","HiddenSubtreeContextProvider.react","Locale","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","VideoPlayerCaptionsDisplayConfigContext","VideoPlayerCometWatchInjectionControl.react","VideoPlayerDefaultControls.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerNavigateToTahoeOrFullScreenControl.react","VideoPlayerPictureInPictureControl.react","VideoPlayerRelay.react","VideoPlayerSkipControlBase.react","VideoPlayerSurface.react","VideoPlayerWithAudioOverlay.react","VideoPlayerWithLiveVideoEndscreen.react","VideoPlayerWithLiveVideoIndicator.react","VideoPlayerWithWatchAndScrollSoundContext.react","VideoPlayerWithWatchAndScrollWarningScreen.react","WebPixelRatio","XCometGamingVideoControllerRouteBuilder","XCometWatchControllerRouteBuilder","cr:13811","cr:13812","deferredLoadComponent","gkx","isRouteTransparent","react","react-compiler-runtime","requireDeferred","requireDeferredForDisplay","useCometRouterState","useMWChatOpenTabCount","useMinifiedProductAttribution","useStoryViewabilityLogger","useVideoOriginalDimensionsRelay","useVideoPlayerPortalingPassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=u||(u=o("react")),m=u,p=m.useContext,_=m.useEffect,f=m.useMemo,g=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometWatchAndScroll.react"),h=r("deferredLoadComponent")(r("requireDeferredForDisplay")("VideoPlayerSkipControl.react").__setRef("CometWatchAndScroll.react")),y=o("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("wns");function C(){var e=r("useMWChatOpenTabCount")(),t=e.openTabsCount;return t*338+80}function b(){var e=o("react-compiler-runtime").c(39),t=p(r("CometRouterPushViewStackContext")),n=p(r("CometWatchAndScrollVideoContext")),a=p(r("CometSetWatchAndScrollVideoContext")),l=p(r("CometWatchAndScrollSoundContext")),s=p(r("CometPictureInPictureExpContext")),u=!1;n!=null&&s.pictureInPictureExpConfig.isInPictureInPictureExp&&(u=!0);var c;e[0]!==u||e[1]!==t?(c=u?!1:(t||[]).some(v),e[0]=u,e[1]=t,e[2]=c):c=e[2];var m=c,f=n==null?void 0:n.videoPlayerSessionID,g=n==null?void 0:n.portableVideoID,h=n==null?void 0:n.routeTracePolicy,y=n==null?void 0:n.subOrigin,b=n==null?void 0:n.videoID,R=n==null?void 0:n.renderLocation,L=n==null?void 0:n.chainingSeedVideoID,E=n==null?void 0:n.chainingCursor,k,I;e[3]!==L||e[4]!==a||e[5]!==b||e[6]!==n?(k=function(){n!=null&&b!=null&&L==null&&a(babelHelpers.extends({},n,{chainingSeedVideoID:b}))},I=[L,a,b,n],e[3]=L,e[4]=a,e[5]=b,e[6]=n,e[7]=k,e[8]=I):(k=e[7],I=e[8]),_(k,I);var T,D;e[9]!==l||e[10]!==b?(T=function(){b==null&&(l.setMuted(null),l.setVolume(null))},D=[l,b],e[9]=l,e[10]=b,e[11]=T,e[12]=D):(T=e[11],D=e[12]),_(T,D);var x=C();if(b==null||y==null||h==null||m)return null;var $;e[13]!==u?($={0:"xal61yo x1jn9clo x2c8kfy x1s85apg x1jndppq xl56j7k xz65tgg xixxii4 xxsgkw5",1:"xal61yo x1jn9clo x2c8kfy x78zum5 x1jndppq xl56j7k xz65tgg xixxii4 xxsgkw5"}[!u<<0],e[13]=u,e[14]=$):$=e[14];var P;e[15]!==x?(P=o("Locale").isRTL()?{left:x}:{right:x},e[15]=x,e[16]=P):P=e[16];var N;e[17]===Symbol.for("react.memo_cache_sentinel")?(N=d.jsx("div",{className:"x78zum5 x6gtfd8 x10l6tqk x14qfxbe",children:d.jsx(r("FDSLoadingAnimation.react"),{size:36})}),e[17]=N):N=e[17];var M;e[18]!==$||e[19]!==P?(M=d.jsx("div",{className:$,style:P,children:N}),e[18]=$,e[19]=P,e[20]=M):M=e[20];var w;e[21]!==E||e[22]!==L||e[23]!==g||e[24]!==R||e[25]!==h||e[26]!==y||e[27]!==b||e[28]!==f?(w=d.jsx(S,{chainingCursor:E,chainingSeedVideoID:L,portableVideoID:g,renderLocation:R,routeTracePolicy:h,subOrigin:y,videoID:b,videoPlayerSessionID:f}),e[21]=E,e[22]=L,e[23]=g,e[24]=R,e[25]=h,e[26]=y,e[27]=b,e[28]=f,e[29]=w):w=e[29];var A;e[30]!==u||e[31]!==w?(A=d.jsx(o("CometVideoPictureInPictureManager.react").CometVideoPictureInPictureManager,{isPipEnabled:u,children:w}),e[30]=u,e[31]=w,e[32]=A):A=e[32];var F;e[33]!==m||e[34]!==A?(F=d.jsx(r("HiddenSubtreeContextProvider.react"),{isHidden:m,children:A}),e[33]=m,e[34]=A,e[35]=F):F=e[35];var O;return e[36]!==F||e[37]!==M?(O=d.jsx(r("CometPlaceholder.react"),{fallback:M,name:i.id,children:F}),e[36]=F,e[37]=M,e[38]=O):O=e[38],O}function v(e){var t=e.route;return!r("isRouteTransparent")(t)}function S(t){var a,i,l,s=o("react-compiler-runtime").c(34),u=t.chainingCursor,c=t.chainingSeedVideoID,m=t.portableVideoID,p=t.renderLocation,_=t.routeTracePolicy,f=t.subOrigin,g=t.videoID,h=t.videoPlayerSessionID,C=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("CometWatchAndScrollVideoQuery.graphql"),{chainingCursor:u,chainingDisabled:(a=r("gkx")("6813"))!=null?a:!1,chainingSeedVideoID:c!=null?c:g,scale:o("WebPixelRatio").get(),videoID:g}),b=o("CaptionsTextSizeMapping").FixedCaptionsTextSizeMap,v;s[0]===Symbol.for("react.memo_cache_sentinel")?(v={liveCaptionsTextAlignment:"center",textSizeMapping:o("CaptionsTextSizeMapping").FixedCaptionsTextSizeMap},s[0]=v):v=s[0];var S=v,L;s[1]!==_?(L=o("CometProductAttribution").getProductAttributionEntryV2({link_context:null,navChainContent:null,rootName:"CometWatchAndScroll.react",tap_point:"unexpected",tracePolicy:_,trackingNodes:null}),s[1]=_,s[2]=L):L=s[2];var k;s[3]!==L?(k={v2:[L]},s[3]=L,s[4]=k):k=s[4];var I=k,T=C.chainingSeedVideo,D=C.video;if(D==null)return null;var x=(D==null?void 0:D.is_gaming_video)===!0,$=D==null?void 0:D.id,P;s[5]!==$?(P=r("XCometGamingVideoControllerRouteBuilder").buildURL($!=null?{ref:"comet_wns",video_id:$}:{}),s[5]=$,s[6]=P):P=s[6];var N=P,M;s[7]!==$?(M=r("XCometWatchControllerRouteBuilder").buildURL($!=null?{v:$}:{}),s[7]=$,s[8]=M):M=s[8];var w=M,A=(D==null||(i=D.pay_to_access_paywall)==null?void 0:i.should_show_paywall)===!0,F=x?N:w;if(A)return null;var O;s[9]===Symbol.for("react.memo_cache_sentinel")?(O=o("CometVideoPlayerLoggingConfigForFBWeb").createCometVideoPlayerLoggingConfigForFBWeb(),s[9]=O):O=s[9];var B;s[10]===Symbol.for("react.memo_cache_sentinel")?(B={placeDescription:"watch_and_scroll"},s[10]=B):B=s[10];var W=!!((l=D.owner)!=null&&l.has_professional_features_for_watch),q;s[11]!==T||s[12]!==x||s[13]!==F||s[14]!==p||s[15]!==_||s[16]!==f||s[17]!==W||s[18]!==D||s[19]!==h?(q=d.jsx(E,{chainingSeedVideo:T,isGamingVideo:x,isVideoHomeEligible:W,permalinkUrl:F,renderLocation:p,routeTracePolicy:_,subOrigin:f,video:D,videoPlayerSessionID:h}),s[11]=T,s[12]=x,s[13]=F,s[14]=p,s[15]=_,s[16]=f,s[17]=W,s[18]=D,s[19]=h,s[20]=q):q=s[20];var U;s[21]!==m||s[22]!==_||s[23]!==f||s[24]!==q||s[25]!==D?(U=d.jsx(r("VideoPlayerRelay.react"),{initialTracePolicy:_,loggingConfig:O,playerFormat:"watch_scroll",portalingEnabled:!0,portalingFromVideoID:m,portalingPlaceMetaData:B,subOrigin:f,video:D,volumeSetting:null,children:q}),s[21]=m,s[22]=_,s[23]=f,s[24]=q,s[25]=D,s[26]=U):U=s[26];var V;s[27]!==U||s[28]!==D||s[29]!==g?(V=d.jsx(R,{video:D,videoID:g,children:U}),s[27]=U,s[28]=D,s[29]=g,s[30]=V):V=s[30];var H;return s[31]!==V||s[32]!==I?(H=d.jsx(r("CometInteractionSourceContext").Provider,{value:54,children:d.jsx(r("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:y,children:d.jsx(o("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerContextProvider,{children:d.jsx(o("CometWarningScreenContext").CometWarningScreenContextProvider,{overlayExists:!1,children:d.jsx(r("VideoPlayerCaptionsDisplayConfigContext").Provider,{value:S,children:d.jsx(r("CometRouteProductAttributionContext").Provider,{value:I,children:V})})})})})}),s[31]=V,s[32]=I,s[33]=H):H=s[33],H}function R(e){var t=o("react-compiler-runtime").c(21),a=e.children,i=e.video,l=e.videoID,u=o("CometRelay").useFragment(s!==void 0?s:s=n("CometWatchAndScrollContainer_video.graphql"),i),c=r("useVideoOriginalDimensionsRelay")(u),m=c.originalAspectRatio,_=C(),f=p(r("CometWatchAndScrollStoryViewabilityLoggerContext")),g=(f==null?void 0:f.videoID)===l,h=f==null?void 0:f.clientViewConfig,y=f==null?void 0:f.encryptedTracking,b=f==null?void 0:f.viewabilityConfig,v;t[0]!==h||t[1]!==y||t[2]!==b?(v={clientViewConfig:h,encryptedTracking:y,position:0,viewabilityConfig:b},t[0]=h,t[1]=y,t[2]=b,t[3]=v):v=t[3];var S=r("useStoryViewabilityLogger")(v),R=S.debuggingInfoLoggers,L=S.ref,E=p(r("CometPictureInPictureExpContext")),k=E.pictureInPictureExpConfig.isInPictureInPictureExp,I;t[4]!==k?(I={0:"xal61yo x1jn9clo x2c8kfy x1s85apg x1jndppq xl56j7k xz65tgg xixxii4 xxsgkw5",1:"xal61yo x1jn9clo x2c8kfy x78zum5 x1jndppq xl56j7k xz65tgg xixxii4 xxsgkw5"}[!k<<0],t[4]=k,t[5]=I):I=t[5];var T=g?L:null,D;t[6]!==_?(D=o("Locale").isRTL()?{left:_}:{right:_},t[6]=_,t[7]=D):D=t[7];var x;t[8]!==a||t[9]!==m?(x=d.jsx(r("CometObjectFitContainerWithMaxHeight.react"),{contentAspectRatio:m,maxHeight:300,children:a}),t[8]=a,t[9]=m,t[10]=x):x=t[10];var $;t[11]!==R||t[12]!==I||t[13]!==T||t[14]!==D||t[15]!==x?($=d.jsxs("div",{className:I,ref:T,style:D,children:[R,x]}),t[11]=R,t[12]=I,t[13]=T,t[14]=D,t[15]=x,t[16]=$):$=t[16];var P=$,N=f==null?void 0:f.trackingCode,M;return t[17]!==P||t[18]!==g||t[19]!==N?(M=N!=null&&g?d.jsx(r("CometTrackingCodeProvider.react"),{trackingCode:N,children:P}):P,t[17]=P,t[18]=g,t[19]=N,t[20]=M):M=t[20],M}function L(){var e=o("react-compiler-runtime").c(4),t=(c||(c=o("VideoPlayerHooks"))).useController(),n=p(r("HiddenSubtreeContext")).hidden,a,i;e[0]!==t||e[1]!==n?(a=function(){n||t.play("user_initiated")},i=[t,n],e[0]=t,e[1]=n,e[2]=a,e[3]=i):(a=e[2],i=e[3]),_(a,i)}function E(e){var t=o("react-compiler-runtime").c(64),a=e.chainingSeedVideo,l=e.isGamingVideo,s=e.isVideoHomeEligible,u=e.permalinkUrl,m=e.routeTracePolicy,f=e.subOrigin,y=e.video,C=e.videoPlayerSessionID;L();var b=r("useCometRouterState")(),v=b==null?void 0:b.main.route.tabKey,S=o("CometWarningScreenContext").useHasOverlay(),R=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart(),E=(c||(c=o("VideoPlayerHooks"))).useIsVideoBroadcast(),k=p(r("CometSetWatchAndScrollVideoContext")),I=y.is_soundbites_video===!0,T=s||R||I,D=l?"gaming":"watch",x=s&&!S&&v==="watch"&&!(E!=null&&E),$=v!==D&&s&&!S,P=!l&&($||x),N=n("cr:13812").useWatchAndScrollChainingComponentRenderedStatus(s).isVisible,M=p(r("CometPictureInPictureExpContext")),w=M.pictureInPictureExpConfig.isInPictureInPictureExp,A=M.pictureInPictureExpConfig.isSkipAndChainingDisabled,F=w&&!A,O=!N,B=r("useMinifiedProductAttribution")(),W;t[0]!==B?(W=function(t){g.onReady(function(e){e.log({attribution_id_v2:B,click_point:t,click_target:"watch_and_scroll",event:"click"})})},t[0]=B,t[1]=W):W=t[1];var q=W,U=y.url,V;t[2]!==f||t[3]!==U?(V={subOrigin:f,videoTahoeUrl:U},t[2]=f,t[3]=U,t[4]=V):V=t[4];var H=V,G=o("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SEPARATE_FROM_OTHER_CONTROLS,z=c.useController(),j=p(o("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext),K=r("useVideoPlayerPortalingPassthroughProps")(),Q=K.portableVideoID,X=c.useEnded(),Y,J;t[5]!==j||t[6]!==z||t[7]!==w||t[8]!==Q?(Y=function(){w&&(j.setController(z),j.setPipPortableVideoID(Q))},J=[j,z,Q,w],t[5]=j,t[6]=z,t[7]=w,t[8]=Q,t[9]=Y,t[10]=J):(Y=t[9],J=t[10]),_(Y,J);var Z;t[11]===Symbol.for("react.memo_cache_sentinel")?(Z=d.jsx(r("CometTahoeChainingDepthLogging.react"),{}),t[11]=Z):Z=t[11];var ee;t[12]!==P||t[13]!==l||t[14]!==u||t[15]!==T||t[16]!==m||t[17]!==f||t[18]!==y||t[19]!==U?(ee=T&&d.jsx(r("CometWatchAndScrollTopBar.react"),{isGamingVideo:l,routeTracePolicy:m,subOrigin:f,video:y,videoUrl:P?u:U}),t[12]=P,t[13]=l,t[14]=u,t[15]=T,t[16]=m,t[17]=f,t[18]=y,t[19]=U,t[20]=ee):ee=t[20];var te;t[21]!==a||t[22]!==P||t[23]!==O||t[24]!==q||t[25]!==u||t[26]!==m||t[27]!==k||t[28]!==F||t[29]!==f||t[30]!==C||t[31]!==U?(te=O&&d.jsx(r("VideoPlayerDefaultControls.react"),{mutedButtonVisibility:G,pictureInPictureControl:d.jsx(o("VideoPlayerPictureInPictureControl.react").VideoPlayerPictureInPictureControl,{routeTracePolicy:m,subOrigin:f}),renderExpandControl:function(t){var e=t.onUserInteraction;return P?d.jsx(r("VideoPlayerCometWatchInjectionControl.react"),{onPress:function(){k(null),q("control_open_in_watch")},routeTracePolicy:m,subOrigin:f,videoPlayerSessionID:C,videoWatchUrl:u}):d.jsx(r("VideoPlayerNavigateToTahoeOrFullScreenControl.react"),{onPressFullscreenControl:function(){return q("control_fullscreen")},onPressTahoeControl:function(){q("control_expand_to_tahoe"),k(null)},onUserInteraction:e,subOrigin:"watch_scroll",videoTahoeUrl:U})},shouldRenderCaptionsControl:!1,skipControl:F?d.jsx(r("CometPlaceholder.react"),{fallback:d.jsx(r("VideoPlayerSkipControlBase.react"),{disabled:!0}),name:i.id,children:a?d.jsx(h,{subOrigin:f,video:a}):d.jsx(r("VideoPlayerSkipControlBase.react"),{disabled:!0})}):null,subOrigin:"watch_scroll"}),t[21]=a,t[22]=P,t[23]=O,t[24]=q,t[25]=u,t[26]=m,t[27]=k,t[28]=F,t[29]=f,t[30]=C,t[31]=U,t[32]=te):te=t[32];var ne;t[33]!==T||t[34]!==y?(ne=!T&&d.jsx(r("CometWatchAndScrollCloseButton.react"),{video:y}),t[33]=T,t[34]=y,t[35]=ne):ne=t[35];var re,oe;t[36]!==y?(oe=d.jsx(r("VideoPlayerWithLiveVideoEndscreen.react"),{video:y}),re=d.jsx(r("VideoPlayerWithLiveVideoIndicator.react"),{hasCometNavOverlay:!1,video:y}),t[36]=y,t[37]=re,t[38]=oe):(re=t[37],oe=t[38]);var ae;t[39]!==y?(ae=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(r("VideoPlayerWithAudioOverlay.react"),{playerFormat:"watch_scroll",video:y})}),t[39]=y,t[40]=ae):ae=t[40];var ie;t[41]!==s||t[42]!==m||t[43]!==f||t[44]!==y.watch_and_scroll_chaining_wrapper?(ie=n("cr:13812").VideoPlayerWithWatchAndScrollChainingWrapper!=null&&d.jsx(n("cr:13812").VideoPlayerWithWatchAndScrollChainingWrapper,{isVideoHomeEligible:s,routeTracePolicy:m,subOrigin:f,video:y.watch_and_scroll_chaining_wrapper}),t[41]=s,t[42]=m,t[43]=f,t[44]=y.watch_and_scroll_chaining_wrapper,t[45]=ie):ie=t[45];var le;t[46]!==X?(le=n("cr:13811")!=null&&X&&d.jsx(n("cr:13811"),{}),t[46]=X,t[47]=le):le=t[47];var se;t[48]!==y?(se=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(r("VideoPlayerWithWatchAndScrollWarningScreen.react"),{video:y})}),t[48]=y,t[49]=se):se=t[49];var ue;t[50]!==H?(ue=d.jsx(o("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerExtractor,{data:H}),t[50]=H,t[51]=ue):ue=t[51];var ce;t[52]===Symbol.for("react.memo_cache_sentinel")?(ce=d.jsx(r("VideoPlayerWithWatchAndScrollSoundContext.react"),{}),t[52]=ce):ce=t[52];var de;return t[53]!==re||t[54]!==ae||t[55]!==ie||t[56]!==le||t[57]!==se||t[58]!==ue||t[59]!==ee||t[60]!==te||t[61]!==ne||t[62]!==oe?(de=d.jsxs(r("VideoPlayerSurface.react"),{children:[Z,ee,te,ne,oe,re,ae,ie,le,se,ue,ce]}),t[53]=re,t[54]=ae,t[55]=ie,t[56]=le,t[57]=se,t[58]=ue,t[59]=ee,t[60]=te,t[61]=ne,t[62]=oe,t[63]=de):de=t[63],de}l.default=b}),98);
__d("CometWatchAndScrollActionButton.react",["CometPressable.react","FDSIcon.react","FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(24),n=e.icon,a=e.label,i=e.onPress,l=e.testid,u=e.url,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x14vqqas xbmvrgn xod5an3 x1diwwjn x1n2onr6 x1dmp6jm"},t[0]=c):c=t[0];var d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"},t[1]=d):d=t[1];var m;t[2]!==u?(m={url:u},t[2]=u,t[3]=m):m=t[3];var p;t[4]!==n||t[5]!==a?(p=s.jsx(r("FDSIcon.react"),{"aria-label":a,color:"white",hideHoverOverlay:!0,icon:n}),t[4]=n,t[5]=a,t[6]=p):p=t[6];var _;t[7]!==a||t[8]!==i||t[9]!==m||t[10]!==p?(_=s.jsx("div",babelHelpers.extends({},d,{children:s.jsx(r("CometPressable.react"),{"aria-label":a,linkProps:m,onPress:i,children:p})})),t[7]=a,t[8]=i,t[9]=m,t[10]=p,t[11]=_):_=t[11];var f;t[12]!==u?(f={url:u},t[12]=u,t[13]=f):f=t[13];var g;t[14]!==a?(g=s.jsx(r("FDSText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink4",children:a}),t[14]=a,t[15]=g):g=t[15];var h;t[16]!==i||t[17]!==f||t[18]!==g?(h=s.jsx(r("CometPressable.react"),{linkProps:f,onPress:i,children:g}),t[16]=i,t[17]=f,t[18]=g,t[19]=h):h=t[19];var y;return t[20]!==_||t[21]!==h||t[22]!==l?(y=s.jsxs("div",babelHelpers.extends({},c,{"data-testid":void 0,children:[_,h]})),t[20]=_,t[21]=h,t[22]=l,t[23]=y):y=t[23],y}l.default=u}),98);
__d("CometWatchAndScrollChainingQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10073023446079483"}),null);
__d("CometWatchAndScrollChainingQuery.graphql",["CometWatchAndScrollChainingQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"caller"},{defaultValue:null,kind:"LocalArgument",name:"chainingCursor"},{defaultValue:null,kind:"LocalArgument",name:"channelEntryPoint"},{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"seedVideoID"}],t=[{kind:"Variable",name:"id",variableName:"seedVideoID"}],r=[{kind:"Variable",name:"entry_point",variableName:"channelEntryPoint"}],o=[{kind:"Variable",name:"after",variableName:"chainingCursor"},{kind:"Variable",name:"caller",variableName:"caller"},{kind:"Variable",name:"exclude_video",variableName:"seedVideoID"},{kind:"Variable",name:"first",variableName:"count"}],a={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],u={alias:null,args:[{kind:"Literal",name:"height",value:202},{kind:"Literal",name:"sizing",value:"cover-fill-cropped"},{kind:"Literal",name:"width",value:360}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:s,storageKey:'image(height:202,sizing:"cover-fill-cropped",width:360)'},c=[l],d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},g={alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null},h={kind:"InlineFragment",selections:c,type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometWatchAndScrollChainingQuery",selections:[{alias:null,args:t,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[{alias:null,args:o,concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoChannelFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollContextSection_video"},l,u,{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:c,storageKey:null},d],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},m,p,_,f,g],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometWatchAndScrollChainingQuery",selections:[{alias:null,args:t,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[i,{alias:null,args:o,concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoChannelFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l,{alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:s,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null},l,u,{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[i,l],storageKey:null},d],type:"Video",abstractKey:null},h,{kind:"InlineFragment",selections:c,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:c,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:c,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:c,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},m,p,_,f,g],type:"Story",abstractKey:null},h,{kind:"InlineFragment",selections:c,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:c,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:null},l],storageKey:null}]},params:{id:n("CometWatchAndScrollChainingQuery_facebookRelayOperation"),metadata:{},name:"CometWatchAndScrollChainingQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("CometWatchAndScrollChaining_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWatchAndScrollChaining_video",selections:[{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollFallbackCTAScreen_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometWatchAndScrollContextSection_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometWatchAndScrollContextSection_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],type:"User",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometWatchAndScrollContextSection.react",["CometLink.react","CometRelay","CometWatchAndScrollContextSection_video.graphql","FDSProfilePhoto.react","FDSText.react","XCometVideoHomePlaylistControllerRouteBuilder","isStringNullOrEmpty","react","react-compiler-runtime","requireDeferred","useMinifiedProductAttribution"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometWatchAndScrollContextSection.react");function d(t){var a,i=o("react-compiler-runtime").c(31),l=t.video,s=r("useMinifiedProductAttribution")(),d=o("CometRelay").useFragment(e!==void 0?e:e=n("CometWatchAndScrollContextSection_video.graphql"),l),p=d==null?void 0:d.owner;if(d==null||p==null)return null;var _=p.id,f=p.name,g=p.url,h=(a=p.profile_picture)==null?void 0:a.uri,y="#";if(p.has_professional_features_for_watch===!0){var C;i[0]!==_?(C=r("XCometVideoHomePlaylistControllerRouteBuilder").buildURL({idorvanity:_}),i[0]=_,i[1]=C):C=i[1],y=C}else g!=null&&(y=g);var b,v;i[2]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5"},v={className:"x1xegmmw"},i[2]=b,i[3]=v):(b=i[2],v=i[3]);var S;i[4]!==f||i[5]!==y?(S=r("isStringNullOrEmpty")(f)?y:f,i[4]=f,i[5]=y,i[6]=S):S=i[6];var R;i[7]!==y?(R={url:y},i[7]=y,i[8]=R):R=i[8];var L;i[9]!==s?(L=function(){c.onReady(function(e){e.log({attribution_id_v2:s,click_point:"actor_profile_picture",click_target:"watch_and_scroll_end_screen",event:"click"})})},i[9]=s,i[10]=L):L=i[10];var E=h||"",k;i[11]!==E?(k={uri:E},i[11]=E,i[12]=k):k=i[12];var I;i[13]!==S||i[14]!==R||i[15]!==L||i[16]!==k?(I=u.jsx("div",babelHelpers.extends({},v,{children:u.jsx(r("FDSProfilePhoto.react"),{"aria-label":S,linkProps:R,onPress:L,size:32,source:k})})),i[13]=S,i[14]=R,i[15]=L,i[16]=k,i[17]=I):I=i[17];var T;i[18]===Symbol.for("react.memo_cache_sentinel")?(T={className:"xeuugli"},i[18]=T):T=i[18];var D;i[19]!==f||i[20]!==y?(D=!r("isStringNullOrEmpty")(f)&&u.jsx(r("CometLink.react"),{color_DEPRECATED:"secondary",href:y,onClick:m,children:u.jsx(r("FDSText.react"),{color:"secondary",numberOfLines:1,type:"meta4",children:f})}),i[19]=f,i[20]=y,i[21]=D):D=i[21];var x;i[22]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1gslohp"},i[22]=x):x=i[22];var $=d==null?void 0:d.title_with_fallback,P;i[23]!==$?(P=u.jsx("div",babelHelpers.extends({},x,{children:u.jsx(r("FDSText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:$})})),i[23]=$,i[24]=P):P=i[24];var N;i[25]!==D||i[26]!==P?(N=u.jsxs("div",babelHelpers.extends({},T,{children:[D,P]})),i[25]=D,i[26]=P,i[27]=N):N=i[27];var M;return i[28]!==N||i[29]!==I?(M=u.jsxs("div",babelHelpers.extends({},b,{children:[I,N]})),i[28]=N,i[29]=I,i[30]=M):M=i[30],M}function m(){c.onReady(p)}function p(e){e.log({click_point:"actor_name",click_target:"watch_and_scroll_end_screen",event:"click"})}l.default=d}),98);
__d("CometWatchAndScrollFallbackCTAScreen_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWatchAndScrollFallbackCTAScreen_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerReshareButton_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("FDSRefreshLeftFilled16Icon",["cr:14077"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14077")}),98);
__d("CometWatchAndScrollFallbackCTAScreen.react",["fbt","CometRelay","CometSetWatchAndScrollVideoContext","CometWatchAndScrollActionButton.react","CometWatchAndScrollFallbackCTAScreen_video.graphql","FDSRefreshLeftFilled16Icon","FDSShareFilled16Icon","FDSWatchTvFilled16Icon","VideoPlayerHooks","VideoPlayerReshareButton.react","XCometWatchControllerRouteBuilder","react","react-compiler-runtime","requireDeferred","useCometRouterState","useMinifiedProductAttribution"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useContext,p=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometWatchAndScrollFallbackCTAScreen.react");function _(t){var a=o("react-compiler-runtime").c(20),i=t.setIsCanceled,l=t.video,u=o("CometRelay").useFragment(e!==void 0?e:e=n("CometWatchAndScrollFallbackCTAScreen_video.graphql"),l),_=r("useMinifiedProductAttribution")(),f=(c||(c=o("VideoPlayerHooks"))).useController(),g=r("useCometRouterState")(),h=g==null?void 0:g.main.route.tabKey,y=h!=="watch",C=m(r("CometSetWatchAndScrollVideoContext")),b;a[0]!==_?(b=function(t){p.onReady(function(e){e.log({attribution_id_v2:_,click_point:t,click_target:"watch_and_scroll_end_screen",event:"click"})})},a[0]=_,a[1]=b):b=a[1];var v=b,S,R;a[2]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x6s0dn4 xrmyhay x1l1xfun x13fuv20 x178xt8z x1ey2m1c x9f619 x78zum5 xtijo5x x1o0tod xl56j7k x13zrc24 xp48ta0 x1t1ogtf xtssl2i x10l6tqk x13vifvy"},R={className:"x1cy8zhl x78zum5 x1q0g3np xl56j7k"},a[2]=S,a[3]=R):(S=a[2],R=a[3]);var L;a[4]!==y||a[5]!==v||a[6]!==C?(L=y&&d.jsx(r("CometWatchAndScrollActionButton.react"),{icon:r("FDSWatchTvFilled16Icon"),label:s._(/*BTDS*/"See more in Video"),onPress:function(){C(null),v("watch_button")},url:r("XCometWatchControllerRouteBuilder").buildURL({})}),a[4]=y,a[5]=v,a[6]=C,a[7]=L):L=a[7];var E;a[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Replay video"),a[8]=E):E=a[8];var k;a[9]!==f||a[10]!==v||a[11]!==i?(k=d.jsx(r("CometWatchAndScrollActionButton.react"),{icon:r("FDSRefreshLeftFilled16Icon"),label:E,onPress:function(){f.play("user_initiated"),i(!1),v("replay")}}),a[9]=f,a[10]=v,a[11]=i,a[12]=k):k=a[12];var I;a[13]!==v||a[14]!==u?(I=u!=null&&d.jsx(r("VideoPlayerReshareButton.react"),{renderActionButton:function(t){var e=t.onPress;return d.jsx(r("CometWatchAndScrollActionButton.react"),{icon:r("FDSShareFilled16Icon"),label:s._(/*BTDS*/"Share"),onPress:function(){e(),v("share_button")}})},video:u}),a[13]=v,a[14]=u,a[15]=I):I=a[15];var T;return a[16]!==L||a[17]!==k||a[18]!==I?(T=d.jsx("div",babelHelpers.extends({},S,{children:d.jsxs("div",babelHelpers.extends({},R,{children:[L,k,I]}))})),a[16]=L,a[17]=k,a[18]=I,a[19]=T):T=a[19],T}l.default=_}),226);
__d("CometWatchAndScrollChaining.react",["fbt","CometBackgroundImage.react","CometPictureInPictureExpContext","CometPressable.react","CometRelay","CometSetWatchAndScrollVideoContext","CometTahoeEndScreenProgressCircle.react","CometTheme.react","CometVideoPictureInPictureManager.react","CometWatchAndScrollChainingQuery.graphql","CometWatchAndScrollChaining_video.graphql","CometWatchAndScrollContextSection.react","CometWatchAndScrollFallbackCTAScreen.react","CometWatchAndScrollSetStoryViewabilityLoggerContext","CometWatchAndScrollVideoContext","FDSIcon.react","FDSRefreshLeftFilled20Icon","FDSText.react","VideoPlayerHooks","WebPixelRatio","react","react-compiler-runtime","requireDeferred","useCometTahoeChainingDepth","useMinifiedProductAttribution"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=c||(c=o("react")),p=c,_=p.useCallback,f=p.useContext,g=p.useEffect,h=p.useState,y=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometWatchAndScrollChaining.react");function C(t){var a,i,l,c,p=o("react-compiler-runtime").c(74),_=t.hidden,C=t.routeTracePolicy,S=t.seedVideoID,R=t.subOrigin,L=t.video,E=f(r("CometWatchAndScrollVideoContext")),k=E==null?void 0:E.chainingCursor,I=o("CometRelay").useFragment(e!==void 0?e:e=n("CometWatchAndScrollChaining_video.graphql"),L),T=o("CometRelay").useLazyLoadQuery(u!==void 0?u:u=n("CometWatchAndScrollChainingQuery.graphql"),{caller:"WNS",chainingCursor:k,channelEntryPoint:"WNS",count:1,scale:o("WebPixelRatio").get(),seedVideoID:S}),D=o("useCometTahoeChainingDepth").useChainingDepthContext(),x=D.chainingDepthDispatch,$=h(!1),P=$[0],N=$[1],M=(d||(d=o("VideoPlayerHooks"))).useController(),w=f(r("CometSetWatchAndScrollVideoContext")),A=r("useMinifiedProductAttribution")(),F=(a=T.video)==null||(a=a.video_channel)==null||(a=a.video_channel_feed)==null||(a=a.edges)==null?void 0:a[0],O=F==null?void 0:F.cursor,B=F==null?void 0:F.node,W=B==null||(i=B.attachments)==null||(i=i[0])==null?void 0:i.media,q=(W==null?void 0:W.pmv_metadata)&&W.pmv_metadata!=null,U=!!q,V,H;p[0]!==_||p[1]!==P?(V=function(){!_&&!P&&y.onReady(v)},H=[_,P],p[0]=_,p[1]=P,p[2]=V,p[3]=H):(V=p[2],H=p[3]),g(V,H);var G=f(r("CometWatchAndScrollSetStoryViewabilityLoggerContext")),z=f(r("CometPictureInPictureExpContext")),j;p[4]!==(W==null?void 0:W.id)||p[5]!==(W==null?void 0:W.url)||p[6]!==O||p[7]!==C||p[8]!==S||p[9]!==G||p[10]!==w||p[11]!==(B==null?void 0:B.click_tracking_linkshim_cb)||p[12]!==(B==null?void 0:B.client_view_config)||p[13]!==(B==null?void 0:B.encrypted_click_tracking)||p[14]!==(B==null?void 0:B.encrypted_tracking)||p[15]!==(B==null?void 0:B.viewability_config)||p[16]!==R||p[17]!==(E==null?void 0:E.sessionStartTime)||p[18]!==(E==null?void 0:E.sessionTrigger)?(j=function(t){y.onReady(function(e){e.log({event:t})}),w({chainingCursor:O,chainingSeedVideoID:S,routeTracePolicy:C,sessionStartTime:E==null?void 0:E.sessionStartTime,sessionTrigger:E==null?void 0:E.sessionTrigger,subOrigin:R,videoID:W==null?void 0:W.id,videoUrl:W==null?void 0:W.url}),G({clientViewConfig:B==null?void 0:B.client_view_config,encryptedTracking:B==null?void 0:B.encrypted_tracking,trackingCode:{click_tracking_linkshim_cb:(B==null?void 0:B.click_tracking_linkshim_cb)||"",encrypted_click_tracking:(B==null?void 0:B.encrypted_click_tracking)||"",encrypted_tracking:(B==null?void 0:B.encrypted_tracking)||""},videoID:W==null?void 0:W.id,viewabilityConfig:B==null?void 0:B.viewability_config})},p[4]=W==null?void 0:W.id,p[5]=W==null?void 0:W.url,p[6]=O,p[7]=C,p[8]=S,p[9]=G,p[10]=w,p[11]=B==null?void 0:B.click_tracking_linkshim_cb,p[12]=B==null?void 0:B.client_view_config,p[13]=B==null?void 0:B.encrypted_click_tracking,p[14]=B==null?void 0:B.encrypted_tracking,p[15]=B==null?void 0:B.viewability_config,p[16]=R,p[17]=E==null?void 0:E.sessionStartTime,p[18]=E==null?void 0:E.sessionTrigger,p[19]=j):j=p[19],B==null||B.click_tracking_linkshim_cb,B==null||B.client_view_config,B==null||B.encrypted_click_tracking,B==null||B.encrypted_tracking,B==null||B.viewability_config,E==null||E.sessionStartTime,E==null||E.sessionTrigger;var K=j;if(P){var Q;return p[20]!==I?(Q=m.jsx(r("CometWatchAndScrollFallbackCTAScreen.react"),{setIsCanceled:N,video:I}),p[20]=I,p[21]=Q):Q=p[21],Q}if(W==null||W.__typename!=="Video"){y.onReady(b);var X;return p[22]!==I?(X=m.jsx(r("CometWatchAndScrollFallbackCTAScreen.react"),{setIsCanceled:N,video:I}),p[22]=I,p[23]=X):X=p[23],X}var Y=(l=W.image)==null?void 0:l.uri,J;p[24]!==A?(J=function(){N(!0),y.onReady(function(e){e.log({attribution_id_v2:A,click_point:"cancel_button",click_target:"watch_and_scroll_end_screen",event:"click"})})},p[24]=A,p[25]=J):J=p[25];var Z=J,ee;p[26]!==M||p[27]!==A?(ee=function(){M.play("user_initiated"),y.onReady(function(e){e.log({attribution_id_v2:A,click_point:"replay",click_target:"watch_and_scroll_end_screen",event:"click"})})},p[26]=M,p[27]=A,p[28]=ee):ee=p[28];var te=ee,ne;p[29]===Symbol.for("react.memo_cache_sentinel")?(ne=s._(/*BTDS*/"Replay"),p[29]=ne):ne=p[29];var re=ne,oe=W==null||(c=W.owner)==null?void 0:c.id,ae,ie;p[30]===Symbol.for("react.memo_cache_sentinel")?(ae={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"},ie={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"},p[30]=ae,p[31]=ie):(ae=p[30],ie=p[31]);var le;p[32]!==Y?(le=Y!=null&&m.jsx(r("CometBackgroundImage.react"),{src:Y}),p[32]=Y,p[33]=le):le=p[33];var se;p[34]!==le?(se=m.jsx("div",babelHelpers.extends({},ie,{children:le})),p[34]=le,p[35]=se):se=p[35];var ue,ce;p[36]===Symbol.for("react.memo_cache_sentinel")?(ue={className:"xrmyhay x1ey2m1c x9f619 x78zum5 xdt5ytf xtijo5x x1o0tod x889kno x2vl965 x1a8lsjc xe2zdcy x10l6tqk x13vifvy"},ce={className:"xyorhqc"},p[36]=ue,p[37]=ce):(ue=p[36],ce=p[37]);var de;p[38]===Symbol.for("react.memo_cache_sentinel")?(de=m.jsx("div",babelHelpers.extends({},ce,{children:m.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body3",children:s._(/*BTDS*/"UP NEXT")})})),p[38]=de):de=p[38];var me;p[39]!==W?(me=m.jsx(r("CometWatchAndScrollContextSection.react"),{video:W}),p[39]=W,p[40]=me):me=p[40];var pe,_e;p[41]===Symbol.for("react.memo_cache_sentinel")?(pe={className:"x6s0dn4 x78zum5 xr1yuqi"},_e={className:"x1xegmmw"},p[41]=pe,p[42]=_e):(pe=p[41],_e=p[42]);var fe;p[43]!==te?(fe=m.jsx("div",babelHelpers.extends({},_e,{children:m.jsx(r("FDSIcon.react"),{"aria-label":re,color:"white",icon:r("FDSRefreshLeftFilled20Icon"),onPress:te})})),p[43]=te,p[44]=fe):fe=p[44];var ge;p[45]===Symbol.for("react.memo_cache_sentinel")?(ge=m.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"bodyLink4",children:re}),p[45]=ge):ge=p[45];var he;p[46]!==te?(he=m.jsx(r("CometPressable.react"),{onPress:te,children:ge}),p[46]=te,p[47]=he):he=p[47];var ye;p[48]!==fe||p[49]!==he?(ye=m.jsxs("div",babelHelpers.extends({},pe,{children:[fe,he]})),p[48]=fe,p[49]=he,p[50]=ye):ye=p[50];var Ce;p[51]!==me||p[52]!==ye?(Ce=m.jsxs("div",babelHelpers.extends({},ue,{children:[de,me,ye]})),p[51]=me,p[52]=ye,p[53]=Ce):Ce=p[53];var be,ve;p[54]===Symbol.for("react.memo_cache_sentinel")?(be={className:"x6s0dn4 x1ey2m1c x9f619 x78zum5 xdt5ytf xtijo5x x1o0tod xl56j7k x47corl x10l6tqk x13vifvy"},ve={className:"x1sy10c2 x71s49j"},p[54]=be,p[55]=ve):(be=p[54],ve=p[55]);var Se;p[56]!==oe||p[57]!==x||p[58]!==_||p[59]!==U||p[60]!==K||p[61]!==z?(Se=!_&&m.jsx(r("CometPressable.react"),{"aria-label":s._(/*BTDS*/"Play next video"),onPress:function(){K("watch_and_scroll_chaining_click_advance"),x&&x({type:"INCREMENT"})},children:m.jsx(r("CometTahoeEndScreenProgressCircle.react"),{circleDiameter:44,circleStrokeColor:"var(--base-blue)",circleStrokeWidth:3,iconSize:20,isMakingProgress:!_,onProgressDone:function(){var e=z.pictureInPictureExpConfig.isInPictureInPictureExp,t=z.pictureInPictureExpConfig.isInPictureInPictureExpControlGroup,n=z.pictureInPictureExpConfig.isSkipAndChainingDisabled,r=!e&&!t||(e||t)&&!U&&!o("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(oe)&&!n;if(r)K("watch_and_scroll_chaining_auto_advance"),x&&x({type:"INCREMENT"});else return},timeoutSec:6})}),p[56]=oe,p[57]=x,p[58]=_,p[59]=U,p[60]=K,p[61]=z,p[62]=Se):Se=p[62];var Re;p[63]===Symbol.for("react.memo_cache_sentinel")?(Re={className:"x1anpbxc"},p[63]=Re):Re=p[63];var Le;p[64]===Symbol.for("react.memo_cache_sentinel")?(Le=m.jsx(r("FDSText.react"),{color:"secondary",type:"bodyLink4",children:s._(/*BTDS*/"Cancel")}),p[64]=Le):Le=p[64];var Ee;p[65]!==Z?(Ee=m.jsx("div",babelHelpers.extends({},Re,{children:m.jsx(r("CometPressable.react"),{onPress:Z,children:Le})})),p[65]=Z,p[66]=Ee):Ee=p[66];var ke;p[67]!==Se||p[68]!==Ee?(ke=m.jsx("div",babelHelpers.extends({},be,{children:m.jsxs("div",babelHelpers.extends({},ve,{children:[Se,Ee]}))})),p[67]=Se,p[68]=Ee,p[69]=ke):ke=p[69];var Ie;return p[70]!==se||p[71]!==Ce||p[72]!==ke?(Ie=m.jsx(r("CometTheme.react"),{theme:"dark",children:m.jsxs("div",babelHelpers.extends({},ae,{children:[se,Ce,ke]}))}),p[70]=se,p[71]=Ce,p[72]=ke,p[73]=Ie):Ie=p[73],Ie}function b(e){e.log({event:"watch_and_scroll_chaining_query_empty"})}function v(e){e.log({event:"watch_and_scroll_end_screen_impression"})}l.default=C}),226);
__d("CometWatchAndScrollUpNextCard_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWatchAndScrollUpNextCard_video",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:202},{kind:"Literal",name:"sizing",value:"cover-fill-cropped"},{kind:"Literal",name:"width",value:360}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:'image(height:202,sizing:"cover-fill-cropped",width:360)'},{alias:null,args:null,kind:"ScalarField",name:"title_with_fallback",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometWatchAndScrollUpNextCard.react",["fbt","CometLink.react","CometRelay","CometTahoeEndScreenProgressCircle.react","CometWatchAndScrollUpNextCard_video.graphql","FDSResponsiveColumns.react","FDSText.react","VideoPlayerHooks","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m={metaColumn:{flexBasis:"x12s9zaq",$$css:!0},thumbnailColumn:{flexBasis:"x19l4sor",$$css:!0}};function p(t){var a,i,l=o("react-compiler-runtime").c(29),u=t.hidden,p=t.onNextVideo,_=t.video;r("vulture")("hjrfonmdnMx6rTG4SYL2gRj6J7s=");var f=o("CometRelay").useFragment(e!==void 0?e:e=n("CometWatchAndScrollUpNextCard_video.graphql"),_),g=(c||(c=o("VideoPlayerHooks"))).useEnded();if(f==null)return null;var h=(a=f.image)==null?void 0:a.uri,y;l[0]!==h?(y=h!=null?{backgroundImage:"url("+h+")"}:{backgroundColor:"var(--disabled-icon)"},l[0]=h,l[1]=y):y=l[1];var C=y,b;l[2]===Symbol.for("react.memo_cache_sentinel")?(b="xztyhrg x18d0r48 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy",l[2]=b):b=l[2];var v;l[3]!==C?(v=d.jsx("div",{className:b,style:C}),l[3]=C,l[4]=v):v=l[4];var S=v,R=f.title_with_fallback,L=(i=f.owner)==null?void 0:i.name,E;l[5]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk x1qqjqyx x78zum5 xtijo5x x1o0tod x1xmf6yo x1xegmmw x1e56ztr x13fj5qh x1y1aw1k xf159sx xwib8y2 xmzvs34 x10l6tqk"},l[5]=E):E=l[5];var k;l[6]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x6s0dn4 x78zum5 xdt5ytf xaymia4 x1o0tod xl56j7k x10l6tqk x13vifvy x10y0s8s"},l[6]=k):k=l[6];var I;l[7]!==g||l[8]!==u||l[9]!==p?(I=p&&d.jsx(r("CometLink.react"),{onClick:function(){return p("watch_and_scroll_chaining_click_advance")},children:d.jsx(r("CometTahoeEndScreenProgressCircle.react"),{circleDiameter:32,circleStrokeColor:"var(--base-blue)",circleStrokeWidth:3,iconSize:20,isMakingProgress:!u&&g,onProgressDone:function(){return p("watch_and_scroll_chaining_auto_advance")},timeoutSec:6})}),l[7]=g,l[8]=u,l[9]=p,l[10]=I):I=l[10];var T;l[11]!==S||l[12]!==I?(T=d.jsx(o("FDSResponsiveColumns.react").Column,{xstyle:m.thumbnailColumn,children:d.jsxs("div",babelHelpers.extends({},k,{children:[S,I]}))}),l[11]=S,l[12]=I,l[13]=T):T=l[13];var D,x;l[14]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x78zum5 xdt5ytf xu06os2 x1ok221b"},x={className:"xjpr12u"},l[14]=D,l[15]=x):(D=l[14],x=l[15]);var $,P;l[16]===Symbol.for("react.memo_cache_sentinel")?($=d.jsx("div",babelHelpers.extends({},x,{children:d.jsx(r("FDSText.react"),{color:"secondary",type:"meta4",children:s._(/*BTDS*/"UP NEXT")})})),P={className:"x1xmf6yo"},l[16]=$,l[17]=P):($=l[16],P=l[17]);var N;l[18]!==L?(N=d.jsx("div",babelHelpers.extends({},P,{children:d.jsx(r("FDSText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:L})})),l[18]=L,l[19]=N):N=l[19];var M;l[20]===Symbol.for("react.memo_cache_sentinel")?(M={className:"x1xmf6yo"},l[20]=M):M=l[20];var w;l[21]!==R?(w=d.jsx("div",babelHelpers.extends({},M,{children:d.jsx(r("FDSText.react"),{color:"primary",numberOfLines:1,type:"bodyLink4",children:R})})),l[21]=R,l[22]=w):w=l[22];var A;l[23]!==N||l[24]!==w?(A=d.jsx(o("FDSResponsiveColumns.react").Column,{xstyle:m.metaColumn,children:d.jsxs("div",babelHelpers.extends({},D,{children:[$,N,w]}))}),l[23]=N,l[24]=w,l[25]=A):A=l[25];var F;return l[26]!==A||l[27]!==T?(F=d.jsx("div",babelHelpers.extends({},E,{children:d.jsxs(o("FDSResponsiveColumns.react").Container,{children:[T,A]})})),l[26]=A,l[27]=T,l[28]=F):F=l[28],F}l.default=p}),226);
__d("StructuredConfigBase",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.getBool=function(t){return this.$1.getValue(t)>0},t.getInt=function(t){return this.$1.getValue(t)},e})();i.default=e}),66);
__d("Configs",["StructuredConfigBase"],(function(t,n,r,o,a,i){"use strict";var e,l=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ExampleConfig1=t.getBool(0),t.$ExampleConfig2=t.getBool(2),t.$ExampleConfig3=t.getBool(1724),t.$ExampleConfig4=t.getBool(2044),t.$ExampleConfig5=t.getInt(1),t.$ExampleConfig6=t.getInt(3),t.$ExampleConfig7=t.getInt(2011),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ExampleConfig1=this.getBool(0),this.$ExampleConfig2=this.getBool(2),this.$ExampleConfig3=this.getBool(1724),this.$ExampleConfig4=this.getBool(2044),this.$ExampleConfig5=this.getInt(1),this.$ExampleConfig6=this.getInt(3),this.$ExampleConfig7=this.getInt(2011)},n.isEnabled=function(){return this.$ExampleConfig1},n.isSomeBoolean=function(){return this.$ExampleConfig2},n.isSomeOtherIntegerHasValue=function(){return this.$ExampleConfig3},n.isSomeOtherBoolean=function(){return this.$ExampleConfig4},n.getSomeInteger=function(){return this.$ExampleConfig5},n.getSomeOtherInteger=function(){return this.$ExampleConfig6},n.getSomeDouble=function(){return this.$ExampleConfig7},t})(e=n("StructuredConfigBase")),s=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$PreferredCaptureConfig1=t.getBool(173),t.$PreferredCaptureConfig2=t.getBool(3919),t.$PreferredCaptureConfig3=t.getBool(4478),t.$PreferredCaptureConfig4=t.getInt(174),t.$PreferredCaptureConfig5=t.getInt(175),t.$PreferredCaptureConfig6=t.getInt(176),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$PreferredCaptureConfig1=this.getBool(173),this.$PreferredCaptureConfig2=this.getBool(3919),this.$PreferredCaptureConfig3=this.getBool(4478),this.$PreferredCaptureConfig4=this.getInt(174),this.$PreferredCaptureConfig5=this.getInt(175),this.$PreferredCaptureConfig6=this.getInt(176)},n.isEnabled=function(){return this.$PreferredCaptureConfig1},n.isPreferStableFps=function(){return this.$PreferredCaptureConfig2},n.isEnabledForZenon=function(){return this.$PreferredCaptureConfig3},n.getWidthPx=function(){return this.$PreferredCaptureConfig4},n.getHeightPx=function(){return this.$PreferredCaptureConfig5},n.getFps=function(){return this.$PreferredCaptureConfig6},t})(e),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonSdpTransformConfig1=t.getBool(244),t.$ZenonSdpTransformConfig2=t.getBool(420),t.$ZenonSdpTransformConfig3=t.getBool(421),t.$ZenonSdpTransformConfig4=t.getBool(245),t.$ZenonSdpTransformConfig5=t.getBool(246),t.$ZenonSdpTransformConfig6=t.getBool(248),t.$ZenonSdpTransformConfig7=t.getBool(1448),t.$ZenonSdpTransformConfig8=t.getBool(1444),t.$ZenonSdpTransformConfig9=t.getBool(1445),t.$ZenonSdpTransformConfig10=t.getInt(1446),t.$ZenonSdpTransformConfig11=t.getInt(1447),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonSdpTransformConfig1=this.getBool(244),this.$ZenonSdpTransformConfig2=this.getBool(420),this.$ZenonSdpTransformConfig3=this.getBool(421),this.$ZenonSdpTransformConfig4=this.getBool(245),this.$ZenonSdpTransformConfig5=this.getBool(246),this.$ZenonSdpTransformConfig6=this.getBool(248),this.$ZenonSdpTransformConfig7=this.getBool(1448),this.$ZenonSdpTransformConfig8=this.getBool(1444),this.$ZenonSdpTransformConfig9=this.getBool(1445),this.$ZenonSdpTransformConfig10=this.getInt(1446),this.$ZenonSdpTransformConfig11=this.getInt(1447)},n.isPreserveH264=function(){return this.$ZenonSdpTransformConfig1},n.isPreferH264ForMwCall=function(){return this.$ZenonSdpTransformConfig2},n.isPreferSwH264=function(){return this.$ZenonSdpTransformConfig3},n.isAddAudioNack=function(){return this.$ZenonSdpTransformConfig4},n.isDisableOpusStereo=function(){return this.$ZenonSdpTransformConfig5},n.isPreferIsacForGroupAudio=function(){return this.$ZenonSdpTransformConfig6},n.isEnableOpusFmtpMunging=function(){return this.$ZenonSdpTransformConfig7},n.isSetOpusUsedtx=function(){return this.$ZenonSdpTransformConfig8},n.isSetOpusUseinbandfec=function(){return this.$ZenonSdpTransformConfig9},n.getSetOpusMaxplaybackrate=function(){return this.$ZenonSdpTransformConfig10},n.getSetOpusMaxaveragebitrate=function(){return this.$ZenonSdpTransformConfig11},t})(e),c=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonPeerConnectionConfig1=t.getBool(302),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonPeerConnectionConfig1=this.getBool(302)},n.isRtpDataChannels=function(){return this.$ZenonPeerConnectionConfig1},t})(e),d=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonStartCallImmediatelyConfig1=t.getBool(308),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonStartCallImmediatelyConfig1=this.getBool(308)},n.isEnabled=function(){return this.$ZenonStartCallImmediatelyConfig1},t})(e),m=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonGeneralizedIdentityConfig1=t.getInt(1891),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonGeneralizedIdentityConfig1=this.getInt(1891)},n.getDuplicatedParticipantsProcessingMode=function(){return this.$ZenonGeneralizedIdentityConfig1},t})(e),p=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonMultiCallSupportConfig1=t.getInt(309),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonMultiCallSupportConfig1=this.getInt(309)},n.getMaxConnectedCalls=function(){return this.$ZenonMultiCallSupportConfig1},t})(e),_=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonPlatformSupportConfig1=t.getBool(316),t.$ZenonPlatformSupportConfig2=t.getBool(318),t.$ZenonPlatformSupportConfig3=t.getBool(2251),t.$ZenonPlatformSupportConfig4=t.getBool(1900),t.$ZenonPlatformSupportConfig5=t.getInt(317),t.$ZenonPlatformSupportConfig6=t.getInt(319),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonPlatformSupportConfig1=this.getBool(316),this.$ZenonPlatformSupportConfig2=this.getBool(318),this.$ZenonPlatformSupportConfig3=this.getBool(2251),this.$ZenonPlatformSupportConfig4=this.getBool(1900),this.$ZenonPlatformSupportConfig5=this.getInt(317),this.$ZenonPlatformSupportConfig6=this.getInt(319)},n.isSupportsZenonPlatform=function(){return this.$ZenonPlatformSupportConfig1},n.isStartImmediatelyEnabled=function(){return this.$ZenonPlatformSupportConfig2},n.isUploadSummaryOnCallEnded=function(){return this.$ZenonPlatformSupportConfig3},n.isMultiwayAvEscalationEnabled=function(){return this.$ZenonPlatformSupportConfig4},n.getMaxConnectedCalls=function(){return this.$ZenonPlatformSupportConfig5},n.getParentWindowConnectionTimeoutMs=function(){return this.$ZenonPlatformSupportConfig6},t})(e),f=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonSimulcastConfig1=t.getBool(453),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonSimulcastConfig1=this.getBool(453)},n.isSimulcastEnabled=function(){return this.$ZenonSimulcastConfig1},t})(e),g=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$DynamicRuleConfig1=t.getBool(1342),t.$DynamicRuleConfig2=t.getBool(1597),t.$DynamicRuleConfig3=t.getInt(1359),t.$DynamicRuleConfig4=t.getInt(1510),t.$DynamicRuleConfig5=t.getInt(1612),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$DynamicRuleConfig1=this.getBool(1342),this.$DynamicRuleConfig2=this.getBool(1597),this.$DynamicRuleConfig3=this.getInt(1359),this.$DynamicRuleConfig4=this.getInt(1510),this.$DynamicRuleConfig5=this.getInt(1612)},n.isEnabled=function(){return this.$DynamicRuleConfig1},n.isDebugLoggingEnabled=function(){return this.$DynamicRuleConfig2},n.getProcessIntervalMs=function(){return this.$DynamicRuleConfig3},n.getNetworkProcessIntervalMs=function(){return this.$DynamicRuleConfig4},n.getDebugLoggingIntervalMs=function(){return this.$DynamicRuleConfig5},t})(e),h=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$SignalingPingConfig1=t.getInt(1470),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$SignalingPingConfig1=this.getInt(1470)},n.getPingIntervalMs=function(){return this.$SignalingPingConfig1},t})(e),y=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$NetEqAiConfig1=t.getBool(4550),t.$NetEqAiConfig2=t.getBool(4551),t.$NetEqAiConfig3=t.getInt(4552),t.$NetEqAiConfig4=t.getInt(5477),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$NetEqAiConfig1=this.getBool(4550),this.$NetEqAiConfig2=this.getBool(4551),this.$NetEqAiConfig3=this.getInt(4552),this.$NetEqAiConfig4=this.getInt(5477)},n.isEnabled=function(){return this.$NetEqAiConfig1},n.isDisableTimeStretching=function(){return this.$NetEqAiConfig2},n.getPacketWaitTimeMs=function(){return this.$NetEqAiConfig3},n.getCngDelayMs=function(){return this.$NetEqAiConfig4},t})(e);a.exports={ExampleConfig:l,PreferredCaptureConfig:s,ZenonSdpTransformConfig:u,ZenonPeerConnectionConfig:c,ZenonStartCallImmediatelyConfig:d,ZenonGeneralizedIdentityConfig:m,ZenonMultiCallSupportConfig:p,ZenonPlatformSupportConfig:_,ZenonSimulcastConfig:f,DynamicRuleConfig:g,SignalingPingConfig:h,NetEqAiConfig:y}}),null);
__d("DedupMiThreadCreationCache",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set,s=function(n){var t=r("justknobx")._("4749");t&&e.add(n)};l.DedupMiThreadCreationCache=e,l.addToDedupMiThreadCreationCache=s}),98);
__d("DocumentTitle",["Arbiter"],(function(t,n,r,o,a,i,l){var e=1500,s=null,u=!1,c=0,d=[],m=null,p=document.title,_=0;function f(){d.length>0?u?h():(g(d[c].title),c=++c%d.length):(clearInterval(s),s=null,h())}function g(e){document.title=e,u=!0}function h(){y.set(m||p,!0),u=!1}var y=(function(){function t(e){this.$1=e}t.get=function(){return p},t.set=function(t,n){var e=t.toString();document.title=e,n?m=e:(p=e,m=null,r("Arbiter").inform("update_title",t))},t.blink=function(r){var n={title:r.toString()};return d.push(n),s===null&&(s=setInterval(f,e)),new t(n)};var n=t.prototype;return n.stop=function(){var e=d.indexOf(this.$1);e>=0&&(d.splice(e,1),c>e?c--:c==e&&c==d.length&&(c=0))},t.badge=function(n){var e=t.get(),o=n?"("+n+") "+e:e;t.set(o,!0),r("Arbiter").inform("update_title_badge",n,"state"),_=n},t.preserveBadgeAndSet=function(n){t.set(n,!1),r("Arbiter").inform("update_title",n),t.badge(_)},t})();l.default=y}),98);
__d("E2eeMetricsSerializers",["ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{}}function c(){return{p2p_e2ee:s(),group_e2ee:u()}}function d(t,n){if(n.writeStructBegin("P2pE2eeMetrics"),t.engine_type!=null&&(n.writeFieldBegin({fname:"engine_type",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(BigInt(t.engine_type)),n.writeFieldEnd()),t.status!=null&&(n.writeFieldBegin({fname:"status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:2}),n.writeI64(BigInt(t.status)),n.writeFieldEnd()),t.version!=null&&(n.writeFieldBegin({fname:"version",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(BigInt(t.version)),n.writeFieldEnd()),t.gen_prekey_bundle_time_ms!=null&&(n.writeFieldBegin({fname:"gen_prekey_bundle_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:4}),n.writeI64(BigInt(t.gen_prekey_bundle_time_ms)),n.writeFieldEnd()),t.encrypted_msg_time_ms!=null&&(n.writeFieldBegin({fname:"encrypted_msg_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:5}),n.writeI64(BigInt(t.encrypted_msg_time_ms)),n.writeFieldEnd()),t.decrypted_msg_time_ms!=null&&(n.writeFieldBegin({fname:"decrypted_msg_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:6}),n.writeI64(BigInt(t.decrypted_msg_time_ms)),n.writeFieldEnd()),t.process_sdp_crypto_time_ms!=null&&(n.writeFieldBegin({fname:"process_sdp_crypto_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:7}),n.writeI64(BigInt(t.process_sdp_crypto_time_ms)),n.writeFieldEnd()),t.create_crypto_offer_time_ms!=null&&(n.writeFieldBegin({fname:"create_crypto_offer_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:8}),n.writeI64(BigInt(t.create_crypto_offer_time_ms)),n.writeFieldEnd()),t.create_crypto_answer_time_ms!=null&&(n.writeFieldBegin({fname:"create_crypto_answer_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:9}),n.writeI64(BigInt(t.create_crypto_answer_time_ms)),n.writeFieldEnd()),t.get_ik_time_ms!=null&&(n.writeFieldBegin({fname:"get_ik_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:10}),n.writeI64(BigInt(t.get_ik_time_ms)),n.writeFieldEnd()),t.peer_id!=null&&(n.writeFieldBegin({fname:"peer_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:11}),n.writeI64(BigInt(t.peer_id)),n.writeFieldEnd()),t.peer_connection_index!=null&&(n.writeFieldBegin({fname:"peer_connection_index",ftype:(e||(e=r("ThriftTypes"))).I64,fid:12}),n.writeI64(BigInt(t.peer_connection_index)),n.writeFieldEnd()),t.srtp_crypto_suite!=null&&(n.writeFieldBegin({fname:"srtp_crypto_suite",ftype:(e||(e=r("ThriftTypes"))).I64,fid:13}),n.writeI64(BigInt(t.srtp_crypto_suite)),n.writeFieldEnd()),t.engine_error!=null&&(n.writeFieldBegin({fname:"engine_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:14}),n.writeI64(BigInt(t.engine_error)),n.writeFieldEnd()),t.libsignal_error!=null&&(n.writeFieldBegin({fname:"libsignal_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:15}),n.writeI64(BigInt(t.libsignal_error)),n.writeFieldEnd()),t.identity_key_mode!=null&&(n.writeFieldBegin({fname:"identity_key_mode",ftype:(e||(e=r("ThriftTypes"))).I64,fid:16}),n.writeI64(BigInt(t.identity_key_mode)),n.writeFieldEnd()),t.identity_key_num_persistent!=null&&(n.writeFieldBegin({fname:"identity_key_num_persistent",ftype:(e||(e=r("ThriftTypes"))).I64,fid:17}),n.writeI64(BigInt(t.identity_key_num_persistent)),n.writeFieldEnd()),t.identity_key_num_validated!=null&&(n.writeFieldBegin({fname:"identity_key_num_validated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:18}),n.writeI64(BigInt(t.identity_key_num_validated)),n.writeFieldEnd()),t.identity_key_num_saved!=null&&(n.writeFieldBegin({fname:"identity_key_num_saved",ftype:(e||(e=r("ThriftTypes"))).I64,fid:19}),n.writeI64(BigInt(t.identity_key_num_saved)),n.writeFieldEnd()),t.identity_key_num_existing!=null&&(n.writeFieldBegin({fname:"identity_key_num_existing",ftype:(e||(e=r("ThriftTypes"))).I64,fid:20}),n.writeI64(BigInt(t.identity_key_num_existing)),n.writeFieldEnd()),t.is_e2ee_mandated!=null&&(n.writeFieldBegin({fname:"is_e2ee_mandated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:21}),n.writeI64(BigInt(t.is_e2ee_mandated)),n.writeFieldEnd()),t.local_trace_id!=null&&(n.writeFieldBegin({fname:"local_trace_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:22}),n.writeI64(BigInt(t.local_trace_id)),n.writeFieldEnd()),t.remote_trace_id!=null&&(n.writeFieldBegin({fname:"remote_trace_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:23}),n.writeI64(BigInt(t.remote_trace_id)),n.writeFieldEnd()),t.local_device_id!=null&&(n.writeFieldBegin({fname:"local_device_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:24}),n.writeI64(BigInt(t.local_device_id)),n.writeFieldEnd()),t.remote_device_id!=null&&(n.writeFieldBegin({fname:"remote_device_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:25}),n.writeI64(BigInt(t.remote_device_id)),n.writeFieldEnd()),t.events!=null){n.writeFieldBegin({fname:"events",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:26}),n.writeListBegin({etype:e.I64,size:t.events.length});for(var o of t.events)n.writeI64(BigInt(o));n.writeListEnd(),n.writeFieldEnd()}t.gen_dtls_auth_info_status!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:27}),n.writeI64(BigInt(t.gen_dtls_auth_info_status)),n.writeFieldEnd()),t.gen_dtls_auth_info_libsignal_status!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_libsignal_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:28}),n.writeI64(BigInt(t.gen_dtls_auth_info_libsignal_status)),n.writeFieldEnd()),t.gen_dtls_auth_info_time_ms!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:29}),n.writeI64(BigInt(t.gen_dtls_auth_info_time_ms)),n.writeFieldEnd()),t.verify_dtls_auth_info_status!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:30}),n.writeI64(BigInt(t.verify_dtls_auth_info_status)),n.writeFieldEnd()),t.verify_dtls_auth_info_libsignal_status!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_libsignal_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:31}),n.writeI64(BigInt(t.verify_dtls_auth_info_libsignal_status)),n.writeFieldEnd()),t.verify_dtls_auth_info_time_ms!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:32}),n.writeI64(BigInt(t.verify_dtls_auth_info_time_ms)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function m(t,n){if(n.writeStructBegin("GroupE2eeMetrics"),t.received_key_message_counter!=null&&(n.writeFieldBegin({fname:"received_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(BigInt(t.received_key_message_counter)),n.writeFieldEnd()),t.sent_key_message_counter!=null&&(n.writeFieldBegin({fname:"sent_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:2}),n.writeI64(BigInt(t.sent_key_message_counter)),n.writeFieldEnd()),t.cached_key_message_counter!=null&&(n.writeFieldBegin({fname:"cached_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(BigInt(t.cached_key_message_counter)),n.writeFieldEnd()),t.used_cached_key_counter!=null&&(n.writeFieldBegin({fname:"used_cached_key_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:4}),n.writeI64(BigInt(t.used_cached_key_counter)),n.writeFieldEnd()),t.unused_smu_counter!=null&&(n.writeFieldBegin({fname:"unused_smu_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:5}),n.writeI64(BigInt(t.unused_smu_counter)),n.writeFieldEnd()),t.missing_key_message_counter!=null&&(n.writeFieldBegin({fname:"missing_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:6}),n.writeI64(BigInt(t.missing_key_message_counter)),n.writeFieldEnd()),t.negotiate_off_status!=null&&(n.writeFieldBegin({fname:"negotiate_off_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:7}),n.writeI64(BigInt(t.negotiate_off_status)),n.writeFieldEnd()),t.cipher_suite_status!=null&&(n.writeFieldBegin({fname:"cipher_suite_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:8}),n.writeI64(BigInt(t.cipher_suite_status)),n.writeFieldEnd()),t.decrypt_used_cached_session_counter!=null&&(n.writeFieldBegin({fname:"decrypt_used_cached_session_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:9}),n.writeI64(BigInt(t.decrypt_used_cached_session_counter)),n.writeFieldEnd()),t.encrypt_used_cached_session_counter!=null&&(n.writeFieldBegin({fname:"encrypt_used_cached_session_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:10}),n.writeI64(BigInt(t.encrypt_used_cached_session_counter)),n.writeFieldEnd()),t.sent_ack_message_counter!=null&&(n.writeFieldBegin({fname:"sent_ack_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:11}),n.writeI64(BigInt(t.sent_ack_message_counter)),n.writeFieldEnd()),t.reuse_ackd_uid_counter!=null&&(n.writeFieldBegin({fname:"reuse_ackd_uid_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:12}),n.writeI64(BigInt(t.reuse_ackd_uid_counter)),n.writeFieldEnd()),t.total_uids_created_counter!=null&&(n.writeFieldBegin({fname:"total_uids_created_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:13}),n.writeI64(BigInt(t.total_uids_created_counter)),n.writeFieldEnd()),t.generate_chain_key_failed_error!=null&&(n.writeFieldBegin({fname:"generate_chain_key_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:14}),n.writeI64(BigInt(t.generate_chain_key_failed_error)),n.writeFieldEnd()),t.set_chain_key_failed_error!=null&&(n.writeFieldBegin({fname:"set_chain_key_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:15}),n.writeI64(BigInt(t.set_chain_key_failed_error)),n.writeFieldEnd()),t.key_provider_not_found_error!=null&&(n.writeFieldBegin({fname:"key_provider_not_found_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:16}),n.writeI64(BigInt(t.key_provider_not_found_error)),n.writeFieldEnd()),t.key_message_parse_failed_error!=null&&(n.writeFieldBegin({fname:"key_message_parse_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:17}),n.writeI64(BigInt(t.key_message_parse_failed_error)),n.writeFieldEnd()),t.empty_pkb_result_error!=null&&(n.writeFieldBegin({fname:"empty_pkb_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:18}),n.writeI64(BigInt(t.empty_pkb_result_error)),n.writeFieldEnd()),t.empty_encrypt_result_error!=null&&(n.writeFieldBegin({fname:"empty_encrypt_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:19}),n.writeI64(BigInt(t.empty_encrypt_result_error)),n.writeFieldEnd()),t.empty_decrypt_result_error!=null&&(n.writeFieldBegin({fname:"empty_decrypt_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:20}),n.writeI64(BigInt(t.empty_decrypt_result_error)),n.writeFieldEnd()),t.empty_version_error!=null&&(n.writeFieldBegin({fname:"empty_version_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:21}),n.writeI64(BigInt(t.empty_version_error)),n.writeFieldEnd()),t.unsupported_version_error!=null&&(n.writeFieldBegin({fname:"unsupported_version_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:22}),n.writeI64(BigInt(t.unsupported_version_error)),n.writeFieldEnd()),t.midcall_version_change_error!=null&&(n.writeFieldBegin({fname:"midcall_version_change_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:23}),n.writeI64(BigInt(t.midcall_version_change_error)),n.writeFieldEnd()),t.inconsistent_remote_maps_error!=null&&(n.writeFieldBegin({fname:"inconsistent_remote_maps_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:24}),n.writeI64(BigInt(t.inconsistent_remote_maps_error)),n.writeFieldEnd()),t.key_message_pkb_mismatch_error!=null&&(n.writeFieldBegin({fname:"key_message_pkb_mismatch_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:25}),n.writeI64(BigInt(t.key_message_pkb_mismatch_error)),n.writeFieldEnd()),t.no_key_or_ack_in_e2ee_message_error!=null&&(n.writeFieldBegin({fname:"no_key_or_ack_in_e2ee_message_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:26}),n.writeI64(BigInt(t.no_key_or_ack_in_e2ee_message_error)),n.writeFieldEnd()),t.receiver_key_provider_not_found_error!=null&&(n.writeFieldBegin({fname:"receiver_key_provider_not_found_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:27}),n.writeI64(BigInt(t.receiver_key_provider_not_found_error)),n.writeFieldEnd()),t.pkb_parse_failed_error!=null&&(n.writeFieldBegin({fname:"pkb_parse_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:28}),n.writeI64(BigInt(t.pkb_parse_failed_error)),n.writeFieldEnd()),t.message_deserialized_failed_error!=null&&(n.writeFieldBegin({fname:"message_deserialized_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:29}),n.writeI64(BigInt(t.message_deserialized_failed_error)),n.writeFieldEnd()),t.decrypt_no_identity_key_and_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"decrypt_no_identity_key_and_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:30}),n.writeI64(BigInt(t.decrypt_no_identity_key_and_cached_session_not_used_error)),n.writeFieldEnd()),t.encrypt_no_identity_key_and_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"encrypt_no_identity_key_and_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:31}),n.writeI64(BigInt(t.encrypt_no_identity_key_and_cached_session_not_used_error)),n.writeFieldEnd()),t.decrypt_ack_wrong_message_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_wrong_message_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:32}),n.writeI64(BigInt(t.decrypt_ack_wrong_message_error)),n.writeFieldEnd()),t.invalid_uid_received_error!=null&&(n.writeFieldBegin({fname:"invalid_uid_received_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:33}),n.writeI64(BigInt(t.invalid_uid_received_error)),n.writeFieldEnd()),t.ack_for_absent_user!=null&&(n.writeFieldBegin({fname:"ack_for_absent_user",ftype:(e||(e=r("ThriftTypes"))).I64,fid:34}),n.writeI64(BigInt(t.ack_for_absent_user)),n.writeFieldEnd()),t.uid_not_awaiting_ack_error!=null&&(n.writeFieldBegin({fname:"uid_not_awaiting_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:35}),n.writeI64(BigInt(t.uid_not_awaiting_ack_error)),n.writeFieldEnd()),t.decrypt_ack_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:36}),n.writeI64(BigInt(t.decrypt_ack_error)),n.writeFieldEnd()),t.empty_decrypt_result_ack_error!=null&&(n.writeFieldBegin({fname:"empty_decrypt_result_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:37}),n.writeI64(BigInt(t.empty_decrypt_result_ack_error)),n.writeFieldEnd()),t.decrypt_ack_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:38}),n.writeI64(BigInt(t.decrypt_ack_cached_session_not_used_error)),n.writeFieldEnd()),t.encrypt_ack_error!=null&&(n.writeFieldBegin({fname:"encrypt_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:39}),n.writeI64(BigInt(t.encrypt_ack_error)),n.writeFieldEnd()),t.empty_encrypt_result_ack_error!=null&&(n.writeFieldBegin({fname:"empty_encrypt_result_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:40}),n.writeI64(BigInt(t.empty_encrypt_result_ack_error)),n.writeFieldEnd()),t.invalid_message_type_error!=null&&(n.writeFieldBegin({fname:"invalid_message_type_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:41}),n.writeI64(BigInt(t.invalid_message_type_error)),n.writeFieldEnd()),t.server_state_deserialized_failed_error!=null&&(n.writeFieldBegin({fname:"server_state_deserialized_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:42}),n.writeI64(BigInt(t.server_state_deserialized_failed_error)),n.writeFieldEnd()),t.crypto_engine_failure_error!=null&&(n.writeFieldBegin({fname:"crypto_engine_failure_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:43}),n.writeI64(BigInt(t.crypto_engine_failure_error)),n.writeFieldEnd()),t.empty_e2ee_client_state_error!=null&&(n.writeFieldBegin({fname:"empty_e2ee_client_state_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:44}),n.writeI64(BigInt(t.empty_e2ee_client_state_error)),n.writeFieldEnd()),t.group_e2ee_negotiated!=null&&(n.writeFieldBegin({fname:"group_e2ee_negotiated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:45}),n.writeI64(BigInt(t.group_e2ee_negotiated)),n.writeFieldEnd()),t.negotiation_mode_kn!=null&&(n.writeFieldBegin({fname:"negotiation_mode_kn",ftype:(e||(e=r("ThriftTypes"))).I64,fid:46}),n.writeI64(BigInt(t.negotiation_mode_kn)),n.writeFieldEnd()),t.group_e2ee_setup_status!=null&&(n.writeFieldBegin({fname:"group_e2ee_setup_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:47}),n.writeI64(BigInt(t.group_e2ee_setup_status)),n.writeFieldEnd()),t.enable_group_e2ee!=null&&(n.writeFieldBegin({fname:"enable_group_e2ee",ftype:(e||(e=r("ThriftTypes"))).I64,fid:48}),n.writeI64(BigInt(t.enable_group_e2ee)),n.writeFieldEnd()),t.identity_key_mode_group!=null&&(n.writeFieldBegin({fname:"identity_key_mode_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:49}),n.writeI64(BigInt(t.identity_key_mode_group)),n.writeFieldEnd()),t.identity_key_num_persistent_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_persistent_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:50}),n.writeI64(BigInt(t.identity_key_num_persistent_group)),n.writeFieldEnd()),t.identity_key_num_validated_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_validated_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:51}),n.writeI64(BigInt(t.identity_key_num_validated_group)),n.writeFieldEnd()),t.identity_key_num_saved_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_saved_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:52}),n.writeI64(BigInt(t.identity_key_num_saved_group)),n.writeFieldEnd()),t.identity_key_num_existing_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_existing_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:53}),n.writeI64(BigInt(t.identity_key_num_existing_group)),n.writeFieldEnd()),t.max_key_message_latency_ms!=null&&(n.writeFieldBegin({fname:"max_key_message_latency_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:54}),n.writeI64(BigInt(t.max_key_message_latency_ms)),n.writeFieldEnd()),t.max_key_message_latency_ms_joiner!=null&&(n.writeFieldBegin({fname:"max_key_message_latency_ms_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:55}),n.writeI64(BigInt(t.max_key_message_latency_ms_joiner)),n.writeFieldEnd()),t.max_smu_to_key_message_latency_ms!=null&&(n.writeFieldBegin({fname:"max_smu_to_key_message_latency_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:56}),n.writeI64(BigInt(t.max_smu_to_key_message_latency_ms)),n.writeFieldEnd()),t.process_smu_time_ms!=null&&(n.writeFieldBegin({fname:"process_smu_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:57}),n.writeI64(BigInt(t.process_smu_time_ms)),n.writeFieldEnd()),t.decryption_total_frames!=null&&(n.writeFieldBegin({fname:"decryption_total_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:58}),n.writeI64(BigInt(t.decryption_total_frames)),n.writeFieldEnd()),t.decryption_total_error_frames!=null&&(n.writeFieldBegin({fname:"decryption_total_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:59}),n.writeI64(BigInt(t.decryption_total_error_frames)),n.writeFieldEnd()),t.decryption_error_frames_alloc!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:60}),n.writeI64(BigInt(t.decryption_error_frames_alloc)),n.writeFieldEnd()),t.decryption_error_frames_invalid_params!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:61}),n.writeI64(BigInt(t.decryption_error_frames_invalid_params)),n.writeFieldEnd()),t.decryption_error_frames_cipher!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:62}),n.writeI64(BigInt(t.decryption_error_frames_cipher)),n.writeFieldEnd()),t.decryption_error_frames_parse!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:63}),n.writeI64(BigInt(t.decryption_error_frames_parse)),n.writeFieldEnd()),t.decryption_error_frames_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:64}),n.writeI64(BigInt(t.decryption_error_frames_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_missing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:65}),n.writeI64(BigInt(t.decryption_error_frames_missing_key)),n.writeFieldEnd()),t.decryption_error_frames_out_of_ratchet_space!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_out_of_ratchet_space",ftype:(e||(e=r("ThriftTypes"))).I64,fid:66}),n.writeI64(BigInt(t.decryption_error_frames_out_of_ratchet_space)),n.writeFieldEnd()),t.decryption_error_frames_cipher_auth!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:67}),n.writeI64(BigInt(t.decryption_error_frames_cipher_auth)),n.writeFieldEnd()),t.decryption_error_frames_frame_too_old!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_frame_too_old",ftype:(e||(e=r("ThriftTypes"))).I64,fid:68}),n.writeI64(BigInt(t.decryption_error_frames_frame_too_old)),n.writeFieldEnd()),t.decryption_error_frames_seen_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_seen_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:69}),n.writeI64(BigInt(t.decryption_error_frames_seen_frame)),n.writeFieldEnd()),t.decryption_error_frames_invalid_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:70}),n.writeI64(BigInt(t.decryption_error_frames_invalid_frame)),n.writeFieldEnd()),t.decryption_error_frames_setting_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_setting_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:71}),n.writeI64(BigInt(t.decryption_error_frames_setting_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_setting_existing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_setting_existing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:72}),n.writeI64(BigInt(t.decryption_error_frames_setting_existing_key)),n.writeFieldEnd()),t.decryption_error_frames_escape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:73}),n.writeI64(BigInt(t.decryption_error_frames_escape_data)),n.writeFieldEnd()),t.decryption_error_frames_deescape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:74}),n.writeI64(BigInt(t.decryption_error_frames_deescape_data)),n.writeFieldEnd()),t.decryption_error_frames_parse_frame_or_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_parse_frame_or_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:75}),n.writeI64(BigInt(t.decryption_error_frames_parse_frame_or_key)),n.writeFieldEnd()),t.decryption_error_frames_unknown!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:76}),n.writeI64(BigInt(t.decryption_error_frames_unknown)),n.writeFieldEnd()),t.decryption_unencrypted_frames!=null&&(n.writeFieldBegin({fname:"decryption_unencrypted_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:77}),n.writeI64(BigInt(t.decryption_unencrypted_frames)),n.writeFieldEnd()),t.encryption_total_frames!=null&&(n.writeFieldBegin({fname:"encryption_total_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:78}),n.writeI64(BigInt(t.encryption_total_frames)),n.writeFieldEnd()),t.encryption_error_frames!=null&&(n.writeFieldBegin({fname:"encryption_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:79}),n.writeI64(BigInt(t.encryption_error_frames)),n.writeFieldEnd()),t.encryption_escape_bytes!=null&&(n.writeFieldBegin({fname:"encryption_escape_bytes",ftype:(e||(e=r("ThriftTypes"))).I64,fid:80}),n.writeI64(BigInt(t.encryption_escape_bytes)),n.writeFieldEnd()),t.encryption_total_error_frames!=null&&(n.writeFieldBegin({fname:"encryption_total_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:81}),n.writeI64(BigInt(t.encryption_total_error_frames)),n.writeFieldEnd()),t.encryption_error_frames_alloc!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:82}),n.writeI64(BigInt(t.encryption_error_frames_alloc)),n.writeFieldEnd()),t.encryption_error_frames_invalid_params!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:83}),n.writeI64(BigInt(t.encryption_error_frames_invalid_params)),n.writeFieldEnd()),t.encryption_error_frames_cipher!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:84}),n.writeI64(BigInt(t.encryption_error_frames_cipher)),n.writeFieldEnd()),t.encryption_error_frames_parse!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:85}),n.writeI64(BigInt(t.encryption_error_frames_parse)),n.writeFieldEnd()),t.encryption_error_frames_invalid_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:86}),n.writeI64(BigInt(t.encryption_error_frames_invalid_key)),n.writeFieldEnd()),t.encryption_error_frames_cipher_auth!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:87}),n.writeI64(BigInt(t.encryption_error_frames_cipher_auth)),n.writeFieldEnd()),t.encryption_error_frames_escape_data!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:88}),n.writeI64(BigInt(t.encryption_error_frames_escape_data)),n.writeFieldEnd()),t.encryption_error_frames_unsupported_codec!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_unsupported_codec",ftype:(e||(e=r("ThriftTypes"))).I64,fid:89}),n.writeI64(BigInt(t.encryption_error_frames_unsupported_codec)),n.writeFieldEnd()),t.encryption_error_frames_unknown!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:90}),n.writeI64(BigInt(t.encryption_error_frames_unknown)),n.writeFieldEnd()),t.decryption_total_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_total_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:91}),n.writeI64(BigInt(t.decryption_total_frames_data_channel)),n.writeFieldEnd()),t.decryption_total_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_total_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:92}),n.writeI64(BigInt(t.decryption_total_error_frames_data_channel)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_alloc!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:93}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_alloc)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_params!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:94}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_params)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_cipher!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:95}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_cipher)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_parse!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:96}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_parse)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:97}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_missing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:98}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_missing_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_out_of_ratchet_space!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_out_of_ratchet_space",ftype:(e||(e=r("ThriftTypes"))).I64,fid:99}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_out_of_ratchet_space)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_cipher_auth!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:100}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_cipher_auth)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_frame_too_old!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_frame_too_old",ftype:(e||(e=r("ThriftTypes"))).I64,fid:101}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_frame_too_old)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_seen_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_seen_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:102}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_seen_frame)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:103}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_frame)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_setting_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:104}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_setting_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_setting_existing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_existing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:105}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_setting_existing_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_escape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:106}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_escape_data)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_deescape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:107}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_deescape_data)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_parse_frame_or_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse_frame_or_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:108}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_parse_frame_or_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_unknown!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:109}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_unknown)),n.writeFieldEnd()),t.decryption_unencrypted_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_unencrypted_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:110}),n.writeI64(BigInt(t.decryption_unencrypted_frames_data_channel)),n.writeFieldEnd()),t.encryption_total_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_total_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:111}),n.writeI64(BigInt(t.encryption_total_frames_data_channel)),n.writeFieldEnd()),t.encryption_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:112}),n.writeI64(BigInt(t.encryption_error_frames_data_channel)),n.writeFieldEnd()),t.encryption_total_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_total_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:113}),n.writeI64(BigInt(t.encryption_total_error_frames_data_channel)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_alloc!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:114}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_alloc)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_invalid_params!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:115}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_invalid_params)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_cipher!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:116}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_cipher)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_parse!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:117}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_parse)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_invalid_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:118}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_invalid_key)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_cipher_auth!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:119}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_cipher_auth)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_escape_data!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:120}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_escape_data)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_unsupported_codec!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_unsupported_codec",ftype:(e||(e=r("ThriftTypes"))).I64,fid:121}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_unsupported_codec)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_unknown!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:122}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_unknown)),n.writeFieldEnd()),t.num_removed_data_decryptors!=null&&(n.writeFieldBegin({fname:"num_removed_data_decryptors",ftype:(e||(e=r("ThriftTypes"))).I64,fid:123}),n.writeI64(BigInt(t.num_removed_data_decryptors)),n.writeFieldEnd()),t.num_frame_decryptor_with_unencrypted_data!=null&&(n.writeFieldBegin({fname:"num_frame_decryptor_with_unencrypted_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:124}),n.writeI64(BigInt(t.num_frame_decryptor_with_unencrypted_data)),n.writeFieldEnd()),t.num_removed_decryptors!=null&&(n.writeFieldBegin({fname:"num_removed_decryptors",ftype:(e||(e=r("ThriftTypes"))).I64,fid:125}),n.writeI64(BigInt(t.num_removed_decryptors)),n.writeFieldEnd()),t.data_channel_encryption_not_ready_in_mandated_calls_error!=null&&(n.writeFieldBegin({fname:"data_channel_encryption_not_ready_in_mandated_calls_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:126}),n.writeI64(BigInt(t.data_channel_encryption_not_ready_in_mandated_calls_error)),n.writeFieldEnd()),t.num_e2ee_message_total_encrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_total_encrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:127}),n.writeI64(BigInt(t.num_e2ee_message_total_encrypt)),n.writeFieldEnd()),t.num_e2ee_message_error_encrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_encrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:128}),n.writeI64(BigInt(t.num_e2ee_message_error_encrypt)),n.writeFieldEnd()),t.num_e2ee_message_total_decrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_total_decrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:129}),n.writeI64(BigInt(t.num_e2ee_message_total_decrypt)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:130}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt)),n.writeFieldEnd()),t.negotiate_off_time!=null&&(n.writeFieldBegin({fname:"negotiate_off_time",ftype:(e||(e=r("ThriftTypes"))).I64,fid:131}),n.writeI64(BigInt(t.negotiate_off_time)),n.writeFieldEnd()),t.negotiated_version!=null&&(n.writeFieldBegin({fname:"negotiated_version",ftype:(e||(e=r("ThriftTypes"))).I64,fid:132}),n.writeI64(BigInt(t.negotiated_version)),n.writeFieldEnd()),t.decryptor_removed_time!=null&&(n.writeFieldBegin({fname:"decryptor_removed_time",ftype:(e||(e=r("ThriftTypes"))).I64,fid:133}),n.writeI64(BigInt(t.decryptor_removed_time)),n.writeFieldEnd()),t.is_e2ee_mandated_group!=null&&(n.writeFieldBegin({fname:"is_e2ee_mandated_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:134}),n.writeI64(BigInt(t.is_e2ee_mandated_group)),n.writeFieldEnd()),t.events!=null){n.writeFieldBegin({fname:"events",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:135}),n.writeListBegin({etype:e.I64,size:t.events.length});for(var o of t.events)n.writeI64(BigInt(o));n.writeListEnd(),n.writeFieldEnd()}t.num_e2ee_message_received!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_received",ftype:(e||(e=r("ThriftTypes"))).I64,fid:136}),n.writeI64(BigInt(t.num_e2ee_message_received)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_non_e2ee_received!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_non_e2ee_received",ftype:(e||(e=r("ThriftTypes"))).I64,fid:137}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_non_e2ee_received)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_missing_sender!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_missing_sender",ftype:(e||(e=r("ThriftTypes"))).I64,fid:138}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_missing_sender)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_exceeding_retry!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_exceeding_retry",ftype:(e||(e=r("ThriftTypes"))).I64,fid:139}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_exceeding_retry)),n.writeFieldEnd()),t.max_media_channel_key_message_retry_count!=null&&(n.writeFieldBegin({fname:"max_media_channel_key_message_retry_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:140}),n.writeI64(BigInt(t.max_media_channel_key_message_retry_count)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions",ftype:(e||(e=r("ThriftTypes"))).I64,fid:141}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions_failures!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures",ftype:(e||(e=r("ThriftTypes"))).I64,fid:142}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions_failures)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:143}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key)),n.writeFieldEnd()),t.g_e2ee_decryption_error_frames_empty_supported_codes!=null&&(n.writeFieldBegin({fname:"g_e2ee_decryption_error_frames_empty_supported_codes",ftype:(e||(e=r("ThriftTypes"))).I64,fid:144}),n.writeI64(BigInt(t.g_e2ee_decryption_error_frames_empty_supported_codes)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_empty!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty",ftype:(e||(e=r("ThriftTypes"))).I64,fid:146}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_empty)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_empty_nalu_blocks!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty_nalu_blocks",ftype:(e||(e=r("ThriftTypes"))).I64,fid:147}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_empty_nalu_blocks)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h264!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h264",ftype:(e||(e=r("ThriftTypes"))).I64,fid:148}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h264)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h265!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265",ftype:(e||(e=r("ThriftTypes"))).I64,fid:149}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h265)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h265_nalu_block!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265_nalu_block",ftype:(e||(e=r("ThriftTypes"))).I64,fid:150}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h265_nalu_block)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_encryptions!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions",ftype:(e||(e=r("ThriftTypes"))).I64,fid:151}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_encryptions)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_encryptions_failures!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions_failures",ftype:(e||(e=r("ThriftTypes"))).I64,fid:152}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_encryptions_failures)),n.writeFieldEnd()),t.encryption_error_frames_no_active_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_no_active_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:153}),n.writeI64(BigInt(t.encryption_error_frames_no_active_key)),n.writeFieldEnd()),t.key_negotiation_protocol!=null&&(n.writeFieldBegin({fname:"key_negotiation_protocol",ftype:(e||(e=r("ThriftTypes"))).I64,fid:154}),n.writeI64(BigInt(t.key_negotiation_protocol)),n.writeFieldEnd()),t.key_messages_received_via_signaling!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_signaling",ftype:(e||(e=r("ThriftTypes"))).I64,fid:155}),n.writeI64(BigInt(t.key_messages_received_via_signaling)),n.writeFieldEnd()),t.key_messages_received_via_media!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_media",ftype:(e||(e=r("ThriftTypes"))).I64,fid:156}),n.writeI64(BigInt(t.key_messages_received_via_media)),n.writeFieldEnd()),t.key_messages_received_via_signaling_joiner!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_signaling_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:157}),n.writeI64(BigInt(t.key_messages_received_via_signaling_joiner)),n.writeFieldEnd()),t.key_messages_received_via_media_joiner!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_media_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:158}),n.writeI64(BigInt(t.key_messages_received_via_media_joiner)),n.writeFieldEnd()),t.g_e2ee_participant_hash_verification_failed_error!=null&&(n.writeFieldBegin({fname:"g_e2ee_participant_hash_verification_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:159}),n.writeI64(BigInt(t.g_e2ee_participant_hash_verification_failed_error)),n.writeFieldEnd()),t.g_e2ee_invalid_key_distributor_id_error!=null&&(n.writeFieldBegin({fname:"g_e2ee_invalid_key_distributor_id_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:160}),n.writeI64(BigInt(t.g_e2ee_invalid_key_distributor_id_error)),n.writeFieldEnd()),t.g_e2ee_key_message_validation_failure_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_key_message_validation_failure_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:161}),n.writeI64(BigInt(t.g_e2ee_key_message_validation_failure_count)),n.writeFieldEnd()),t.g_e2ee_cached_decrypted_key_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_cached_decrypted_key_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:162}),n.writeI64(BigInt(t.g_e2ee_cached_decrypted_key_count)),n.writeFieldEnd()),t.g_e2ee_reapply_cached_decrypted_key_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_reapply_cached_decrypted_key_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:163}),n.writeI64(BigInt(t.g_e2ee_reapply_cached_decrypted_key_count)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset",ftype:(e||(e=r("ThriftTypes"))).I64,fid:164}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_invalid_obu_offset!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_invalid_obu_offset",ftype:(e||(e=r("ThriftTypes"))).I64,fid:165}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_invalid_obu_offset)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension",ftype:(e||(e=r("ThriftTypes"))).I64,fid:166}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension",ftype:(e||(e=r("ThriftTypes"))).I64,fid:167}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size",ftype:(e||(e=r("ThriftTypes"))).I64,fid:168}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size",ftype:(e||(e=r("ThriftTypes"))).I64,fid:169}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure",ftype:(e||(e=r("ThriftTypes"))).I64,fid:170}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_leb128_parse_failure!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_leb128_parse_failure",ftype:(e||(e=r("ThriftTypes"))).I64,fid:171}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_leb128_parse_failure)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_empty_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_empty_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:172}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_empty_frame)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_empty_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_empty_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:173}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_empty_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_data_channel_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:174}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:175}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_data_channel_av1_deescape_data!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_data_channel_av1_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:176}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_data_channel_av1_deescape_data)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_av1_deescape_data!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_av1_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:177}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_av1_deescape_data)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:178}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:179}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_invalid_frame)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function p(t,n){if(n.writeStructBegin("E2eeMetrics"),n.writeFieldBegin({fname:"p2p_e2ee",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),t.p2p_e2ee!=null)d(t.p2p_e2ee,n);else{var o=s();d(o,n)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"group_e2ee",ftype:e.STRUCT,fid:2}),t.group_e2ee!=null)m(t.group_e2ee,n);else{var a=u();m(a,n)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function _(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.engine_type=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.status=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).I64?n.version=t.readI64().toString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).I64?n.gen_prekey_bundle_time_ms=t.readI64().toString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).I64?n.encrypted_msg_time_ms=t.readI64().toString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).I64?n.decrypted_msg_time_ms=t.readI64().toString():t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).I64?n.process_sdp_crypto_time_ms=t.readI64().toString():t.skip(a);break;case 8:a===(e||(e=r("ThriftTypes"))).I64?n.create_crypto_offer_time_ms=t.readI64().toString():t.skip(a);break;case 9:a===(e||(e=r("ThriftTypes"))).I64?n.create_crypto_answer_time_ms=t.readI64().toString():t.skip(a);break;case 10:a===(e||(e=r("ThriftTypes"))).I64?n.get_ik_time_ms=t.readI64().toString():t.skip(a);break;case 11:a===(e||(e=r("ThriftTypes"))).I64?n.peer_id=t.readI64().toString():t.skip(a);break;case 12:a===(e||(e=r("ThriftTypes"))).I64?n.peer_connection_index=t.readI64().toString():t.skip(a);break;case 13:a===(e||(e=r("ThriftTypes"))).I64?n.srtp_crypto_suite=t.readI64().toString():t.skip(a);break;case 14:a===(e||(e=r("ThriftTypes"))).I64?n.engine_error=t.readI64().toString():t.skip(a);break;case 15:a===(e||(e=r("ThriftTypes"))).I64?n.libsignal_error=t.readI64().toString():t.skip(a);break;case 16:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_mode=t.readI64().toString():t.skip(a);break;case 17:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_persistent=t.readI64().toString():t.skip(a);break;case 18:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_validated=t.readI64().toString():t.skip(a);break;case 19:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_saved=t.readI64().toString():t.skip(a);break;case 20:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_existing=t.readI64().toString():t.skip(a);break;case 21:a===(e||(e=r("ThriftTypes"))).I64?n.is_e2ee_mandated=t.readI64().toString():t.skip(a);break;case 22:a===(e||(e=r("ThriftTypes"))).I64?n.local_trace_id=t.readI64().toString():t.skip(a);break;case 23:a===(e||(e=r("ThriftTypes"))).I64?n.remote_trace_id=t.readI64().toString():t.skip(a);break;case 24:a===(e||(e=r("ThriftTypes"))).I64?n.local_device_id=t.readI64().toString():t.skip(a);break;case 25:a===(e||(e=r("ThriftTypes"))).I64?n.remote_device_id=t.readI64().toString():t.skip(a);break;case 26:if(a===(e||(e=r("ThriftTypes"))).LIST){n.events=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.events.push(u)}}else t.skip(a);break;case 27:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_status=t.readI64().toString():t.skip(a);break;case 28:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_libsignal_status=t.readI64().toString():t.skip(a);break;case 29:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_time_ms=t.readI64().toString():t.skip(a);break;case 30:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_status=t.readI64().toString():t.skip(a);break;case 31:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_libsignal_status=t.readI64().toString():t.skip(a);break;case 32:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_time_ms=t.readI64().toString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function f(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.received_key_message_counter=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.sent_key_message_counter=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).I64?n.cached_key_message_counter=t.readI64().toString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).I64?n.used_cached_key_counter=t.readI64().toString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).I64?n.unused_smu_counter=t.readI64().toString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).I64?n.missing_key_message_counter=t.readI64().toString():t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).I64?n.negotiate_off_status=t.readI64().toString():t.skip(a);break;case 8:a===(e||(e=r("ThriftTypes"))).I64?n.cipher_suite_status=t.readI64().toString():t.skip(a);break;case 9:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_used_cached_session_counter=t.readI64().toString():t.skip(a);break;case 10:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_used_cached_session_counter=t.readI64().toString():t.skip(a);break;case 11:a===(e||(e=r("ThriftTypes"))).I64?n.sent_ack_message_counter=t.readI64().toString():t.skip(a);break;case 12:a===(e||(e=r("ThriftTypes"))).I64?n.reuse_ackd_uid_counter=t.readI64().toString():t.skip(a);break;case 13:a===(e||(e=r("ThriftTypes"))).I64?n.total_uids_created_counter=t.readI64().toString():t.skip(a);break;case 14:a===(e||(e=r("ThriftTypes"))).I64?n.generate_chain_key_failed_error=t.readI64().toString():t.skip(a);break;case 15:a===(e||(e=r("ThriftTypes"))).I64?n.set_chain_key_failed_error=t.readI64().toString():t.skip(a);break;case 16:a===(e||(e=r("ThriftTypes"))).I64?n.key_provider_not_found_error=t.readI64().toString():t.skip(a);break;case 17:a===(e||(e=r("ThriftTypes"))).I64?n.key_message_parse_failed_error=t.readI64().toString():t.skip(a);break;case 18:a===(e||(e=r("ThriftTypes"))).I64?n.empty_pkb_result_error=t.readI64().toString():t.skip(a);break;case 19:a===(e||(e=r("ThriftTypes"))).I64?n.empty_encrypt_result_error=t.readI64().toString():t.skip(a);break;case 20:a===(e||(e=r("ThriftTypes"))).I64?n.empty_decrypt_result_error=t.readI64().toString():t.skip(a);break;case 21:a===(e||(e=r("ThriftTypes"))).I64?n.empty_version_error=t.readI64().toString():t.skip(a);break;case 22:a===(e||(e=r("ThriftTypes"))).I64?n.unsupported_version_error=t.readI64().toString():t.skip(a);break;case 23:a===(e||(e=r("ThriftTypes"))).I64?n.midcall_version_change_error=t.readI64().toString():t.skip(a);break;case 24:a===(e||(e=r("ThriftTypes"))).I64?n.inconsistent_remote_maps_error=t.readI64().toString():t.skip(a);break;case 25:a===(e||(e=r("ThriftTypes"))).I64?n.key_message_pkb_mismatch_error=t.readI64().toString():t.skip(a);break;case 26:a===(e||(e=r("ThriftTypes"))).I64?n.no_key_or_ack_in_e2ee_message_error=t.readI64().toString():t.skip(a);break;case 27:a===(e||(e=r("ThriftTypes"))).I64?n.receiver_key_provider_not_found_error=t.readI64().toString():t.skip(a);break;case 28:a===(e||(e=r("ThriftTypes"))).I64?n.pkb_parse_failed_error=t.readI64().toString():t.skip(a);break;case 29:a===(e||(e=r("ThriftTypes"))).I64?n.message_deserialized_failed_error=t.readI64().toString():t.skip(a);break;case 30:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_no_identity_key_and_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 31:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_no_identity_key_and_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 32:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_wrong_message_error=t.readI64().toString():t.skip(a);break;case 33:a===(e||(e=r("ThriftTypes"))).I64?n.invalid_uid_received_error=t.readI64().toString():t.skip(a);break;case 34:a===(e||(e=r("ThriftTypes"))).I64?n.ack_for_absent_user=t.readI64().toString():t.skip(a);break;case 35:a===(e||(e=r("ThriftTypes"))).I64?n.uid_not_awaiting_ack_error=t.readI64().toString():t.skip(a);break;case 36:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_error=t.readI64().toString():t.skip(a);break;case 37:a===(e||(e=r("ThriftTypes"))).I64?n.empty_decrypt_result_ack_error=t.readI64().toString():t.skip(a);break;case 38:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 39:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_ack_error=t.readI64().toString():t.skip(a);break;case 40:a===(e||(e=r("ThriftTypes"))).I64?n.empty_encrypt_result_ack_error=t.readI64().toString():t.skip(a);break;case 41:a===(e||(e=r("ThriftTypes"))).I64?n.invalid_message_type_error=t.readI64().toString():t.skip(a);break;case 42:a===(e||(e=r("ThriftTypes"))).I64?n.server_state_deserialized_failed_error=t.readI64().toString():t.skip(a);break;case 43:a===(e||(e=r("ThriftTypes"))).I64?n.crypto_engine_failure_error=t.readI64().toString():t.skip(a);break;case 44:a===(e||(e=r("ThriftTypes"))).I64?n.empty_e2ee_client_state_error=t.readI64().toString():t.skip(a);break;case 45:a===(e||(e=r("ThriftTypes"))).I64?n.group_e2ee_negotiated=t.readI64().toString():t.skip(a);break;case 46:a===(e||(e=r("ThriftTypes"))).I64?n.negotiation_mode_kn=t.readI64().toString():t.skip(a);break;case 47:a===(e||(e=r("ThriftTypes"))).I64?n.group_e2ee_setup_status=t.readI64().toString():t.skip(a);break;case 48:a===(e||(e=r("ThriftTypes"))).I64?n.enable_group_e2ee=t.readI64().toString():t.skip(a);break;case 49:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_mode_group=t.readI64().toString():t.skip(a);break;case 50:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_persistent_group=t.readI64().toString():t.skip(a);break;case 51:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_validated_group=t.readI64().toString():t.skip(a);break;case 52:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_saved_group=t.readI64().toString():t.skip(a);break;case 53:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_existing_group=t.readI64().toString():t.skip(a);break;case 54:a===(e||(e=r("ThriftTypes"))).I64?n.max_key_message_latency_ms=t.readI64().toString():t.skip(a);break;case 55:a===(e||(e=r("ThriftTypes"))).I64?n.max_key_message_latency_ms_joiner=t.readI64().toString():t.skip(a);break;case 56:a===(e||(e=r("ThriftTypes"))).I64?n.max_smu_to_key_message_latency_ms=t.readI64().toString():t.skip(a);break;case 57:a===(e||(e=r("ThriftTypes"))).I64?n.process_smu_time_ms=t.readI64().toString():t.skip(a);break;case 58:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_frames=t.readI64().toString():t.skip(a);break;case 59:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_error_frames=t.readI64().toString():t.skip(a);break;case 60:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_alloc=t.readI64().toString():t.skip(a);break;case 61:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_params=t.readI64().toString():t.skip(a);break;case 62:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_cipher=t.readI64().toString():t.skip(a);break;case 63:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_parse=t.readI64().toString():t.skip(a);break;case 64:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_key=t.readI64().toString():t.skip(a);break;case 65:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_missing_key=t.readI64().toString():t.skip(a);break;case 66:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_out_of_ratchet_space=t.readI64().toString():t.skip(a);break;case 67:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_cipher_auth=t.readI64().toString():t.skip(a);break;case 68:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_frame_too_old=t.readI64().toString():t.skip(a);break;case 69:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_seen_frame=t.readI64().toString():t.skip(a);break;case 70:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_frame=t.readI64().toString():t.skip(a);break;case 71:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_setting_invalid_key=t.readI64().toString():t.skip(a);break;case 72:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_setting_existing_key=t.readI64().toString():t.skip(a);break;case 73:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_escape_data=t.readI64().toString():t.skip(a);break;case 74:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_deescape_data=t.readI64().toString():t.skip(a);break;case 75:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_parse_frame_or_key=t.readI64().toString():t.skip(a);break;case 76:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_unknown=t.readI64().toString():t.skip(a);break;case 77:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_unencrypted_frames=t.readI64().toString():t.skip(a);break;case 78:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_frames=t.readI64().toString():t.skip(a);break;case 79:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames=t.readI64().toString():t.skip(a);break;case 80:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_escape_bytes=t.readI64().toString():t.skip(a);break;case 81:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_error_frames=t.readI64().toString():t.skip(a);break;case 82:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_alloc=t.readI64().toString():t.skip(a);break;case 83:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_invalid_params=t.readI64().toString():t.skip(a);break;case 84:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_cipher=t.readI64().toString():t.skip(a);break;case 85:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_parse=t.readI64().toString():t.skip(a);break;case 86:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_invalid_key=t.readI64().toString():t.skip(a);break;case 87:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_cipher_auth=t.readI64().toString():t.skip(a);break;case 88:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_escape_data=t.readI64().toString():t.skip(a);break;case 89:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_unsupported_codec=t.readI64().toString():t.skip(a);break;case 90:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_unknown=t.readI64().toString():t.skip(a);break;case 91:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_frames_data_channel=t.readI64().toString():t.skip(a);break;case 92:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 93:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_alloc=t.readI64().toString():t.skip(a);break;case 94:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_params=t.readI64().toString():t.skip(a);break;case 95:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_cipher=t.readI64().toString():t.skip(a);break;case 96:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_parse=t.readI64().toString():t.skip(a);break;case 97:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_key=t.readI64().toString():t.skip(a);break;case 98:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_missing_key=t.readI64().toString():t.skip(a);break;case 99:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_out_of_ratchet_space=t.readI64().toString():t.skip(a);break;case 100:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_cipher_auth=t.readI64().toString():t.skip(a);break;case 101:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_frame_too_old=t.readI64().toString():t.skip(a);break;case 102:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_seen_frame=t.readI64().toString():t.skip(a);break;case 103:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_frame=t.readI64().toString():t.skip(a);break;case 104:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_setting_invalid_key=t.readI64().toString():t.skip(a);break;case 105:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_setting_existing_key=t.readI64().toString():t.skip(a);break;case 106:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_escape_data=t.readI64().toString():t.skip(a);break;case 107:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_deescape_data=t.readI64().toString():t.skip(a);break;case 108:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_parse_frame_or_key=t.readI64().toString():t.skip(a);break;case 109:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_unknown=t.readI64().toString():t.skip(a);break;case 110:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_unencrypted_frames_data_channel=t.readI64().toString():t.skip(a);break;case 111:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_frames_data_channel=t.readI64().toString():t.skip(a);break;case 112:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 113:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 114:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_alloc=t.readI64().toString():t.skip(a);break;case 115:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_invalid_params=t.readI64().toString():t.skip(a);break;case 116:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_cipher=t.readI64().toString():t.skip(a);break;case 117:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_parse=t.readI64().toString():t.skip(a);break;case 118:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_invalid_key=t.readI64().toString():t.skip(a);break;case 119:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_cipher_auth=t.readI64().toString():t.skip(a);break;case 120:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_escape_data=t.readI64().toString():t.skip(a);break;case 121:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_unsupported_codec=t.readI64().toString():t.skip(a);break;case 122:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_unknown=t.readI64().toString():t.skip(a);break;case 123:a===(e||(e=r("ThriftTypes"))).I64?n.num_removed_data_decryptors=t.readI64().toString():t.skip(a);break;case 124:a===(e||(e=r("ThriftTypes"))).I64?n.num_frame_decryptor_with_unencrypted_data=t.readI64().toString():t.skip(a);break;case 125:a===(e||(e=r("ThriftTypes"))).I64?n.num_removed_decryptors=t.readI64().toString():t.skip(a);break;case 126:a===(e||(e=r("ThriftTypes"))).I64?n.data_channel_encryption_not_ready_in_mandated_calls_error=t.readI64().toString():t.skip(a);break;case 127:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_total_encrypt=t.readI64().toString():t.skip(a);break;case 128:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_encrypt=t.readI64().toString():t.skip(a);break;case 129:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_total_decrypt=t.readI64().toString():t.skip(a);break;case 130:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt=t.readI64().toString():t.skip(a);break;case 131:a===(e||(e=r("ThriftTypes"))).I64?n.negotiate_off_time=t.readI64().toString():t.skip(a);break;case 132:a===(e||(e=r("ThriftTypes"))).I64?n.negotiated_version=t.readI64().toString():t.skip(a);break;case 133:a===(e||(e=r("ThriftTypes"))).I64?n.decryptor_removed_time=t.readI64().toString():t.skip(a);break;case 134:a===(e||(e=r("ThriftTypes"))).I64?n.is_e2ee_mandated_group=t.readI64().toString():t.skip(a);break;case 135:if(a===(e||(e=r("ThriftTypes"))).LIST){n.events=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.events.push(u)}}else t.skip(a);break;case 136:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_received=t.readI64().toString():t.skip(a);break;case 137:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_non_e2ee_received=t.readI64().toString():t.skip(a);break;case 138:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_missing_sender=t.readI64().toString():t.skip(a);break;case 139:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_exceeding_retry=t.readI64().toString():t.skip(a);break;case 140:a===(e||(e=r("ThriftTypes"))).I64?n.max_media_channel_key_message_retry_count=t.readI64().toString():t.skip(a);break;case 141:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions=t.readI64().toString():t.skip(a);break;case 142:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions_failures=t.readI64().toString():t.skip(a);break;case 143:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key=t.readI64().toString():t.skip(a);break;case 144:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_decryption_error_frames_empty_supported_codes=t.readI64().toString():t.skip(a);break;case 146:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_empty=t.readI64().toString():t.skip(a);break;case 147:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_empty_nalu_blocks=t.readI64().toString():t.skip(a);break;case 148:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h264=t.readI64().toString():t.skip(a);break;case 149:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h265=t.readI64().toString():t.skip(a);break;case 150:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h265_nalu_block=t.readI64().toString():t.skip(a);break;case 151:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_encryptions=t.readI64().toString():t.skip(a);break;case 152:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_encryptions_failures=t.readI64().toString():t.skip(a);break;case 153:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_no_active_key=t.readI64().toString():t.skip(a);break;case 154:a===(e||(e=r("ThriftTypes"))).I64?n.key_negotiation_protocol=t.readI64().toString():t.skip(a);break;case 155:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_signaling=t.readI64().toString():t.skip(a);break;case 156:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_media=t.readI64().toString():t.skip(a);break;case 157:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_signaling_joiner=t.readI64().toString():t.skip(a);break;case 158:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_media_joiner=t.readI64().toString():t.skip(a);break;case 159:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_participant_hash_verification_failed_error=t.readI64().toString():t.skip(a);break;case 160:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_invalid_key_distributor_id_error=t.readI64().toString():t.skip(a);break;case 161:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_key_message_validation_failure_count=t.readI64().toString():t.skip(a);break;case 162:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_cached_decrypted_key_count=t.readI64().toString():t.skip(a);break;case 163:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_reapply_cached_decrypted_key_count=t.readI64().toString():t.skip(a);break;case 164:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset=t.readI64().toString():t.skip(a);break;case 165:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_invalid_obu_offset=t.readI64().toString():t.skip(a);break;case 166:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension=t.readI64().toString():t.skip(a);break;case 167:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension=t.readI64().toString():t.skip(a);break;case 168:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size=t.readI64().toString():t.skip(a);break;case 169:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size=t.readI64().toString():t.skip(a);break;case 170:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure=t.readI64().toString():t.skip(a);break;case 171:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_leb128_parse_failure=t.readI64().toString():t.skip(a);break;case 172:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_empty_frame=t.readI64().toString():t.skip(a);break;case 173:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_empty_frame=t.readI64().toString():t.skip(a);break;case 174:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 175:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 176:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_data_channel_av1_deescape_data=t.readI64().toString():t.skip(a);break;case 177:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_av1_deescape_data=t.readI64().toString():t.skip(a);break;case 178:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 179:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_invalid_frame=t.readI64().toString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function g(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRUCT?n.p2p_e2ee=_(t):t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRUCT?n.group_e2ee=f(t):t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.p2p_e2ee===void 0&&(n.p2p_e2ee=s()),n.group_e2ee===void 0&&(n.group_e2ee=u()),n}l.P2pE2eeMetrics$DefaultConstructor=s,l.GroupE2eeMetrics$DefaultConstructor=u,l.E2eeMetrics$DefaultConstructor=c,l.serializeP2pE2eeMetrics=d,l.serializeGroupE2eeMetrics=m,l.serializeE2eeMetrics=p,l.deserializeP2pE2eeMetrics=_,l.deserializeGroupE2eeMetrics=f,l.deserializeE2eeMetrics=g}),98);
__d("EBSMMainthreadAPI",["EBAPIQPLPoints","EBDeps","EBGating","EBMainThreadEBDBApiDeferred","EBSMWorkerThreadAPI","I64","IGDWebUtils","LSIntEnum","MAWBridgeSendAndReceive","MAWWaitForBackendSetup","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLFlow","ReQL","WAHashStringToNumber","WebSession","gkx","justknobx","qpl","requireDeferred","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u=r("requireDeferred"))("EBAddDeviceWithRecoveryCode").__setRef("EBSMMainthreadAPI"),d=u("EBAddVirtualDevice").__setRef("EBSMMainthreadAPI"),m=u("EBDeleteEncryptedBackup").__setRef("EBSMMainthreadAPI"),p=u("EBFetchBackupIds").__setRef("EBSMMainthreadAPI"),_=u("EBInitializeBackup").__setRef("EBSMMainthreadAPI"),f=u("EBOptOut").__setRef("EBSMMainthreadAPI"),g=u("EBOtcAddDevice").__setRef("EBSMMainthreadAPI"),h=u("EBRevokeVirtualDevice").__setRef("EBSMMainthreadAPI"),y=babelHelpers.extends({},r("EBSMWorkerThreadAPI"),{addDeviceWithRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0||t[0]==null)return Promise.reject("Missing args");if(o("EBMainThreadEBDBApiDeferred").trackOverprompting(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent),!o("IGDWebUtils").isOnInstagramWeb()&&r("gkx")("17731")&&t.length>0&&t[0]!=null)return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithRecoveryCodeInWorker",{recoveryCode:t[0].recoveryCode,userId:t[0].userId});var a=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!1}},timeoutInMs:r("justknobx")._("2444")});return c.load().then(function(e){return e.addDeviceWithRecoveryCode(babelHelpers.extends({},t[0],{qplFlow:a}))})},addVirtualDevice:async function(t){var e=t.actionType,n=await C();if(n==null)return Promise.reject("Missing recovery code data for addVirtualDevice");if(r("gkx")("12707"))return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addVirtualDeviceInWorker",{actionType:e,recoveryCodeData:n});var a=o("QPLFlow").startQPLFlow(r("qpl")._(521483240,"615"),{annotations:{int:{actionType:e}},timeoutInMs:r("justknobx")._("4211")});return a.addPoint("add_virtual_device_start"),d.load().then(function(t){return t.addVirtualDevice({actionType:e,qplFlow:a,recoveryCodeData:n})})},deleteEncryptedBackup:function(t){var e=t.reason;if(r("gkx")("12707"))return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","ebDeleteEncryptedBackupInWorker",{reason:e});var n=o("QPLFlow").startQPLFlow(r("qpl")._(521484370,"2995"),{timeoutInMs:r("justknobx")._("4553")});return n.addPoint(o("EBAPIQPLPoints").EBDeleteEBQPLPoints.DELETE_EB_START),m.load().then(function(t){return t.deleteEncryptedBackup({qplFlow:n,reason:e})})},ebOptOut:function(){if(r("gkx")("12707"))return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","ebOptOutInWorker",{});var e=o("QPLFlow").startQPLFlow(r("qpl")._(521482558,"2558"),{annotations:{bool:{isBackendSetupOnStart:o("MAWWaitForBackendSetup").isBackendSetupSuccessful()}}});return e.addPoint(o("EBAPIQPLPoints").EBOptOutQPLPoints.OPT_OUT_START),f.load().then(function(t){return t.ebOptOut({qplFlow:e})})},fetchBackupIds:function(t,n){if(o("EBGating").isFetchBackupIdsFromWorker())return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","fetchBackupIdsInWorker",{source:t});var e=o("QPLFlow").startQPLFlow(r("qpl")._(521471024,"2275"),{annotations:{bool:{isBackendSetupOnStart:o("MAWWaitForBackendSetup").isBackendSetupSuccessful()},string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId(),source:t}}});return e.addPoint("eb_fetch_backup_ids_start"),p.load().then(function(n){return n.fetchBackupIds(t,e)})},initializeBackup:async function(n){var t=n.virtualDeviceId,a=n.virtualDeviceType;if(r("gkx")("17731")&&r("justknobx")._("5278")){var i=(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(16)),l=i?null:await C();return l==null&&!i?Promise.reject("Missing recovery code data for initializeBackup"):(l!=null&&b(),o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","initializeBackupInWorker",{recoveryCodeData:l,virtualDeviceType:a}))}else{var u=o("WAHashStringToNumber").hashStringToNumber(r("uuidv4")()),c=o("QPLFlow").startQPLFlow(r("qpl")._(521478750,"2850"),{annotations:{int:{instanceKey:u,virtualDeviceType:(e||(e=o("I64"))).to_int32(a)}},instanceKey:u,timeoutInMs:r("justknobx")._("4211")});return c.addPoint(o("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_START),t!=null&&c.addAnnotations({string:{virtualDeviceId:t}}),_.load().then(function(e){return e.initializeBackup(c,a)})}},otcAddDevice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(r("gkx")("17731")&&t.length>0&&t[0]!=null)return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithOtcInWorker",{initiatorId:t[0].initiatorId,secrets:t[0].secrets});var a=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!1,isOtc:!0}},timeoutInMs:r("justknobx")._("2444")});return g.load().then(function(e){return e.otcAddDevice(babelHelpers.extends({},t[0],{qplFlow:a}))})},revokeVirtualDevice:function(t){var e=t.virtualDeviceId;if(r("gkx")("12707"))return o("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","revokeVirtualDeviceInWorker",{virtualDeviceId:e});var n=o("QPLFlow").startQPLFlow(r("qpl")._(521473995,"3294"));return n.addPoint("revoked_virtual_device_mainthread_start"),h.load().then(function(t){return t.revokeVirtualDevice(e,n)})}});async function C(){var e=await o("EBDeps").getDeps().getLSDB(),t=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_generated_recovery_code));if(t.length===0)return Promise.resolve(null);var n=t[0];return Promise.resolve({cloud_service_account:n.cloudServiceAccount,hsm_pin_normalization_status:n.hsmPinNormalizationStatus,recovery_code:n.recoveryCode,security_question_type:null,trusted_contact_id:null,virtual_device_type:n.virtualDeviceType})}async function b(){var e=await o("EBDeps").getDeps().getLSDB();return e.runInTransaction(async function(e){for(var t=e.secure_encrypted_backups_generated_recovery_code,n=t.entries(new WeakMap),r=await n.next();!r.done;)await t.delete.apply(t,r.value[0]),r=await n.next()},"readwrite")}var v=y;l.default=v}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function s(t,n){e.onReadyImmediately(function(e){var r=e.saveAs;r(n,t)})}l.saveFile=s}),98);
__d("useFBChatVisibility_PresenceStatusChatVisibilityQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9899572666749146"}),null);
__d("useFBChatVisibility_PresenceStatusChatVisibilityQuery.graphql",["useFBChatVisibility_PresenceStatusChatVisibilityQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFBChatVisibility_PresenceStatusChatVisibilityQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useFBChatVisibility_PresenceStatusChatVisibilityQuery",selections:e},params:{id:n("useFBChatVisibility_PresenceStatusChatVisibilityQuery_facebookRelayOperation"),metadata:{},name:"useFBChatVisibility_PresenceStatusChatVisibilityQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useFBChatVisibility.react",["CometRelay","react","relay-runtime","useDebouncedState","useFBChatVisibility_PresenceStatusChatVisibilityQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect,c=e!==void 0?e:e=n("useFBChatVisibility_PresenceStatusChatVisibilityQuery.graphql");function d(){var e,t=o("CometRelay").useRelayEnvironment(),n=o("relay-runtime").getRequest(c),a=o("relay-runtime").createOperationDescriptor(n,{}),i=t.lookup(a.fragment),l=(e=i.data)==null?void 0:e.viewer,s=typeof l=="object"?l==null?void 0:l.chat_visibility:null,d=r("useDebouncedState")(function(){return!!s}),m=d[0],p=d[1];return u(function(){var e=t.subscribe(i,function(e){var t=e.data,n=t==null?void 0:t.viewer;typeof n!="object"||n==null||p(n.chat_visibility===!0)});return function(){e.dispose()}},[t,p,i]),m}l.default=d}),98);
__d("useFBInitPresenceUnifiedClient",["promiseDone","react","useFBChatVisibility.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=r("useFBChatVisibility.react")();s(function(){var n=async function(){t?await e.startStream():await e.closeStream()};r("promiseDone")(n())},[e,t])}l.default=u}),98);
__d("usePresenceUnifiedActivityMonitor.react",["CometUserActivityMonitor","RealtimeNexusSessionDataTypes","promiseDone","react","useDebounced"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=2e3;function m(e){var t=u(function(t){r("promiseDone")(e.reportUserPresence(t))},[e]),n=r("useDebounced")(t,d);c(function(){var t=function(r){r==="ACTIVE"?(n(o("RealtimeNexusSessionDataTypes").PresenceAvailability.ACTIVE),e.addAdditionalContacts([]),e.startAdditionalContactsPolling()):n(o("RealtimeNexusSessionDataTypes").PresenceAvailability.IDLE)},r=o("CometUserActivityMonitor").getActivityState();t(r);var a=o("CometUserActivityMonitor").subscribe(t);return function(){return a&&a.remove()}},[e,n])}l.default=m}),98);
__d("FBPresenceUnifiedSetup.react",["useFBInitPresenceUnifiedClient","usePresenceUnifiedActivityMonitor.react"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.client;return r("useFBInitPresenceUnifiedClient")(t),r("usePresenceUnifiedActivityMonitor.react")(t),null}l.default=e}),98);
__d("LsRtcCallSummaryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743880"),s=o("FalcoLoggerInternal").create("ls_rtc_call_summary",e),u=s;l.default=u}),98);
__d("LsRtcGroupE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1066"),s=o("FalcoLoggerInternal").create("ls_rtc_group_e2ee",e),u=s;l.default=u}),98);
__d("LsRtcP2pE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5665"),s=o("FalcoLoggerInternal").create("ls_rtc_p2p_e2ee",e),u=s;l.default=u}),98);
__d("LsRtcPeerConnectionSummaryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743883"),s=o("FalcoLoggerInternal").create("ls_rtc_peer_connection_summary",e),u=s;l.default=u}),98);
__d("ZenonCallFalcoEventUtils",["performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){return String(Math.trunc(t))},u=function(){return s((e||(e=r("performanceNow")))())},c=function(t){return s(t!=null?t:0)},d=function(t){return t==null?null:s(t!=null?t:0)},m=function(t){return t!=null?t:""};l.truncateNumber=s,l.performanceNowParsed=u,l.nonNullIntNumber=c,l.intNumberOrNull=d,l.nonNullString=m}),98);
__d("ZenonCallInfoManager",["ZenonDeviceId"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.callTrigger,n=e.conferenceName,r=e.isCaller,a=e.isVideo,i=e.localCallID,l=e.peerID,s=e.protocol,u=e.serverInfoData,c=e.signalingID,d=o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback(),m={callTrigger:t!=null?t:"",conferenceName:n!=null?n:"",deviceID:d,isCaller:r,isVideo:a,localCallID:i,peerID:l,protocol:s,signalingID:c};this.$1=babelHelpers.extends({},m,{serverInfoData:u})}var t=e.prototype;return t.setDeviceID=function(t){this.$1.deviceID=t},t.setLocalCallID=function(t){this.$1.localCallID=t},t.setSharedCallId=function(t){this.$1.serverInfoData=t},t.setSignalingID=function(t){this.$1.signalingID=t},t.getCallInfo=function(){return this.$1},e})();l.default=e}),98);
__d("ZenonLSCallStartEventManager",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$ZenonLSCallStartEventManager$p_1={},e.$ZenonLSCallStartEventManager$p_2=!1,e.$ZenonLSCallStartEventManager$p_3=!1,babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.updateEventTimestamp=function(t){this.$ZenonLSCallStartEventManager$p_1[t]==null&&(this.$ZenonLSCallStartEventManager$p_1[t]=o("ZenonCallFalcoEventUtils").performanceNowParsed())},r.receivedFromInvite=function(){this.$ZenonLSCallStartEventManager$p_2=!0},r.receivedFromServer=function(){this.$ZenonLSCallStartEventManager$p_3=!0},r.getStartEventData=function(){var e=this.getCallInfo(),t=e.signalingID,n=babelHelpers.extends({},this.getTimestamps(),this.$ZenonLSCallStartEventManager$p_4());return t!==""&&(n.local_signaling_id=t),n},r.$ZenonLSCallStartEventManager$p_4=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.peerID,a=e.serverInfoData,i=e.signalingID;return babelHelpers.extends({connection_logging_id:i,local_call_id:n,peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),protocol:"multiway"},a!=null&&{shared_call_id:a},{steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t})},r.getTimestamps=function(){return this.$ZenonLSCallStartEventManager$p_1},r.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeCallStartEventManager(n,r,this)},r.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},r.toJsonString=function(){var e=this.getCallInfo(),t=e.signalingID,n={callInfo:e,connectionLoggingId:t,receivedFromInvite:this.$ZenonLSCallStartEventManager$p_2,receivedFromServer:this.$ZenonLSCallStartEventManager$p_3,timestamps:this.getTimestamps()};return JSON.stringify(n)},n.fromJsonString=function(r){var t;try{t=JSON.parse(r)}catch(e){return null}var o=t.callInfo,a=o.deviceID,i=babelHelpers.objectWithoutPropertiesLoose(o,e),l=new n(i);return l.$ZenonLSCallStartEventManager$p_2=t.receivedFromInvite,l.$ZenonLSCallStartEventManager$p_3=t.receivedFromServer,l.$ZenonLSCallStartEventManager$p_1=t.timestamps,l},n})(r("ZenonCallInfoManager"));l.default=s}),98);
__d("ZenonGenericLocalStorageStore",["CacheStorage","WebStorage","ZenonODSLogger","ZenonUserActionLogger","areEqual","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=2e3,c=3,d=(function(){function t(e,t,n){this.$1=e,this.$2=new(r("CacheStorage"))(t,n)}var n=t.prototype;return n.getLocalStorageObjects=function(){return this.$2.get(this.$1)||{}},n.removeLocalStorageObjects=function(t){this.mutateLocalStorageObjects(function(e){return t.forEach(function(t){var n=t.peerID,r=t.signalingID;e[n]&&e[n][r]&&(delete e[n][r],Object.entries(e[n]).length===0&&delete e[n])}),e})},n.mutateLocalStorageObjects=function(n,o,a,i){var t=this;o===void 0&&(o=c),a===void 0&&(a=!1),i===void 0&&(i=null);var l=this.getLocalStorageObjects(),s=this.getLocalStorageObjects(),d=n(l),m=this.getLocalStorageObjects();(e||(e=r("areEqual")))(s,m)?(this.$2.set(this.$1,d),this.logStorageError(this.$2.getLastSetException(),i)):o>0&&(a?r("setTimeout")(function(){t.mutateLocalStorageObjects(n,o-1,!0)},u):this.mutateLocalStorageObjects(n,o-1,!0))},n.logStorageError=function(t,n){t!=null&&(o("ZenonUserActionLogger").logError({call_id:n==null?void 0:n.signalingID,error_domain:"ZenonGenericLocalStorageStore_storeLocalStorageObjects",error_type:t.name,peer_id:n==null?void 0:n.peerID}),(s||(s=r("WebStorage"))).isLocalStorageQuotaExceeded()&&r("ZenonODSLogger").logCounter("local_storage_quota_exceeded"))},t})();l.default=d}),98);
__d("ZenonLSCallStartEventStore",["ZenonGenericLocalStorageStore","ZenonLSCallStartEventManager"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_CALL_START_",u="ls_call_start",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveCallStartEventManager=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSCallStartEventManager").fromJsonString(o.__d):null},o.storeCallStartEventManager=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSCallStartEventStoreInstance=m}),98);
__d("ZenonDeviceInfoHelper",[],(function(t,n,r,o,a,i){"use strict";var e=-1,l=!1,s={getBatteryStats:async function(){var t=await s.internalGetWindow().navigator.getBattery;if(typeof t!="function")return{level:e,placeholder:!0,wasCharged:!1};var n=await t.call(navigator);return n.charging?l=!0:n.onchargingchange=function(e){e.target.charging&&(l=!0),e.target.onchargingchange=null},{level:n.level*100,placeholder:!1,wasCharged:l}},internalGetWindow:function(){return window}},u=s;i.default=u}),66);
__d("ZenonLSCallSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonDeviceInfoHelper","ZenonDismissReason","ZenonLoggingEventTypes","ZenonPeerID","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s,u=(function(t){function n(e){var n,a;return a=t.call(this,e)||this,a.$ZenonLSCallSummary$p_1={call_answered_time:"-1",call_connected_time:"-1",call_created_time:"-1",call_ended_time:"-1",last_updated_time:"-1"},a.$ZenonLSCallSummary$p_2=!1,a.$ZenonLSCallSummary$p_3=null,a.$ZenonLSCallSummary$p_6=null,a.$ZenonLSCallSummary$p_8=null,a.$ZenonLSCallSummary$p_9=null,a.$ZenonLSCallSummary$p_10=null,a.$ZenonLSCallSummary$p_11=null,a.$ZenonLSCallSummary$p_15=null,a.$ZenonLSCallSummary$p_19=!1,a.$ZenonLSCallSummary$p_12=e.callTrigger,a.$ZenonLSCallSummary$p_7=e.isVideo,a.$ZenonLSCallSummary$p_4=0,a.$ZenonLSCallSummary$p_14=(n=e.joinMode)!=null?n:o("ZenonLoggingEventTypes").ZenonJoinMode.Primary,a.$ZenonLSCallSummary$p_5=(s||(s=r("performanceNow")))(),a.setTimestamp("call_created_time"),a.updateLastUpdatedTime(),r("promiseDone")(a.updateBatteryStart()),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.setTimestamp=function(t){this.$ZenonLSCallSummary$p_1[t]==="-1"&&(this.$ZenonLSCallSummary$p_1[t]=String(this.$ZenonLSCallSummary$p_20()))},a.getTimestamps=function(){return this.$ZenonLSCallSummary$p_1},a.getExtraInfo=function(){var e={};return this.$ZenonLSCallSummary$p_9!=null&&!isNaN(this.$ZenonLSCallSummary$p_9)&&(e.battery_end_level=String(this.$ZenonLSCallSummary$p_9)),this.$ZenonLSCallSummary$p_8!=null&&!isNaN(this.$ZenonLSCallSummary$p_8)&&(e.battery_start_level=String(this.$ZenonLSCallSummary$p_8)),this.$ZenonLSCallSummary$p_10!=null&&(e.was_device_charged=this.$ZenonLSCallSummary$p_10),this.$ZenonLSCallSummary$p_11!=null&&(e.max_concurrent_connected_participant=this.$ZenonLSCallSummary$p_11),e},a.getVideoStats=function(){var e={};if(this.$ZenonLSCallSummary$p_6!=null){var t;if(isNaN(this.$ZenonLSCallSummary$p_6.ld)||(e.local_video_duration=String(this.$ZenonLSCallSummary$p_6.ld)),!isNaN((t=this.$ZenonLSCallSummary$p_6)==null?void 0:t.rd)){var n,r;e.remote_video_duration=String((n=(r=this.$ZenonLSCallSummary$p_6)==null?void 0:r.rd)!=null?n:0)}}return e},a.getEndCallStats=function(){var e={};if(this.$ZenonLSCallSummary$p_16!=null&&(e.end_call_reason=o("ZenonDismissReason").dismissToEndCallReason(this.$ZenonLSCallSummary$p_16)),this.$ZenonLSCallSummary$p_17!=null&&(e.end_call_subreason=this.$ZenonLSCallSummary$p_17),this.$ZenonLSCallSummary$p_19!=null&&(e.remote_ended=this.$ZenonLSCallSummary$p_19),this.$ZenonLSCallSummary$p_3!=null){var t;e.is_connected_end=(t=this.$ZenonLSCallSummary$p_21())!=null?t:!1}return e},a.getLoggingArgs=function(){var e,t=this.getCallInfo(),n=t.deviceID,r=t.peerID,a=t.serverInfoData,i=t.signalingID;return{call_id:i,conf_name:(e=this.$ZenonLSCallSummary$p_13)!=null?e:"",peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),serv_info:a!=null?a:"",web_device_id:n}},a.getSummaryLoggingInfo=function(){var e,t=this.getCallInfo(),n=t.deviceID,r=t.isCaller,a=t.localCallID,i=t.peerID,l=t.serverInfoData,s=t.signalingID;return babelHelpers.extends({},this.getTimestamps(),this.getExtraInfo(),this.getVideoStats(),this.getEndCallStats(),l!=null&&{shared_call_id:l},{call_trigger:(e=this.$ZenonLSCallSummary$p_12)!=null?e:"",client_session_id:s==null?null:String(s),invite_requested_video:this.$ZenonLSCallSummary$p_7,is_caller:r,join_mode:String(this.$ZenonLSCallSummary$p_14),local_call_id:a,peer_id:o("ZenonPeerID").convertPeerIDForLogging(i),rtc_actor_id:this.$ZenonLSCallSummary$p_15,steady_time:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time:String(Date.now()),web_device_id:n})},a.onCallEscalated=function(){this.updateLastUpdatedTime()},a.onCallAccepted=function(t){this.$ZenonLSCallSummary$p_12=t,this.setTimestamp("call_answered_time"),this.updateLastUpdatedTime()},a.onCallConnected=function(){this.setTimestamp("call_connected_time"),this.updateLastUpdatedTime()},a.setMediaStats=function(t){this.$ZenonLSCallSummary$p_6=t.video,this.updateLastUpdatedTime()},a.setMaxConnectedParticipants=function(t){this.$ZenonLSCallSummary$p_11=o("ZenonCallFalcoEventUtils").nonNullIntNumber(t),this.updateLastUpdatedTime()},a.setRtcActorID=function(t){this.$ZenonLSCallSummary$p_15=t},a.unsetEndCallFields=function(){this.$ZenonLSCallSummary$p_18===!0&&(this.$ZenonLSCallSummary$p_16=null,this.$ZenonLSCallSummary$p_17=null,this.$ZenonLSCallSummary$p_19=null,this.$ZenonLSCallSummary$p_3=null,this.$ZenonLSCallSummary$p_1.call_ended_time="-1",this.$ZenonLSCallSummary$p_5=0,this.$ZenonLSCallSummary$p_18=null)},a.onCallEnded=async function(t,n,r,o){this.$ZenonLSCallSummary$p_16=t,this.$ZenonLSCallSummary$p_17=o,this.$ZenonLSCallSummary$p_18=r,this.$ZenonLSCallSummary$p_19=n,this.$ZenonLSCallSummary$p_3==null&&(this.$ZenonLSCallSummary$p_3=this.$ZenonLSCallSummary$p_22()),await this.updateBatteryEnd(),this.setTimestamp("call_ended_time"),this.updateLastUpdatedTime()},a.onPCStateChange=function(t){this.$ZenonLSCallSummary$p_2=t,this.updateLastUpdatedTime()},a.updateBatteryStart=async function(){var e=await r("ZenonDeviceInfoHelper").getBatteryStats(),t=e.level,n=e.placeholder;n!==!0&&(this.$ZenonLSCallSummary$p_8=parseInt(t,10))},a.updateBatteryEnd=async function(){var e=await r("ZenonDeviceInfoHelper").getBatteryStats(),t=e.level,n=e.placeholder,o=e.wasCharged;n!==!0&&(this.$ZenonLSCallSummary$p_9=parseInt(t,10),this.setDeviceCharged(o))},a.setDeviceCharged=function(t){this.$ZenonLSCallSummary$p_10!==!0&&(this.$ZenonLSCallSummary$p_10=t)},a.setConferenceName=function(t){this.$ZenonLSCallSummary$p_13=t,this.updateLastUpdatedTime()},a.getDeviceCharged=function(){return this.$ZenonLSCallSummary$p_10},n.fromJsonString=function(r){var t,o;try{o=JSON.parse(r)}catch(e){return null}var a=o.callInfo,i=a.deviceID,l=babelHelpers.objectWithoutPropertiesLoose(a,e),s=new n(l);return s.setDeviceID(i),s.$ZenonLSCallSummary$p_1=o.timestamps,s.$ZenonLSCallSummary$p_2=o.pcIsConnected,s.$ZenonLSCallSummary$p_3=o.endIsConnected,s.$ZenonLSCallSummary$p_16=o.endCallReason,s.$ZenonLSCallSummary$p_17=o.endCallSubreason,s.$ZenonLSCallSummary$p_19=o.isRemoteEnded,s.$ZenonLSCallSummary$p_7=o.isVideo,s.$ZenonLSCallSummary$p_15=(t=o.rtcActorID)!=null?t:null,s.$ZenonLSCallSummary$p_6={ld:parseInt(o.videoStats.local_video_duration,10),rd:parseInt(o.videoStats.remote_video_duration,10)},s.$ZenonLSCallSummary$p_8=parseInt(o.extraInfo.battery_start_level,10),s.$ZenonLSCallSummary$p_9=parseInt(o.extraInfo.battery_end_level,10),o.extraInfo.was_device_charged!=null&&(s.$ZenonLSCallSummary$p_10=o.extraInfo.was_device_charged),o.extraInfo.max_concurrent_connected_participant!=null&&(s.$ZenonLSCallSummary$p_11=o.extraInfo.max_concurrent_connected_participant),o.unsetOnRetrieve!=null&&(s.$ZenonLSCallSummary$p_18=o.unsetOnRetrieve),o.accumulatedCallTime!=null&&(s.$ZenonLSCallSummary$p_4=o.accumulatedCallTime),o.conferenceName!=null&&(s.$ZenonLSCallSummary$p_13=o.conferenceName),s},a.toJsonString=function(){var e={accumulatedCallTime:this.$ZenonLSCallSummary$p_20(),callInfo:this.getCallInfo(),conferenceName:this.$ZenonLSCallSummary$p_13,endCallReason:this.$ZenonLSCallSummary$p_16,endCallSubreason:this.$ZenonLSCallSummary$p_17,endIsConnected:this.$ZenonLSCallSummary$p_21(),extraInfo:this.getExtraInfo(),isRemoteEnded:this.$ZenonLSCallSummary$p_19,isVideo:this.$ZenonLSCallSummary$p_7,joinMode:this.$ZenonLSCallSummary$p_14,pcIsConnected:this.$ZenonLSCallSummary$p_22(),rtcActorID:this.$ZenonLSCallSummary$p_15,timestamps:this.getTimestamps(),unsetOnRetrieve:this.$ZenonLSCallSummary$p_18,videoStats:this.getVideoStats()};return JSON.stringify(e)},a.$ZenonLSCallSummary$p_20=function(){var e=(s||(s=r("performanceNow")))()-this.$ZenonLSCallSummary$p_5;return Math.floor(this.$ZenonLSCallSummary$p_4+e)},a.$ZenonLSCallSummary$p_21=function(){return this.$ZenonLSCallSummary$p_3==null?null:this.$ZenonLSCallSummary$p_3&&Number(this.$ZenonLSCallSummary$p_11)>1},a.$ZenonLSCallSummary$p_22=function(){return this.$ZenonLSCallSummary$p_2&&Number(this.$ZenonLSCallSummary$p_11)>1},a.updateLastUpdatedTime=function(){this.$ZenonLSCallSummary$p_1.last_updated_time=String(this.$ZenonLSCallSummary$p_20())},a.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeCallSummary(n,r,this)},a.remove=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},n})(r("ZenonCallInfoManager"));l.default=u}),98);
__d("ZenonLSCallSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSCallSummary"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_CALL_SUMMARY_",u="ls_summary",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveCallSummary=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSCallSummary").fromJsonString(o.__d):null},o.storeCallSummary=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSCallSummaryStoreInstance=m}),98);
__d("WebAssemblyMemorySingleton",[],(function(t,n,r,o,a,i){"use strict";var e=65536,l=5701632,s=45*e,u=l+s,c=null,d=0,m=0;function p(){return c==null&&(c=new WebAssembly.Memory({initial:u/e,maximum:2147483648/e}),d=u),c}function _(){if(c!=null){var e=c.buffer.byteLength;e!==d&&(m++,d=e)}return{memory_reallocation_count:m,memory_size_kb:d/1024}}var f={INITIAL_MEMORY_ALLOCATED_IN_BYTES:u,get:p,getMetrics:_};i.WebAssemblyMemorySingleton=f}),66);
__d("ZenonLSE2EEStatsManager",["E2eeMetricsSerializers","WebAssemblyMemorySingleton","ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,e.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:o("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),p2p_e2ee_metrics:o("E2eeMetricsSerializers").P2pE2eeMetrics$DefaultConstructor(),track_specific_e2ee_stats:new Map,wasm_metrics:o("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.updateE2eeStats=function(t){this.$ZenonLSE2EEStatsManager$p_1=t},r.getGroupE2eeMetricsInFalcoShape=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.serverInfoData;return babelHelpers.extends({g_e2ee_web_wasm_final_memory_usage_kb:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_size_kb),g_e2ee_web_wasm_memory_reallocation_count:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_reallocation_count),local_call_id:n},r!=null&&{shared_call_id:r},{steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t},this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics)},r.getP2pE2eeMetricsInFalcoShape=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.peerID,a=e.serverInfoData;return babelHelpers.extends({local_call_id:n},a!=null&&{shared_call_id:a},{peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t},this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics)},r.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeE2eeStats(n,r,this)},r.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},r.toJsonString=function(){var e={callInfo:this.getCallInfo(),groupE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics,p2pE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics,trackSpecificE2eeStatsWithTrackId:Array.from(this.$ZenonLSE2EEStatsManager$p_1.track_specific_e2ee_stats),wasmMetrics:this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics};return JSON.stringify(e)},n.fromJsonString=function(r){var t;try{t=JSON.parse(r)}catch(e){return null}var o=t.callInfo,a=o.deviceID,i=babelHelpers.objectWithoutPropertiesLoose(o,e),l=new n(i);return l.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:t.groupE2eeMetrics,p2p_e2ee_metrics:t.p2pE2eeMetrics,track_specific_e2ee_stats:new Map(t.trackSpecificE2eeStatsWithTrackId),wasm_metrics:t.wasmMetrics},l},n})(r("ZenonCallInfoManager"));l.default=s}),98);
__d("ZenonLSE2EEStore",["ZenonGenericLocalStorageStore","ZenonLSE2EEStatsManager"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_E2EE_STATS_",u="ls_e2ee_stats",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveE2eeStats=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSE2EEStatsManager").fromJsonString(o.__d):null},o.storeE2eeStats=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSE2EEStoreInstance=m}),98);
__d("ZenonLSPeerConnectionSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonIceStatsParser","ZenonLoggingEventTypes","ZenonMWMessageTypes","ZenonPeerID","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s,u=(function(t){function n(e){var n;return n=t.call(this,e)||this,n.$ZenonLSPeerConnectionSummary$p_1={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},audio:{echo_confidence:{}},dataChannelMetrics:{},ecv:{},extraInfo:{},receiver:{},receiver_pct:{audio:{}},receiver_stalls:{screen_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}},video_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}}},sender:{},sender_pct:{screen:{},video:{}},video:{}},n.$ZenonLSPeerConnectionSummary$p_2={},n.$ZenonLSPeerConnectionSummary$p_3={},n.$ZenonLSPeerConnectionSummary$p_5=-1,n.$ZenonLSPeerConnectionSummary$p_8=null,n.$ZenonLSPeerConnectionSummary$p_9=new Map,n.$ZenonLSPeerConnectionSummary$p_10="unknown",n.$ZenonLSPeerConnectionSummary$p_6=(s||(s=r("performanceNow")))(),n.$ZenonLSPeerConnectionSummary$p_4=0,n.$ZenonLSPeerConnectionSummary$p_7=null,n}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$ZenonLSPeerConnectionSummary$p_11=function(){var e,t=this,n="",r=0,a=0,i=0,l=0;return Object.keys((e=this.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics)!=null?e:{}).forEach(function(e){var o=t.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics[e];o!=null&&(n+=o.label+":"+o.bytes_sent+":"+o.bytes_received+":"+o.messages_sent+":"+o.messages_received+",",r+=Number(o.bytes_sent),a+=Number(o.bytes_received),i+=Number(o.messages_sent),l+=Number(o.messages_received))}),{data_channel_total_bytes_recv:o("ZenonCallFalcoEventUtils").nonNullIntNumber(a),data_channel_total_bytes_sent:o("ZenonCallFalcoEventUtils").nonNullIntNumber(r),data_channel_total_msg_recv:o("ZenonCallFalcoEventUtils").nonNullIntNumber(l),data_channel_total_msg_sent:o("ZenonCallFalcoEventUtils").nonNullIntNumber(i),data_channel_type:"SCTP",sctp_per_channel_stats_raw:n}},a.$ZenonLSPeerConnectionSummary$p_12=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.sender,t=e.codec,n=t===void 0?{}:t,r={gen0_ice_sent_host:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.host),gen0_ice_sent_relay:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.relay),gen0_ice_sent_srflx:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.srflx)},a=n.www;return a!=null&&(r.audio_send_codec=String(a)),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_bytes_sent",e.bytes),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_level_count",e.taulc),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_level_sum",e.tx_sum_lvl),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_packets_sent",e.psent),this.$ZenonLSPeerConnectionSummary$p_13(r,"avg_video_uplink_bandwidth_estimate",e.ube_avg),this.$ZenonLSPeerConnectionSummary$p_13(r,"transport_conn_rtt_avg",e.avgrtt),r},a.$ZenonLSPeerConnectionSummary$p_13=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_14=function(){var e,t,n,r=(e=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:e.ss,o=(t=r==null?void 0:r.frames)!=null?t:0,a=(n=r==null?void 0:r.eqps)!=null?n:0,i=o>0&&a>0?a/o:null,l={};return this.$ZenonLSPeerConnectionSummary$p_15(l,"avg_video_actual_encode_bitrate_ss",r==null?void 0:r.avbr),this.$ZenonLSPeerConnectionSummary$p_15(l,"avg_video_uplink_bandwidth_estimate_ss",r==null?void 0:r.avbw),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_duration_ss",r==null?void 0:r.dur),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_frames_send_to_encoder_ss",r==null?void 0:r.eiframes),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_total_input_pixel_ss",r==null?void 0:r.video_sum_capture_pixel),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_total_output_pixel_ss",r==null?void 0:r.video_sum_encoded_pixel),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_frames_encoded_ss",r==null?void 0:r.frames),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_qp_sum_ss",i),l},a.$ZenonLSPeerConnectionSummary$p_15=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_16=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.video.bwe,t={};return this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_actual_encode_bitrate",e==null?void 0:e.avg_enc_bitrate),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_actual_encode_bitrate_ss",e==null?void 0:e.avg_enc_bitrate_ss),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_retransmit_bitrate",e==null?void 0:e.avg_retrans_bitrate),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_transmit_bitrate",e==null?void 0:e.avg_trans_bitrate),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_uplink_bandwidth_estimate",e==null?void 0:e.avg_send_bw),t},a.$ZenonLSPeerConnectionSummary$p_17=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_18=function(){var e,t=(e=this.$ZenonLSPeerConnectionSummary$p_1.sender_pct.video)==null?void 0:e.vqs,n={};return(t==null?void 0:t.avg)!=null&&(n.video_send_quality_score=o("ZenonCallFalcoEventUtils").truncateNumber(t==null?void 0:t.avg)),n},a.$ZenonLSPeerConnectionSummary$p_19=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.video.sender,t={video_send_codec:e==null?void 0:e.ename};return this.$ZenonLSPeerConnectionSummary$p_20(t,"video_recv_firs_sent",e==null?void 0:e.fir),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_recv_nacks_sent",e==null?void 0:e.nack),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_recv_plis_sent",e==null?void 0:e.pli),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_height",e==null?void 0:e.ah),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_height_input",e==null?void 0:e.ch),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_width",e==null?void 0:e.aw),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_width_input",e==null?void 0:e.cw),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_captured",e==null?void 0:e.fcap),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_encoded",e==null?void 0:e.frames),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_sent",e==null?void 0:e.fcsn),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_send_to_encoder",e==null?void 0:e.eiframes),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_capture_duration_ms",this.$ZenonLSPeerConnectionSummary$p_1.video.ld),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_duration_blur",e==null?void 0:e.video_blur_dur),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_key_frames_encoded",e==null?void 0:e.kframes),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_packets_sent",e==null?void 0:e.psent),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_qp_sum",e==null?void 0:e.eqps),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_total_input_pixel",e==null?void 0:e.video_sum_capture_pixel),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_total_output_pixel",e==null?void 0:e.video_sum_encoded_pixel),t},a.$ZenonLSPeerConnectionSummary$p_20=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_21=function(){var e,t=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver,n={video_recv_codec:t==null?void 0:t.dname};this.$ZenonLSPeerConnectionSummary$p_22(n,"audio_recv_jitter_buffer_frames_assembled",t==null?void 0:t.jtasb),this.$ZenonLSPeerConnectionSummary$p_22(n,"audio_recv_jitter_buffer_frames_out",t==null?void 0:t.jtfrm),this.$ZenonLSPeerConnectionSummary$p_22(n,"audio_recv_jitter_buffer_keyframes_out",t==null?void 0:t.jtkey),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_bytes_decoded",t==null?void 0:t.dec_bytes),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_packets_lost",t==null?void 0:t.plost),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_packets_recv",t==null?void 0:t.precv),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_av_sync_abs",t==null?void 0:t.avabs),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_frame_height",t==null?void 0:t.rh),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_frame_width",t==null?void 0:t.rw),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_frames_decoded",t==null?void 0:t.frd),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_count",t==null?void 0:t.frcnt),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_duration",t==null?void 0:t.frdur),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_duration_above_500_ms",t==null?void 0:t.frdur500),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_duration_above_500_ms_v2",t==null?void 0:t.frdur500),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_pause_count",t==null?void 0:t.pact),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_pause_duration_ms",t==null?void 0:t.padur),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_qp_sum",t==null?void 0:t.qps),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_total_pixels_decoded",t==null?void 0:t.agg_video_sum_decoded_pixel),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_union_decode_time_ms",t==null?void 0:t.dec_time),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_send_firs_recv",t==null?void 0:t.fir),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_send_nacks_recv",t==null?void 0:t.nack),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_send_plis_recv",t==null?void 0:t.pli),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_weighted_vqs",t==null||(e=t.vqs)==null?void 0:e.avg);var r=t==null?void 0:t.dec_time_all_streams,o=t==null?void 0:t.dec_frame;return this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_decode_time_ms",r),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_frames_decoded",o),r!=null&&r>0&&o!=null&&o>0&&this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_framerate_decoded",o*1e3/r),n},a.$ZenonLSPeerConnectionSummary$p_23=function(){var e,t=(e=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver)==null?void 0:e.ss_recv,n={};return this.$ZenonLSPeerConnectionSummary$p_24(n,"video_recv_duration_ss",t==null?void 0:t.ss_recv_dur),n},a.$ZenonLSPeerConnectionSummary$p_24=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_25=function(){var e,t,n,r=(e=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(e=e.video_recv_stalls)==null?void 0:e.recv_no_bytes_stall,o=(t=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(t=t.video_recv_stalls)==null?void 0:t.recv_decode_stall,a=(n=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(n=n.video_recv_stalls)==null?void 0:n.recv_render_stall,i={};if(r){var l=r.is_stall,s=r.sdur,u=r.nstall;l!=null&&(i.video_recv_byte_received_is_stalled=String(l)),s!=null&&(i.video_recv_byte_received_total_stall_duration_ms=String(s)),u!=null&&(i.video_recv_byte_received_total_stalls=String(u))}if(o){var c=o.is_stall,d=o.sdur,m=o.nstall;c!=null&&(i.video_recv_decoder_is_stalled=String(c)),d!=null&&(i.video_recv_decoder_total_stall_duration_ms=String(d)),m!=null&&(i.video_recv_decoder_total_stalls=String(m))}if(a){var p=a.is_stall,_=a.sdur,f=a.nstall;p!=null&&(i.video_render_is_stalled=String(p)),_!=null&&(i.video_render_total_stall_duration_ms=String(_)),f!=null&&(i.video_render_total_stalls=String(f))}return i},a.$ZenonLSPeerConnectionSummary$p_26=function(){var e,t=(e=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(e=e.screen_recv_stalls)==null?void 0:e.recv_decode_stall,n={};if(t){var r=t.is_stall,o=t.sdur,a=t.nstall;r!=null&&(n.screen_share_recv_decoder_is_stalled=String(r)),o!=null&&(n.screen_share_recv_decoder_total_stall_duration_ms=String(o)),a!=null&&(n.screen_share_recv_decoder_total_stalls=String(a))}return n},a.$ZenonLSPeerConnectionSummary$p_22=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_27=function(){var e,t,n,r=this.$ZenonLSPeerConnectionSummary$p_1.DebugAudioMetrics.NetworkReceive.jb_nm,o=r==null||(e=r.neteq)==null?void 0:e.meanWait,a=r==null||(t=r.speech_expand_rate)==null?void 0:t.avg,i=r==null||(n=r.speech_expand_rate)==null?void 0:n.M,l={};return o!=null&&(l.audio_recv_neteq_mean_wait_ms=String(o)),a!=null&&(l.audio_recv_neteq_speech_expand_rate_avg=String(a)),i!=null&&(l.audio_recv_neteq_speech_expand_rate_max=String(i)),l},a.$ZenonLSPeerConnectionSummary$p_28=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreAudioMetrics,t=e.audio_device,n=e.isstall,r=e.sdur,o=e.astall,a={};return t!=null&&(a.audio_device=String(t)),n!=null&&(a.audio_device_is_stalled=String(n)),r!=null&&(a.audio_device_stall_duration=String(r)),o!=null&&(a.audio_device_total_stall=String(o)),a},a.$ZenonLSPeerConnectionSummary$p_29=function(){var e,t,n,r,a,i,l={};if(((e=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:e.ecv_neteq_wait_time_ms)!=null){var s;l.ecv_neteq_wait_time_ms=o("ZenonCallFalcoEventUtils").truncateNumber(Number((s=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:s.ecv_neteq_wait_time_ms))}if(((t=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:t.ecv_rtt_ms)!=null){var u;l.ecv_rtt_ms=o("ZenonCallFalcoEventUtils").truncateNumber(Number((u=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:u.ecv_rtt_ms))}if(((n=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:n.ecv_plccng_v2)!=null){var c;l.ecv_plccng_v2=o("ZenonCallFalcoEventUtils").truncateNumber(Number((c=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:c.ecv_plccng_v2))}if(((r=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:r.ecv_video_freeze_duration_above_500_ms_v2)!=null){var d;l.ecv_video_freeze_duration_above_500_ms_v2=o("ZenonCallFalcoEventUtils").truncateNumber(Number((d=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:d.ecv_video_freeze_duration_above_500_ms_v2))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms)!=null){var m;l.ecv_av_sync_above_1000_ms=o("ZenonCallFalcoEventUtils").truncateNumber(Number((m=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:m.ecv_av_sync_above_1000_ms))}if(((i=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:i.ecv_decoded_bitrate_duration_sum)!=null){var p;l.ecv_decoded_bitrate_duration_sum=o("ZenonCallFalcoEventUtils").truncateNumber(Number((p=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:p.ecv_decoded_bitrate_duration_sum))}return l},a.$ZenonLSPeerConnectionSummary$p_30=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.capture_stall,t=e.is_stall,n=e.last_sdur,r=e.sdur,o=e.nstall,a=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.encode_stall,i=a.is_stall,l=a.last_sdur,s=a.sdur,u=a.nstall,c=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.sent_stall,d=c.is_stall,m=c.last_sdur,p=c.sdur,_=c.nstall,f={};return t!=null&&(f.video_device_capture_is_stalled=String(t)),n!=null&&(f.video_device_capture_last_stall_duration_ms=String(n)),r!=null&&(f.video_device_capture_total_stall_duration_ms=String(r)),o!=null&&(f.video_device_capture_total_stalls=String(o)),i!=null&&(f.video_encode_is_stalled=String(i)),l!=null&&(f.video_encode_last_stall_duration_ms=String(l)),s!=null&&(f.video_encode_total_stall_duration_ms=String(s)),u!=null&&(f.video_encode_total_stalls=String(u)),d!=null&&(f.video_send_is_stalled=String(d)),m!=null&&(f.video_send_last_stall_duration_ms=String(m)),p!=null&&(f.video_send_total_stall_duration_ms=String(p)),_!=null&&(f.video_send_total_stalls=String(_)),f},a.$ZenonLSPeerConnectionSummary$p_31=function(){var e,t,n,r,a,i,l,s,u=this.$ZenonLSPeerConnectionSummary$p_1,c=u.receiver,d=u.receiver_pct,m=null;c.codec!=null&&(m=String(Object.values(c.codec).pop()));var p={gen0_ice_received_host:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.host),gen0_ice_received_relay:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.relay),gen0_ice_received_srflx:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.srflx)};return m!=null&&(p.audio_recv_codec=String(m)),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_avg_us",(e=d.audio.jbd)==null?void 0:e.avg,(t=d.audio.rtt)==null?void 0:t.avg),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_p5_us",(n=d.audio.jbd)==null?void 0:n.p5,(r=d.audio.rtt)==null?void 0:r.p5),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_p50_us",(a=d.audio.jbd)==null?void 0:a.p50,(i=d.audio.rtt)==null?void 0:i.p50),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_p95_us",(l=d.audio.jbd)==null?void 0:l.p95,(s=d.audio.rtt)==null?void 0:s.p95),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_bytes_recv",c.bytes),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_concealed_samples",c.sp_c),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_fec_packets_discarded",c.fecpd),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_fec_packets_received",c.fecpr),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter",c.jitter),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter_buffer_flushes",c.dec_pack_flush),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_level_count",c.taulc),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter_buffer_emitted_count",c.jbec),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter_buffer_delay",c.jbd),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_level_sum",c.rx_sum_lvl),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_total_samples_duration",c.sp_dur),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_total_samples_received",c.sp_r),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_accelerate",c.dec_ar),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_normal",c.dec_normal),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_operations",c.neteq_calls),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_plc",c.dec_plc),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_plccng",c.dec_plc_cng),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_preemptive_expand",c.dec_per),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_packets_lost",c.plost),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_packets_recv",c.precv),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_silent_concealed_samples",c.sp_sc),p},a.$ZenonLSPeerConnectionSummary$p_34=function(){var e,t={},n=(e=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:e.ss;if((n==null?void 0:n.dur)!=null&&(n==null?void 0:n.dur)>0){var r=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.capture_stall,o=r.is_stall,a=r.sdur,i=r.nstall,l=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.encode_stall,s=l.is_stall,u=l.sdur,c=l.nstall,d=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.sent_stall,m=d.is_stall,p=d.sdur,_=d.nstall;o!=null&&(t.screen_share_capture_is_stalled=String(o)),a!=null&&(t.screen_share_capture_total_stall_duration_ms=String(a)),i!=null&&(t.screen_share_capture_total_stalls=String(i)),s!=null&&(t.screen_share_encode_is_stalled=String(s)),u!=null&&(t.screen_share_encode_total_stall_duration_ms=String(u)),c!=null&&(t.screen_share_encode_total_stalls=String(c)),m!=null&&(t.screen_share_send_is_stalled=String(m)),p!=null&&(t.screen_share_send_total_stall_duration_ms=String(p)),_!=null&&(t.screen_share_send_total_stalls=String(_))}return t},a.$ZenonLSPeerConnectionSummary$p_33=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_35=function(){var e,t,n,r,o=this.$ZenonLSPeerConnectionSummary$p_1.extraInfo,a=o.localIceCandidate,i=o.remoteIceCandidate;return{relay_protocol:a==null?void 0:a.relayProtocol,transport_conn_type:"l:"+((e=a==null?void 0:a.candidateType)!=null?e:"")+"-"+((t=a==null?void 0:a.protocol)!=null?t:"")+";r:"+((n=i==null?void 0:i.candidateType)!=null?n:"")+"-"+((r=i==null?void 0:i.protocol)!=null?r:"")}},a.$ZenonLSPeerConnectionSummary$p_36=function(){var e=this.$ZenonLSPeerConnectionSummary$p_9,t={},n=0,r=!1,a=0,i=0;if(e.forEach(function(e,t){r!==e&&(e?n>0&&(i++,a+=t-n,n=0):n=t,r=e)}),n>0){var l=this.$ZenonLSPeerConnectionSummary$p_5;l>-1&&l>n&&(i++,a+=l-n)}return t.transport_num_gaps=o("ZenonCallFalcoEventUtils").nonNullIntNumber(i),t.transport_total_gap_duration_ms=o("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.$ZenonLSPeerConnectionSummary$p_8!=null&&(t.transport_connected=this.$ZenonLSPeerConnectionSummary$p_8?"1":"0"),t},a.$ZenonLSPeerConnectionSummary$p_37=function(){var e,t={};return t.audio_send_echo_confidence=(e=this.$ZenonLSPeerConnectionSummary$p_1.audio)==null||(e=e.echo_confidence)==null?void 0:e.audio_send_echo_confidence,t},a.onCallEnded=function(){this.$ZenonLSPeerConnectionSummary$p_5=this.$ZenonLSPeerConnectionSummary$p_38(),this.$ZenonLSPeerConnectionSummary$p_8==null&&(this.$ZenonLSPeerConnectionSummary$p_8=this.$ZenonLSPeerConnectionSummary$p_7)},a.$ZenonLSPeerConnectionSummary$p_32=function(t,n,r,a){var e=0;r!=null&&(e+=r),a!=null&&(e+=a/2),e>0&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(e))},a.getPeerConnectionSummary=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.peerID,a=e.serverInfoData,i=e.signalingID;return babelHelpers.extends({},this.$ZenonLSPeerConnectionSummary$p_11(),this.$ZenonLSPeerConnectionSummary$p_28(),this.$ZenonLSPeerConnectionSummary$p_12(),this.$ZenonLSPeerConnectionSummary$p_31(),this.$ZenonLSPeerConnectionSummary$p_14(),this.$ZenonLSPeerConnectionSummary$p_16(),this.$ZenonLSPeerConnectionSummary$p_18(),this.$ZenonLSPeerConnectionSummary$p_19(),this.$ZenonLSPeerConnectionSummary$p_21(),this.$ZenonLSPeerConnectionSummary$p_23(),this.$ZenonLSPeerConnectionSummary$p_27(),this.$ZenonLSPeerConnectionSummary$p_36(),this.$ZenonLSPeerConnectionSummary$p_29(),this.$ZenonLSPeerConnectionSummary$p_30(),this.$ZenonLSPeerConnectionSummary$p_34(),this.$ZenonLSPeerConnectionSummary$p_25(),this.$ZenonLSPeerConnectionSummary$p_26(),this.$ZenonLSPeerConnectionSummary$p_35(),this.$ZenonLSPeerConnectionSummary$p_37(),a!=null&&{shared_call_id:a},{connection_logging_id:i,local_call_id:n,media_path:this.$ZenonLSPeerConnectionSummary$p_10,peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),protocol:"multiway",steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t})},a.$ZenonLSPeerConnectionSummary$p_38=function(){var e=(s||(s=r("performanceNow")))()-this.$ZenonLSPeerConnectionSummary$p_6;return Math.floor(this.$ZenonLSPeerConnectionSummary$p_4+e)},a.updateIceInfo=function(t,n){var e=n===o("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$ZenonLSPeerConnectionSummary$p_2:this.$ZenonLSPeerConnectionSummary$p_3,r=o("ZenonIceStatsParser").extractIceInfo(t);r.forEach(function(t){var n=t.gen,r=t.type;n===0&&(e[r]==null?e[r]=1:e[r]++)})},a.onPCStateChange=function(t){this.$ZenonLSPeerConnectionSummary$p_7!==t&&(this.$ZenonLSPeerConnectionSummary$p_7=t,this.$ZenonLSPeerConnectionSummary$p_9.set(this.$ZenonLSPeerConnectionSummary$p_38(),t))},a.$ZenonLSPeerConnectionSummary$p_39=function(t){switch(t){case o("ZenonMWMessageTypes").ZenonMWMediaPath.SFU:return"sfu";case o("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:return"p2p";case o("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN:default:return"unknown"}},a.setMediaPath=function(t){this.$ZenonLSPeerConnectionSummary$p_10=this.$ZenonLSPeerConnectionSummary$p_39(t)},a.setMediaStats=function(t){this.$ZenonLSPeerConnectionSummary$p_1=t},a.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storePeerConnectionSummary(n,r,this)},a.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},a.toJsonString=function(){var e=this.getCallInfo(),t=e.signalingID,n={accumulatedCallTime:this.$ZenonLSPeerConnectionSummary$p_38(),callInfo:this.getCallInfo(),connectionLoggingId:t,endIsConnected:this.$ZenonLSPeerConnectionSummary$p_8,gen0IceReceivedCount:this.$ZenonLSPeerConnectionSummary$p_3,gen0IceSentCount:this.$ZenonLSPeerConnectionSummary$p_2,mediaPath:this.$ZenonLSPeerConnectionSummary$p_10,mediaStats:this.$ZenonLSPeerConnectionSummary$p_1,pcIsConnected:this.$ZenonLSPeerConnectionSummary$p_7};return JSON.stringify(n)},n.fromJsonString=function(r){var t,o;try{o=JSON.parse(r)}catch(e){return null}var a=o.callInfo,i=a.deviceID,l=babelHelpers.objectWithoutPropertiesLoose(a,e),s=new n(l);return s.$ZenonLSPeerConnectionSummary$p_10=o.mediaPath,s.$ZenonLSPeerConnectionSummary$p_1=o.mediaStats,s.$ZenonLSPeerConnectionSummary$p_3=o.gen0IceReceivedCount,s.$ZenonLSPeerConnectionSummary$p_2=o.gen0IceSentCount,s.$ZenonLSPeerConnectionSummary$p_7=(t=o.pcIsConnected)!=null?t:null,s.$ZenonLSPeerConnectionSummary$p_8=o.endIsConnected,o.accumulatedCallTime!=null&&(s.$ZenonLSPeerConnectionSummary$p_4=o.accumulatedCallTime),s},n})(r("ZenonCallInfoManager"));l.default=u}),98);
__d("ZenonLSPeerConnectionSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSPeerConnectionSummary"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_PCS_",u="ls_pcs",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrievePeerConnectionSummary=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSPeerConnectionSummary").fromJsonString(o.__d):null},o.storePeerConnectionSummary=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSPeerConnectionSummaryStoreInstance=m}),98);
__d("ZenonLSLogsUploader",["DateConsts","LsRtcCallSummaryFalcoEvent","LsRtcGroupE2eeFalcoEvent","LsRtcP2pE2eeFalcoEvent","LsRtcPeerConnectionSummaryFalcoEvent","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("DateConsts").MS_PER_MIN*30,s={getLoggableEndCallLogs:function(n){var t=n.getLocalStorageObjects(),r=[];for(var o in t)for(var a in t[o]){var i=t[o][a];if(i.__z){var l=i.__t;if(Date.now()-l>e){var s=i.__d;r.push({endCallLogStr:s,peerID:o,signalingID:a})}}}return r},logCallStartEventManager:function(t){var e=t.peerID,n=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL call start summary from local storage peerID: "+e+", signalingID: "+n}),o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance.removeLocalStorageObjects([{peerID:e,signalingID:n}])},logCallStartEvents:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSCallStartEventManager").fromJsonString(t);a&&s.logCallStartEventManager({callStartEventManager:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_callStartEvent"})}})},logCallSummaries:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSCallSummary").fromJsonString(t);a&&s.logCallSummary({callSummary:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_callSummary"})}})},logCallSummary:function(t){var e=t.callSummary,n=t.peerID,a=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL call summary from local storage peerID: "+n+", signalingID: "+a}),r("LsRtcCallSummaryFalcoEvent").logCritical(function(){return babelHelpers.extends({},e.getSummaryLoggingInfo())}),o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance.removeLocalStorageObjects([{peerID:n,signalingID:a}])},logE2eeStats:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSE2EEStatsManager").fromJsonString(t);a&&s.logE2eeStatsManager({e2eeStatsManager:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_e2eeStats"})}})},logE2eeStatsManager:function(t){var e=t.e2eeStatsManager,n=t.peerID,a=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL E2EE summary from local storage peerID: "+n+", signalingID: "+a}),r("LsRtcGroupE2eeFalcoEvent").logCritical(function(){return e.getGroupE2eeMetricsInFalcoShape()}),r("LsRtcP2pE2eeFalcoEvent").logCritical(function(){return e.getP2pE2eeMetricsInFalcoShape()}),o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance.removeLocalStorageObjects([{peerID:n,signalingID:a}])},logEndCallLogEvents:function(){s.logCallSummaries(),s.logE2eeStats(),s.logPeerConnectionSummaries(),s.logCallStartEvents()},logPeerConnectionSummaries:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSPeerConnectionSummary").fromJsonString(t);a&&s.logPeerConnectionSummary({peerConnectionSummary:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_peerConnectionSummary"})}})},logPeerConnectionSummary:function(t){var e=t.peerConnectionSummary,n=t.peerID,a=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL PCS summary from local storage peerID: "+n+", signalingID: "+a}),r("LsRtcPeerConnectionSummaryFalcoEvent").logCritical(function(){return e.getPeerConnectionSummary()}),o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance.removeLocalStorageObjects([{peerID:n,signalingID:a}])}},u=s;l.default=u}),98);
__d("FBRTCCallSummaryUploader",["DateConsts","ZenonLSLogsUploader"],(function(t,n,r,o,a,i,l){var e=10*o("DateConsts").MS_PER_MIN,s=null;function u(){s===null&&(s=window.setInterval(function(){r("ZenonLSLogsUploader").logEndCallLogEvents()},e))}l.init=u}),98);
__d("FDSChevronLeftCircleFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("527679"),20),u=e;l.default=u}),98);
__d("FDSDots3VerticalOutline20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("555291"),20),u=e;l.default=u}),98);
__d("FriendingCometFriendRequestConfirmSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25187063524307716"}),null);
__d("FriendingCometFriendRequestConfirmSubscription.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","FriendingCometFriendRequestConfirmSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"time_confirmed",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"FriendingCometFriendRequestConfirmSubscription",selections:[{alias:null,args:t,concreteType:"FriendRequestConfirmSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_confirm_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Literal",name:"bookmarkID",value:"2356318349"}],kind:"FragmentSpread",name:"useTopTabBadgeCount_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"new_friend",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FriendingCometAcceptedFriendRequestsPanel_user"}],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},r,o,a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[i],storageKey:null}],storageKey:null},l],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"FriendingCometFriendRequestConfirmSubscription",selections:[{alias:null,args:t,concreteType:"FriendRequestConfirmSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_confirm_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{items:[{kind:"Literal",name:"bookmark_ids.0",value:"2356318349"}],kind:"ListValue",name:"bookmark_ids"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[s,o],storageKey:null},{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'},o],storageKey:null}],storageKey:null}],storageKey:'bookmarks(bookmark_ids:["2356318349"],environment:"COMET",folder_id:"PRODUCT",sections:["FACEBOOK_APP"])'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[s,{kind:"TypeDiscriminator",abstractKey:"__isActor"},o,u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"new_friend",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},c,{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[o,r,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[s,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[s],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:n("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},i],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},c,{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:d,storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},a,{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null}],storageKey:null},l],storageKey:null}]},params:{id:n("FriendingCometFriendRequestConfirmSubscription_facebookRelayOperation"),metadata:{subscriptionName:"friend_request_confirm_subscribe"},name:"FriendingCometFriendRequestConfirmSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("FriendingCometFriendRequestConfirmSubscription",["CometRelay","FriendingCometFriendRequestConfirmSubscription.graphql","WebPixelRatio","cr:1723177","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("FriendingCometFriendRequestConfirmSubscription.graphql");function u(e,t,r,a,i,l){var u=function(t){var e=t.getRootField("friend_request_confirm_subscribe");if(e!=null){var n=t.get(o("relay-runtime").VIEWER_ID);if(n!=null){var r=e.getLinkedRecord("new_friend");if(r!=null){var a=e.getValue("time_confirmed"),i=o("relay-runtime").ConnectionHandler.getConnection(n,"FriendingCometAcceptedFriendRequestsPanel_friend_confirmed_notifications");if(i!=null){var l=o("relay-runtime").ConnectionHandler.createEdge(t,i,r,"FriendConfirmedNotificationsEdge");l.setValue(a,"time_sent"),o("relay-runtime").ConnectionHandler.insertEdgeBefore(i,l);var s=parseInt(i.getValue("count"),0);i.setValue(s+1,"count")}}}}},c=function(t){t!=null&&n("cr:1723177")!=null&&a!==!0&&n("cr:1723177").pushFriendingConfirmedCometToast(t,r)};return o("CometRelay").requestSubscription(t,{onCompleted:i,onError:l,onNext:c,subscription:s,updater:u,variables:{input:{requester_id:e},scale:o("WebPixelRatio").get()}})}l.subscribe=u}),98);
__d("FriendingCometFriendRequestReceiveSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25073247215689354"}),null);
__d("FriendingCometFriendRequestReceiveSubscription.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","FriendingCometFriendRequestReceiveSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"time_received",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},u=[s],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},p=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],_={alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"FriendingCometFriendRequestReceiveSubscription",selections:[{alias:null,args:t,concreteType:"FriendRequestReceiveSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Literal",name:"bookmarkID",value:"2356318349"}],kind:"FragmentSpread",name:"useTopTabBadgeCount_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,o,{args:null,kind:"FragmentSpread",name:"FriendingCometFriendRequestsListItem_user"}],storageKey:null},a,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},i,r,l,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:u,storageKey:null}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"FriendingCometFriendRequestReceiveSubscription",selections:[{alias:null,args:t,concreteType:"FriendRequestReceiveSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{items:[{kind:"Literal",name:"bookmark_ids.0",value:"2356318349"}],kind:"ListValue",name:"bookmark_ids"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[c,r],storageKey:null},{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'},r],storageKey:null}],storageKey:null}],storageKey:'bookmarks(bookmark_ids:["2356318349"],environment:"COMET",folder_id:"PRODUCT",sections:["FACEBOOK_APP"])'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isActor"},r,d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,o,d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},m,{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"social_context_top_mutual_friends",plural:!0,selections:[r,d,_,{alias:null,args:[{kind:"Literal",name:"height",value:20},m,{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"FriendNode",abstractKey:"__isFriendNode"}],storageKey:null},a,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[r,i,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[c],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:n("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},s],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},m,{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:p,storageKey:null},_,l,{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("FriendingCometFriendRequestReceiveSubscription_facebookRelayOperation"),metadata:{subscriptionName:"friend_request_receive_subscribe"},name:"FriendingCometFriendRequestReceiveSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("FriendingCometFriendRequestReceiveSubscription",["CometRelay","FriendingCometFriendRequestReceiveSubscription.graphql","WebPixelRatio","cr:1723177","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("FriendingCometFriendRequestReceiveSubscription.graphql");function u(e,t,r,a,i,l){var u=function(t){var e=t.getRootField("friend_request_receive_subscribe");if(e!=null){var n=t.get(o("relay-runtime").VIEWER_ID);if(n!=null){var r=e.getLinkedRecord("sender");if(r!=null){var a=e.getValue("time_received"),i=o("relay-runtime").ConnectionHandler.getConnection(n,"FriendingCometFriendRequestsPanel_friending_possibilities",{friending_channel:"REQUESTS_JEWEL"});if(i!=null){var l=i.getLinkedRecords("edges");if(l!=null){var s=l==null?void 0:l.filter(function(e){var t=e==null?void 0:e.getLinkedRecord("node");return(t==null?void 0:t.getValue("id"))!==r.getValue("id")});i.setLinkedRecords(s,"edges"),i.setValue(s.length,"count")}var u=o("relay-runtime").ConnectionHandler.createEdge(t,i,r,"FriendingPossibilitiesEdge");u.setValue(a,"time"),u.setValue(!1,"is_seen"),o("relay-runtime").ConnectionHandler.insertEdgeBefore(i,u);var c=parseInt(i.getValue("count"),10);i.setValue(c+1,"count")}}}}},c=function(t){t!=null&&n("cr:1723177")!=null&&a!==!0&&n("cr:1723177").pushFriendingCometToast(t,r)};return o("CometRelay").requestSubscription(t,{onCompleted:i,onError:l,onNext:c,subscription:s,updater:u,variables:{input:{receiver_id:e},scale:o("WebPixelRatio").get()}})}l.subscribe=u}),98);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=new t.Map,r[0].set("bump_timestamp_ms",e[1]),r[0].set("thread_key",e[0]),r[0].set("bumped_by_local_device_send",e[2]),r[0].set("tam_thread_subtype",t.i64.cast([0,0])),r[0].set("wa_jid",void 0),r[0].set("message_ephemeral_duration_in_sec",t.i64.cast([0,0])),r[0].set("message_product_type",void 0),r[0].set("is_message_deletion",!1),r[0].set("is_unbump",e[3]),r[1]=r[0].get("thread_key"),t.storedProcedure(n("LSCancelTaskByQueueName"),t.i64.to_string(r[1]),t.i64.cast([0,389]))},function(o){return r[2]=new t.Map,r[2].set("bump_timestamp_ms",e[1]),r[2].set("thread_key",e[0]),r[2].set("bumped_by_local_device_send",e[2]),r[2].set("tam_thread_subtype",t.i64.cast([0,0])),r[2].set("wa_jid",void 0),r[2].set("message_ephemeral_duration_in_sec",t.i64.cast([0,0])),r[2].set("message_product_type",void 0),r[2].set("is_message_deletion",!1),r[2].set("is_unbump",e[3]),r[3]=r[2].get("thread_key"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[3]),t.i64.cast([0,389]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxBumpE2EEMetadataThreadStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBumpE2EEMetadataThread"),a.threadKey,a.serverAuthoritativeTimestampMs,a.bumpedByLocalDeviceSend,a.isUnbump);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSCreateE2EEMetadataThread",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][createE2EEMetadataThread] Beginning execution."),r[1]=t.i64.of_float(Date.now()),t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))||!1}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(r[19]=new t.Map,r[19].set("error_msg","Expected a nonempty query result"),r[19].set("code",t.i64.cast([0,3])),r[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),r[20]=t.createArray(),r[21]=(r[20].push(r[19]),r[20]),o=[void 0,r[20]],r[2]=o[0],r[3]=o[1]):(n=l.item,r[19]=new t.Map,r[19].set("backup_id",n.backupId),r[19].set("device_public_key_blob",n.devicePublicKeyBlob),r[19].set("device_private_key_blob",n.devicePrivateKeyBlob),r[19].set("epoch_storage_public_key_blob",n.epochStoragePublicKeyBlob),r[19].set("epoch_storage_private_key_blob",n.epochStoragePrivateKeyBlob),r[19].set("epoch_auth_public_key_blob",n.epochAuthPublicKeyBlob),r[19].set("epoch_auth_private_key_blob",n.epochAuthPrivateKeyBlob),r[19].set("mailbox_root_key_blob",n.mailboxRootKeyBlob),r[19].set("ocmf_client_state_blob",n.ocmfClientStateBlob),r[19].set("orf_client_state_v2_blob",void 0),r[19].set("orf_v2_authority_level",void 0),r[19].set("oblivious_validation_token_blob",n.obliviousValidationTokenBlob),r[19].set("device_id",n.deviceId),r[19].set("backup_tenancy",n.backupTenancy),r[19].set("encryption_version",n.encryptionVersion),r[19].set("revision_version",n.revisionVersion),r[19].set("initialize_restore_result",void 0),r[19].set("device_creation_timestamp_sec",void 0),r[19].set("authority_level",n.authorityLevel),a=[r[19],void 0],r[2]=a[0],r[3]=a[1])})},function(e){return r[5]=new t.Map,r[5].set("value",r[2]),r[5].set("errors",r[3]),r[6]=r[5].get("value"),r[6]!==void 0?t.sequence([function(e){return r[19]=r[6].get("backup_id"),r[20]=r[6].get("device_public_key_blob"),r[21]=r[6].get("device_private_key_blob"),r[22]=r[6].get("epoch_storage_public_key_blob"),r[23]=r[6].get("epoch_storage_private_key_blob"),r[24]=r[6].get("epoch_auth_public_key_blob"),r[25]=r[6].get("epoch_auth_private_key_blob"),r[26]=r[6].get("mailbox_root_key_blob"),r[27]=r[6].get("ocmf_client_state_blob"),r[28]=r[6].get("orf_client_state_v2_blob"),r[29]=r[6].get("orf_v2_authority_level"),r[30]=r[6].get("oblivious_validation_token_blob"),r[31]=r[6].get("device_id"),r[32]=r[6].get("backup_tenancy"),r[33]=r[6].get("encryption_version"),r[34]=r[6].get("revision_version"),r[35]=r[6].get("initialize_restore_result"),r[36]=r[6].get("device_creation_timestamp_sec"),r[37]=r[6].get("authority_level"),t.i64.neq(r[31],void 0)?t.sequence([function(e){return r[39]=void 0,t.i64.neq(r[39],void 0)?t.resolve(r[40]=r[39]):t.sequence([function(e){return r[52]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[53]=t[0],t})},function(e){return r[53]&&(r[62]=(r[52].push(t.i64.cast([0,0])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return r[54]&&(r[62]=(r[52].push(t.i64.cast([0,2])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[55]=t[0],t})},function(e){return r[55]&&(r[62]=(r[52].push(t.i64.cast([0,3])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return r[56]&&(r[62]=(r[52].push(t.i64.cast([0,4])),r[52])),r[57]=t.createArray(),r[58]=t.i64.of_int32(r[52].length),t.i64.gt(r[58],t.i64.cast([0,0]))?t.loopAsync(r[58],function(e){return r[62]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[52],r[62]).then(function(e){var t;return t=e,r[63]=t[0],r[64]=t[1],t})},function(e){return r[65]=(r[57].push(r[63]),r[57])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[62]=t.createArray(),r[63]=t.i64.of_int32(r[57].length),t.i64.gt(r[63],t.i64.cast([0,0]))?t.loopAsync(r[63],function(e){return r[65]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[57],r[65]).then(function(e){var t;return t=e,r[66]=t[0],r[67]=t[1],t})},function(e){return r[68]=(r[62].push(t.i64.to_string(r[66])),r[62])}])}):t.resolve()},function(e){return r[64]=r[62].join(","),r[59]=r[64]}])},function(e){return r[57].some(function(e){return t.i64.eq(r[33],e)})?r[60]=r[33]:r[60]=void 0,t.i64.neq(r[60],void 0)?r[61]=r[60]:r[61]=void 0,r[40]=r[61]}])},function(e){return t.i64.neq(r[40],void 0)?r[41]=r[40]:r[41]=t.i64.cast([0,0]),t.i64.neq(r[32],void 0)?r[42]=r[32]:r[42]=t.i64.cast([0,1]),t.nativeOperation(n("LSBase64Encode.nop"),r[27]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[26]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return r[45]=new t.Map,r[45].set("ocmf_client_state_blob",r[43]==null?"":r[43]),r[45].set("mailbox_root_key",r[44]==null?"":r[44]),r[46]=t.createArray(),t.forEach(t.filter(t.db.table(169).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),function(e){var t=e.item;return r[52]=(r[46].push(t.epochId),r[46])})},function(e){return r[50]="Queried locally available epochs. Count: ",r[47]=t.i64.of_int32(r[46].length),r[51]=t.i64.to_string(r[47]),r[48]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][MEBEpochClientUtils] ",r[48],r[50],r[48],r[51]].join("")),t.resolve()},function(e){return r[49]=new t.Map,r[49].set("device_id",r[31]),r[49].set("raw_tokens",r[45]),r[49].set("locally_available_epochs",r[46]),r[38]=r[49]}]):t.resolve(r[38]=void 0)},function(e){return r[7]=r[38]}]):t.resolve((r[19]=r[5].get("errors"),r[20]=r[5].get("errors"),r[7]=void 0))},function(e){return r[8]=t.i64.random(),r[9]=t.i64.to_string(r[8]),r[9]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,679677570]),r[9],!0,void 0):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,679677570]),r[9],"issue_task"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679677570]),r[9],"request_type","THREAD_POINT_QUERY"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateInt.nop"),t.i64.cast([0,679677570]),r[9],"task_creation_source",t.i64.cast([0,76])==null?t.i64.cast([-1,4294967295]):t.i64.cast([0,76])):t.resolve()},function(o){return r[10]=new t.Map,r[10].set("wa_jid",e[0]),r[10].set("offline_thread_key",e[1]),r[10].set("thread_type",e[2]),r[10].set("folder_type",e[3]),r[10].set("bump_timestamp_ms",e[4]),r[10].set("tam_thread_subtype",t.i64.cast([0,0])),r[10].set("created_by_local_device",e[5]),r[10].set("device_context",r[7]),r[10].set("qpl_instance_key",r[9]),r[10].set("should_run_privacy_and_folder_checks",!1),r[10].set("should_only_create_server_thread",!1),r[11]=r[10].get("offline_thread_key"),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[11]),t.i64.cast([0,388]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[13]=t.i64.of_float(Date.now()),r[14]=t.i64.random(),r[16]="Finishing execution. Execution time: ",r[17]=t.i64.to_string(t.i64.sub(r[13],r[0])),r[18]=" ms",r[15]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][createE2EEMetadataThread] ",r[15],r[16],r[15],r[17],r[15],r[18]].join("")),t.i64.eq(t.i64.mod_(r[14],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[19]=",",r[20]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"createE2EEMetadataThread",[r[16],r[19],r[17],r[19],r[18]].join(""),r[20],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateE2EEMetadataThreadStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"],a.exports=e}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCreateE2EEMetadataThread"),a.waJid,a.offlineThreadKey,a.threadType,a.folderType,a.bumpTimestampMs,a.createdByLocalDevice);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCreateOfflineThreadingID"),a.timestampMs);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueAttachmentBackupTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] Beginning execution."),e[5]!==void 0?t.resolve(r[1]=e[5]):t.sequence([function(e){return r[27]=t.i64.random(),r[28]=t.i64.to_string(r[27]),r[28]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,637738637]),r[28],!0,void 0):t.resolve()},function(e){return r[1]=r[28]}])},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,637738637]),r[1],"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure_start"):t.resolve()},function(e){return t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,o){var a,i=e.done,l=e.value;return i?(a=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.i64.cast([0,20]),void 0,void 0],r[2]=a[0],r[3]=a[1],r[4]=a[2],r[5]=a[3],r[6]=a[4],r[7]=a[5],r[8]=a[6],r[9]=a[7],r[10]=a[8],r[11]=a[9],r[12]=a[10],r[13]=a[11],r[14]=a[12],r[15]=a[13],r[16]=a[14],r[17]=a[15],r[18]=a[16],r[19]=a[17],a):(o=l.item,t.sequence([function(e){return r[32]=o.backupTenancy,r[31]=o.encryptionVersion,r[27]=void 0,t.i64.neq(r[27],void 0)?t.resolve(r[28]=r[27]):t.sequence([function(e){return r[33]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[34]=t[0],t})},function(e){return r[34]&&(r[43]=(r[33].push(t.i64.cast([0,0])),r[33])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[35]=t[0],t})},function(e){return r[35]&&(r[43]=(r[33].push(t.i64.cast([0,2])),r[33])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[36]=t[0],t})},function(e){return r[36]&&(r[43]=(r[33].push(t.i64.cast([0,3])),r[33])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[37]=t[0],t})},function(e){return r[37]&&(r[43]=(r[33].push(t.i64.cast([0,4])),r[33])),r[38]=t.createArray(),r[39]=t.i64.of_int32(r[33].length),t.i64.gt(r[39],t.i64.cast([0,0]))?t.loopAsync(r[39],function(e){return r[43]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[33],r[43]).then(function(e){var t;return t=e,r[44]=t[0],r[45]=t[1],t})},function(e){return r[46]=(r[38].push(r[44]),r[38])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[43]=t.createArray(),r[44]=t.i64.of_int32(r[38].length),t.i64.gt(r[44],t.i64.cast([0,0]))?t.loopAsync(r[44],function(e){return r[46]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[38],r[46]).then(function(e){var t;return t=e,r[47]=t[0],r[48]=t[1],t})},function(e){return r[49]=(r[43].push(t.i64.to_string(r[47])),r[43])}])}):t.resolve()},function(e){return r[45]=r[43].join(","),r[40]=r[45]}])},function(e){return r[38].some(function(e){return t.i64.eq(r[31],e)})?r[41]=r[31]:r[41]=void 0,t.i64.neq(r[41],void 0)?r[42]=r[41]:r[42]=void 0,r[28]=r[42]}])},function(e){var n;return t.i64.neq(r[28],void 0)?r[29]=r[28]:r[29]=t.i64.cast([0,0]),t.i64.neq(r[32],void 0)?r[30]=r[32]:r[30]=t.i64.cast([0,1]),n=[o.backupId,o.deviceId,o.mailboxRootKeyBlob,o.ocmfClientStateBlob,void 0,void 0,r[29],r[30],o.epochAuthPublicKeyBlob,o.epochAuthPrivateKeyBlob,o.devicePublicKeyBlob,o.devicePrivateKeyBlob,o.epochStoragePublicKeyBlob,o.epochStoragePrivateKeyBlob,o.obliviousValidationTokenBlob,o.authorityLevel,void 0,void 0],r[2]=n[0],r[3]=n[1],r[4]=n[2],r[5]=n[3],r[6]=n[4],r[7]=n[5],r[8]=n[6],r[9]=n[7],r[10]=n[8],r[11]=n[9],r[12]=n[10],r[13]=n[11],r[14]=n[12],r[15]=n[13],r[16]=n[14],r[17]=n[15],r[18]=n[16],r[19]=n[17]}]))})},function(o){return t.blobs.neq(r[5],void 0)?t.i64.neq(r[3],void 0)?(r[27]=t.i64.to_string(r[2]),r[27]!==void 0?t.sequence([function(o){return r[28]=t.createArray(),r[63]=(r[28].push(r[27]),r[28]),r[63]=(r[28].push(e[0]),r[28]),r[29]=t.toJSON(r[28]),t.nativeOperation(n("LSGetBlobFromString.nop"),r[29]).then(function(e){var t;return t=e,r[30]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),r[30]).then(function(e){var t;return t=e,r[31]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[31]).then(function(e){var t;return t=e,r[32]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[32]).then(function(e){var t;return t=e,r[33]=t[0],t})},function(e){return t.nativeOperation(n("LSGetBlobFromString.nop"),r[27]).then(function(e){var t;return t=e,r[34]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("bWFpbGJveF9pZF9zY29wZQ=="),r[34]).then(function(e){var t;return t=e,r[35]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[35]).then(function(e){var t;return t=e,r[36]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[36]).then(function(e){var t;return t=e,r[37]=t[0],t})},function(o){return r[38]=new t.Map,r[38].set("attachment_index_key",r[33]==null?"":r[33]),r[38].set("delivery_object_id",e[0]),r[38].set("device_id",r[3]),r[38].set("mailbox_partial_id",r[37]==null?"":r[37]),r[38].set("media_type",e[2]),r[38].set("product_type",e[1]),r[38].set("trace_id",r[1]),r[39]=new t.Map,r[39].set("otid",e[3]),r[39].set("server_thread_key",e[6]),r[39].set("timestamp",void 0),t.nativeOperation(n("LSGetBlobFromString.nop"),e[3]).then(function(e){var t;return t=e,r[40]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),r[40]).then(function(e){var t;return t=e,r[41]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[41]).then(function(e){var t;return t=e,r[42]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[42]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(o){return r[38].set("salt_partial_id",r[43]==null?"":r[43]),t.nativeOperation(n("LSGetBlobFromString.nop"),e[4]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("dGhyZWFkX2lkX3Njb3Bl"),r[44]).then(function(e){var t;return t=e,r[45]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[45]).then(function(e){var t;return t=e,r[46]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[46]).then(function(e){var t;return t=e,r[47]=t[0],t})},function(o){return r[38].set("thread_partial_id",r[47]==null?"":r[47]),t.nativeOperation(n("LSGetBlobFromString.nop"),e[3]).then(function(e){var t;return t=e,r[48]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("bWVzc2FnZV9pZF9zY29wZQ=="),r[48]).then(function(e){var t;return t=e,r[49]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[49]).then(function(e){var t;return t=e,r[50]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[50]).then(function(e){var t;return t=e,r[51]=t[0],t})},function(o){return r[38].set("message_partial_id",r[51]==null?"":r[51]),r[52]=t.createArray(),r[63]=(r[52].push(e[3]),r[52]),r[63]=(r[52].push(e[0]),r[52]),r[53]=t.toJSON(r[52]),r[38].set("raw_identifiers",r[39]),r[38].set("backup_id",r[27]),r[38].set("thread_id",e[4]),t.nativeOperation(n("LSGetBlobFromString.nop"),r[53]).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),r[54]).then(function(e){var t;return t=e,r[55]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[55]).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[56]).then(function(e){var t;return t=e,r[57]=t[0],t})},function(e){return r[38].set("salt_partial_access_token",r[57]==null?"":r[57]),t.nativeOperation(n("LSGetBlobFromString.nop"),r[29]).then(function(e){var t;return t=e,r[58]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),r[58]).then(function(e){var t;return t=e,r[59]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[59]).then(function(e){var t;return t=e,r[60]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[60]).then(function(e){var t;return t=e,r[61]=t[0],t})},function(e){return r[38].set("salt_partial_attachment_index_key",r[61]==null?"":r[61]),r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,637738637]),r[1],!0):t.resolve()},function(e){return r[62]=t.toJSON(r[38]),t.storedProcedure(n("LSIssueNewTask"),"encrypted_backups_attachment_upload",t.i64.cast([0,50012]),r[62],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.sequence([function(e){return r[29]="Missing backup_id for IssueAttachmentBackupTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",r[29]].join("")),r[28]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",r[29],r[28],t.i64.cast([0,3]))},function(e){return r[30]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_backup_id"].join(""),r[1]!==void 0&&r[30]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,637738637]),r[1],"error",r[30]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,637738637]),r[1],!1):t.resolve()}])):t.sequence([function(e){return r[28]="Missing device_id for IssueAttachmentBackupTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",r[28]].join("")),r[27]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",r[28],r[27],t.i64.cast([0,3]))},function(e){return r[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_device_id"].join(""),r[1]!==void 0&&r[29]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,637738637]),r[1],"error",r[29]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,637738637]),r[1],!1):t.resolve()}]):t.sequence([function(e){return r[28]="Missing ocmf_client_state_blob for IssueAttachmentBackupTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",r[28]].join("")),r[27]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",r[28],r[27],t.i64.cast([0,3]))},function(e){return r[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),r[1]!==void 0&&r[29]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,637738637]),r[1],"error",r[29]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,637738637]),r[1],!1):t.resolve()}])},function(e){return r[21]=t.i64.of_float(Date.now()),r[22]=t.i64.random(),r[24]="Finishing execution. Execution time: ",r[25]=t.i64.to_string(t.i64.sub(r[21],r[0])),r[26]=" ms",r[23]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ",r[23],r[24],r[23],r[25],r[23],r[26]].join("")),t.i64.eq(t.i64.mod_(r[22],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[27]=",",r[28]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",[r[24],r[27],r[25],r[27],r[26]].join(""),r[28],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state"],a.exports=e}),null);
__d("LSIssueAttachmentBackupTaskStoredProcedure",["LSIssueAttachmentBackupTask","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueAttachmentBackupTask"),a.deliveryObjectId,a.productType,a.mediaType,a.messageId,a.threadId,a.traceId,a.serverThreadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","LSTruncateSortKey.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] Beginning execution."),e[7]!==void 0?t.resolve(r[1]=e[7]):t.sequence([function(e){return r[28]=t.i64.random(),r[29]=t.i64.to_string(r[28]),r[29]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,679684335]),r[29],!0,void 0):t.resolve()},function(e){return r[1]=r[29]}])},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,679684335]),r[1],"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure_start"):t.resolve()},function(e){return t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,o){var a,i=e.done,l=e.value;return i?(a=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.i64.cast([0,20]),void 0,void 0],r[2]=a[0],r[3]=a[1],r[4]=a[2],r[5]=a[3],r[6]=a[4],r[7]=a[5],r[8]=a[6],r[9]=a[7],r[10]=a[8],r[11]=a[9],r[12]=a[10],r[13]=a[11],r[14]=a[12],r[15]=a[13],r[16]=a[14],r[17]=a[15],r[18]=a[16],r[19]=a[17],a):(o=l.item,t.sequence([function(e){return r[33]=o.backupTenancy,r[32]=o.encryptionVersion,r[28]=void 0,t.i64.neq(r[28],void 0)?t.resolve(r[29]=r[28]):t.sequence([function(e){return r[34]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[35]=t[0],t})},function(e){return r[35]&&(r[44]=(r[34].push(t.i64.cast([0,0])),r[34])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[36]=t[0],t})},function(e){return r[36]&&(r[44]=(r[34].push(t.i64.cast([0,2])),r[34])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[37]=t[0],t})},function(e){return r[37]&&(r[44]=(r[34].push(t.i64.cast([0,3])),r[34])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[38]=t[0],t})},function(e){return r[38]&&(r[44]=(r[34].push(t.i64.cast([0,4])),r[34])),r[39]=t.createArray(),r[40]=t.i64.of_int32(r[34].length),t.i64.gt(r[40],t.i64.cast([0,0]))?t.loopAsync(r[40],function(e){return r[44]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[34],r[44]).then(function(e){var t;return t=e,r[45]=t[0],r[46]=t[1],t})},function(e){return r[47]=(r[39].push(r[45]),r[39])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[44]=t.createArray(),r[45]=t.i64.of_int32(r[39].length),t.i64.gt(r[45],t.i64.cast([0,0]))?t.loopAsync(r[45],function(e){return r[47]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[39],r[47]).then(function(e){var t;return t=e,r[48]=t[0],r[49]=t[1],t})},function(e){return r[50]=(r[44].push(t.i64.to_string(r[48])),r[44])}])}):t.resolve()},function(e){return r[46]=r[44].join(","),r[41]=r[46]}])},function(e){return r[39].some(function(e){return t.i64.eq(r[32],e)})?r[42]=r[32]:r[42]=void 0,t.i64.neq(r[42],void 0)?r[43]=r[42]:r[43]=void 0,r[29]=r[43]}])},function(e){var n;return t.i64.neq(r[29],void 0)?r[30]=r[29]:r[30]=t.i64.cast([0,0]),t.i64.neq(r[33],void 0)?r[31]=r[33]:r[31]=t.i64.cast([0,1]),n=[o.backupId,o.deviceId,o.mailboxRootKeyBlob,o.ocmfClientStateBlob,void 0,void 0,r[30],r[31],o.epochAuthPublicKeyBlob,o.epochAuthPrivateKeyBlob,o.devicePublicKeyBlob,o.devicePrivateKeyBlob,o.epochStoragePublicKeyBlob,o.epochStoragePrivateKeyBlob,o.obliviousValidationTokenBlob,o.authorityLevel,void 0,void 0],r[2]=n[0],r[3]=n[1],r[4]=n[2],r[5]=n[3],r[6]=n[4],r[7]=n[5],r[8]=n[6],r[9]=n[7],r[10]=n[8],r[11]=n[9],r[12]=n[10],r[13]=n[11],r[14]=n[12],r[15]=n[13],r[16]=n[14],r[17]=n[15],r[18]=n[16],r[19]=n[17]}]))})},function(e){return t.storedProcedure(n("LSFindBackup")).then(function(e){var t;return t=e,r[21]=t[0],t})},function(o){return t.blobs.neq(r[5],void 0)?t.i64.neq(r[3],void 0)?r[21]!==void 0?t.blobs.neq(r[4],void 0)?t.sequence([function(o){return r[28]=t.createArray(),r[35]=(r[28].push(r[21]),r[28]),r[35]=(r[28].push(e[1]),r[28]),r[29]=t.toJSON(r[28]),r[30]=t.createArray(),r[35]=(r[30].push(t.i64.cast([0,32])),r[30]),t.nativeOperation(n("LSGetBlobFromString.nop"),["thread_ope_key","_",e[5]].join("")).then(function(e){var t;return t=e,r[31]=t[0],t})},function(e){return t.nativeOperation(n("LSCreateDerivedKeys.nop"),r[31],void 0,r[4],r[30]).then(function(e){var t;return t=e,r[32]=t[0],t})},function(e){return r[32]?r[33]=!1:r[33]=!0,r[33]?t.sequence([function(e){return(function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),r[36]="Got null keys while deriving message list OPE key. Returning null blobish",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBCryptoUtils] ","",r[36]].join("")),r[35]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBCryptoUtils",r[36],r[35],t.i64.cast([0,3]))},function(e){return r[34]=void 0}]):t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[32],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[35]=t[0],r[36]=t[1],t})},function(e){return r[34]=r[35]}])},function(o){return t.blobs.neq(r[34],void 0)?t.sequence([function(o){return t.i64.neq(e[9],void 0)?r[35]=e[9]:r[35]=t.i64.cast([-1,4294967295]),t.nativeOperation(n("LSGetBlobFromInt64BE.nop"),e[6]).then(function(e){var t;return t=e,r[36]=t[0],t})},function(e){return t.nativeOperation(n("LSTruncateSortKey.nop"),r[36]).then(function(e){var t;return t=e,r[37]=t[0],t})},function(e){return t.nativeOperation(n("LSOpeEncrypt.nop"),r[34],r[37],t.i64.cast([0,16])).then(function(e){var t;return t=e,r[38]=t[0],t})},function(e){return t.nativeOperation(n("LSBinaryToHex.nop"),r[38]).then(function(e){var t;return t=e,r[39]=t[0],t})},function(e){return t.nativeOperation(n("LSGetBlobFromString.nop"),r[29]).then(function(e){var t;return t=e,r[40]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),r[40]).then(function(e){var t;return t=e,r[41]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[41]).then(function(e){var t;return t=e,r[42]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[42]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(e){return t.nativeOperation(n("LSGetBlobFromString.nop"),r[21]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("bWFpbGJveF9pZF9zY29wZQ=="),r[44]).then(function(e){var t;return t=e,r[45]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[45]).then(function(e){var t;return t=e,r[46]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[46]).then(function(e){var t;return t=e,r[47]=t[0],t})},function(o){return t.nativeOperation(n("LSGetBlobFromString.nop"),e[4]).then(function(e){var t;return t=e,r[48]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("bWVzc2FnZV9pZF9zY29wZQ=="),r[48]).then(function(e){var t;return t=e,r[49]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[49]).then(function(e){var t;return t=e,r[50]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[50]).then(function(e){var t;return t=e,r[51]=t[0],t})},function(o){return t.nativeOperation(n("LSGetBlobFromString.nop"),e[4]).then(function(e){var t;return t=e,r[52]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),r[52]).then(function(e){var t;return t=e,r[53]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[53]).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[54]).then(function(e){var t;return t=e,r[55]=t[0],t})},function(o){return t.nativeOperation(n("LSGetBlobFromString.nop"),e[5]).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("dGhyZWFkX2lkX3Njb3Bl"),r[56]).then(function(e){var t;return t=e,r[57]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[57]).then(function(e){var t;return t=e,r[58]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[58]).then(function(e){var t;return t=e,r[59]=t[0],t})},function(o){return r[60]=new t.Map,r[60].set("attachment_index_key",r[43]==null?"":r[43]),r[60].set("backup_ent_fbid",e[0]),r[60].set("delivery_object_id",e[1]),r[60].set("device_id",r[3]),r[60].set("mailbox_partial_id",r[47]==null?"":r[47]),r[60].set("media_type",e[3]),r[60].set("message_partial_id",r[51]==null?"":r[51]),r[60].set("product_type",e[2]),r[60].set("salt_partial_id",r[55]==null?"":r[55]),r[60].set("sort_key",r[39]==null?"":r[39]),r[60].set("thread_partial_id",r[59]==null?"":r[59]),r[60].set("trace_id",r[1]),r[60].set("source",r[35]),r[61]=new t.Map,r[61].set("otid",e[4]),r[61].set("server_thread_key",e[8]),r[61].set("timestamp",t.i64.to_string(e[6])),t.nativeOperation(n("LSBase64Encode.nop"),r[5]).then(function(e){var t;return t=e,r[62]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[4]).then(function(e){var t;return t=e,r[63]=t[0],t})},function(o){return r[64]=new t.Map,r[64].set("ocmf_client_state_blob",r[62]==null?"":r[62]),r[64].set("mailbox_root_key",r[63]==null?"":r[63]),r[65]=t.createArray(),r[76]=(r[65].push(e[4]),r[65]),r[76]=(r[65].push(e[1]),r[65]),r[66]=t.toJSON(r[65]),r[60].set("raw_identifiers",r[61]),r[60].set("backup_id",r[21]),r[60].set("thread_id",e[5]),t.nativeOperation(n("LSGetBlobFromString.nop"),r[66]).then(function(e){var t;return t=e,r[67]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),r[67]).then(function(e){var t;return t=e,r[68]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[68]).then(function(e){var t;return t=e,r[69]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[69]).then(function(e){var t;return t=e,r[70]=t[0],t})},function(e){return r[60].set("salt_partial_access_token",r[70]==null?"":r[70]),t.nativeOperation(n("LSGetBlobFromString.nop"),r[29]).then(function(e){var t;return t=e,r[71]=t[0],t})},function(e){return t.nativeOperation(n("LSHmac_v2.nop"),t.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),r[71]).then(function(e){var t;return t=e,r[72]=t[0],t})},function(e){return t.nativeOperation(n("LSOcmfClientMap.nop"),r[5],r[72]).then(function(e){var t;return t=e,r[73]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[73]).then(function(e){var t;return t=e,r[74]=t[0],t})},function(e){return r[60].set("salt_partial_attachment_index_key",r[74]==null?"":r[74]),r[60].set("raw_tokens",r[64]),r[75]=t.toJSON(r[60]),t.storedProcedure(n("LSIssueNewTask"),"encrypted_backups_attachment_restore",t.i64.cast([0,50020]),r[75],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.sequence([function(e){return r[37]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","OPE_key_is_null"].join(""),r[1]!==void 0&&r[37]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679684335]),r[1],"error",r[37]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,679684335]),r[1],!1):t.resolve()},function(e){return r[36]="OPE key is null for IssueAttachmentRestoreTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",r[36]].join("")),r[35]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",r[36],r[35],t.i64.cast([0,3]))}])}]):t.sequence([function(e){return r[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_mailbox_root_key"].join(""),r[1]!==void 0&&r[30]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679684335]),r[1],"error",r[30]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,679684335]),r[1],!1):t.resolve()},function(e){return r[29]="Missing mailbox_root_key for IssueAttachmentRestoreTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",r[29]].join("")),r[28]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",r[29],r[28],t.i64.cast([0,3]))}]):t.sequence([function(e){return r[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_backup_id"].join(""),r[1]!==void 0&&r[30]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679684335]),r[1],"error",r[30]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,679684335]),r[1],!1):t.resolve()},function(e){return r[29]="Missing backup_id for IssueAttachmentRestoreTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",r[29]].join("")),r[28]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",r[29],r[28],t.i64.cast([0,3]))}]):t.sequence([function(e){return r[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_device_id"].join(""),r[1]!==void 0&&r[30]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679684335]),r[1],"error",r[30]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,679684335]),r[1],!1):t.resolve()},function(e){return r[29]="Missing device_id for IssueAttachmentRestoreTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",r[29]].join("")),r[28]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",r[29],r[28],t.i64.cast([0,3]))}]):t.sequence([function(e){return r[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),r[1]!==void 0&&r[30]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679684335]),r[1],"error",r[30]):t.resolve()},function(e){return r[1]!==void 0?t.nativeOperation(n("LSQplMarkEnd.nop"),t.i64.cast([0,679684335]),r[1],!1):t.resolve()},function(e){return r[29]="Missing ocmf_client_state_blob for IssueAttachmentRestoreTask",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",r[29]].join("")),r[28]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",r[29],r[28],t.i64.cast([0,3]))}])},function(e){return r[22]=t.i64.of_float(Date.now()),r[23]=t.i64.random(),r[25]="Finishing execution. Execution time: ",r[26]=t.i64.to_string(t.i64.sub(r[22],r[0])),r[27]=" ms",r[24]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ",r[24],r[25],r[24],r[26],r[24],r[27]].join("")),t.i64.eq(t.i64.mod_(r[23],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[28]=",",r[29]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",[r[25],r[28],r[26],r[28],r[27]].join(""),r[29],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state"],a.exports=e}),null);
__d("LSIssueAttachmentRestoreTaskStoredProcedure",["LSIssueAttachmentRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueAttachmentRestoreTask"),a.backupEntFbid,a.deliveryObjectId,a.productType,a.mediaType,a.messageId,a.threadId,a.sortOrder,a.traceId,a.serverThreadKey,a.source);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][issueThreadRemove] Beginning execution."),r[1]=t.i64.of_float(Date.now()),t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))||!1}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(r[15]=new t.Map,r[15].set("error_msg","Expected a nonempty query result"),r[15].set("code",t.i64.cast([0,3])),r[15].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),r[16]=t.createArray(),r[17]=(r[16].push(r[15]),r[16]),o=[void 0,r[16]],r[2]=o[0],r[3]=o[1]):(n=l.item,r[15]=new t.Map,r[15].set("backup_id",n.backupId),r[15].set("device_public_key_blob",n.devicePublicKeyBlob),r[15].set("device_private_key_blob",n.devicePrivateKeyBlob),r[15].set("epoch_storage_public_key_blob",n.epochStoragePublicKeyBlob),r[15].set("epoch_storage_private_key_blob",n.epochStoragePrivateKeyBlob),r[15].set("epoch_auth_public_key_blob",n.epochAuthPublicKeyBlob),r[15].set("epoch_auth_private_key_blob",n.epochAuthPrivateKeyBlob),r[15].set("mailbox_root_key_blob",n.mailboxRootKeyBlob),r[15].set("ocmf_client_state_blob",n.ocmfClientStateBlob),r[15].set("orf_client_state_v2_blob",void 0),r[15].set("orf_v2_authority_level",void 0),r[15].set("oblivious_validation_token_blob",n.obliviousValidationTokenBlob),r[15].set("device_id",n.deviceId),r[15].set("backup_tenancy",n.backupTenancy),r[15].set("encryption_version",n.encryptionVersion),r[15].set("revision_version",n.revisionVersion),r[15].set("initialize_restore_result",void 0),r[15].set("device_creation_timestamp_sec",void 0),r[15].set("authority_level",n.authorityLevel),a=[r[15],void 0],r[2]=a[0],r[3]=a[1])})},function(o){return r[5]=new t.Map,r[5].set("value",r[2]),r[5].set("errors",r[3]),r[6]=r[5].get("value"),r[6]!==void 0?t.sequence([function(o){return r[15]=r[6].get("backup_id"),r[16]=r[6].get("device_public_key_blob"),r[17]=r[6].get("device_private_key_blob"),r[18]=r[6].get("epoch_storage_public_key_blob"),r[19]=r[6].get("epoch_storage_private_key_blob"),r[20]=r[6].get("epoch_auth_public_key_blob"),r[21]=r[6].get("epoch_auth_private_key_blob"),r[22]=r[6].get("mailbox_root_key_blob"),r[23]=r[6].get("ocmf_client_state_blob"),r[24]=r[6].get("orf_client_state_v2_blob"),r[25]=r[6].get("orf_v2_authority_level"),r[26]=r[6].get("oblivious_validation_token_blob"),r[27]=r[6].get("device_id"),r[28]=r[6].get("backup_tenancy"),r[29]=r[6].get("encryption_version"),r[30]=r[6].get("revision_version"),r[31]=r[6].get("initialize_restore_result"),r[32]=r[6].get("device_creation_timestamp_sec"),r[33]=r[6].get("authority_level"),t.i64.neq(r[27],void 0)?t.sequence([function(e){return r[36]=void 0,t.i64.neq(r[36],void 0)?t.resolve(r[37]=r[36]):t.sequence([function(e){return r[43]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return r[44]&&(r[53]=(r[43].push(t.i64.cast([0,0])),r[43])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[45]=t[0],t})},function(e){return r[45]&&(r[53]=(r[43].push(t.i64.cast([0,2])),r[43])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[46]=t[0],t})},function(e){return r[46]&&(r[53]=(r[43].push(t.i64.cast([0,3])),r[43])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[47]=t[0],t})},function(e){return r[47]&&(r[53]=(r[43].push(t.i64.cast([0,4])),r[43])),r[48]=t.createArray(),r[49]=t.i64.of_int32(r[43].length),t.i64.gt(r[49],t.i64.cast([0,0]))?t.loopAsync(r[49],function(e){return r[53]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[43],r[53]).then(function(e){var t;return t=e,r[54]=t[0],r[55]=t[1],t})},function(e){return r[56]=(r[48].push(r[54]),r[48])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[53]=t.createArray(),r[54]=t.i64.of_int32(r[48].length),t.i64.gt(r[54],t.i64.cast([0,0]))?t.loopAsync(r[54],function(e){return r[56]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[48],r[56]).then(function(e){var t;return t=e,r[57]=t[0],r[58]=t[1],t})},function(e){return r[59]=(r[53].push(t.i64.to_string(r[57])),r[53])}])}):t.resolve()},function(e){return r[55]=r[53].join(","),r[50]=r[55]}])},function(e){return r[48].some(function(e){return t.i64.eq(r[29],e)})?r[51]=r[29]:r[51]=void 0,t.i64.neq(r[51],void 0)?r[52]=r[51]:r[52]=void 0,r[37]=r[52]}])},function(o){return t.i64.neq(r[37],void 0)?r[38]=r[37]:r[38]=t.i64.cast([0,0]),t.i64.neq(r[28],void 0)?r[39]=r[28]:r[39]=t.i64.cast([0,1]),r[40]=t.i64.of_float(Date.now()),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",e[0]].join(""),t.i64.cast([0,50026]),"",void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),t.i64.cast([0,93]),void 0,t.i64.le(t.i64.cast([0,0]),t.i64.cast([0,0]))?t.i64.cast([0,0]):t.i64.add(r[40],t.i64.sub(t.i64.cast([0,0]),t.i64.mod_(r[40],t.i64.cast([0,0])))),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[41]=t[0],t})},function(n){return t.db.table(177).add({pk:void 0,pendingBackupTaskId:r[41],actionType:t.i64.cast([0,2]),contentType:t.i64.cast([0,2]),backupStatus:t.i64.cast([0,1]),listKey:e[0],uniqueKey:e[0],sortKey:e[1],persistentId:"",isInstamadillo:!1,lsTraceId:e[3],error:e[4]})},function(n){return t.i64.eq(t.i64.cast([0,2]),t.i64.cast([0,1]))?t.i64.eq(t.i64.cast([0,2]),t.i64.cast([0,1]))?(r[43]=t.createArray(),r[45]=(r[43].push("Successfully issued message backup task. act thread id = "),r[43]),r[45]=(r[43].push(e[0]),r[43]),r[45]=(r[43].push(", otid = "),r[43]),r[45]=(r[43].push(e[0]),r[43]),r[44]=r[43].join(""),(function(e){t.logger(e).info(e)})(["[EncryptedBackups][issueThreadRemove] ","",r[44]].join("")),t.resolve()):(r[43]=t.createArray(),r[45]=(r[43].push("Successfully issued message remove task. act thread id = "),r[43]),r[45]=(r[43].push(e[0]),r[43]),r[45]=(r[43].push(", otid = "),r[43]),r[45]=(r[43].push(e[0]),r[43]),r[44]=r[43].join(""),(function(e){t.logger(e).info(e)})(["[EncryptedBackups][issueThreadRemove] ","",r[44]].join("")),t.resolve()):(r[43]=t.createArray(),r[45]=(r[43].push("Successfully issued thread remove task. act thread id = "),r[43]),r[45]=(r[43].push(e[0]),r[43]),r[44]=r[43].join(""),(function(e){t.logger(e).info(e)})(["[EncryptedBackups][issueThreadRemove] ","",r[44]].join("")),t.resolve())},function(e){var n;return r[42]=new t.Map,r[42].set("task_id",r[41]),n=[r[42],void 0],r[34]=n[0],r[35]=n[1]}]):t.sequence([function(n){return r[36]=t.createArray(),r[39]=(r[36].push("Skipping thread remove since EB is disabled. act thread id = "),r[36]),r[39]=(r[36].push(e[0]),r[36]),r[37]=r[36].join(""),(function(e){t.logger(e).info(e)})(["[EncryptedBackups][issueThreadRemove] ","",r[37]].join("")),t.resolve()},function(e){var n;return r[38]=new t.Map,r[38].set("error_code",t.i64.cast([0,24])),r[38].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),r[38].set("error_message",""),n=[void 0,r[38]],r[34]=n[0],r[35]=n[1]}])},function(e){var t;return t=[r[34],r[35]],r[7]=t[0],r[8]=t[1],t}]):t.sequence([function(n){return r[15]=r[5].get("errors"),r[16]=r[5].get("errors"),r[17]=t.createArray(),r[20]=(r[17].push("Skipping thread remove since EB is disabled. act thread id = "),r[17]),r[20]=(r[17].push(e[0]),r[17]),r[18]=r[17].join(""),(function(e){t.logger(e).info(e)})(["[EncryptedBackups][issueThreadRemove] ","",r[18]].join("")),t.resolve()},function(e){var n;return r[19]=new t.Map,r[19].set("error_code",t.i64.cast([0,1])),r[19].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),r[19].set("error_message",""),n=[void 0,r[19]],r[7]=n[0],r[8]=n[1]}])},function(e){return r[9]=t.i64.of_float(Date.now()),r[10]=t.i64.random(),r[12]="Finishing execution. Execution time: ",r[13]=t.i64.to_string(t.i64.sub(r[9],r[0])),r[14]=" ms",r[11]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][issueThreadRemove] ",r[11],r[12],r[11],r[13],r[11],r[14]].join("")),t.i64.eq(t.i64.mod_(r[10],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[15]=",",r[16]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"issueThreadRemove",[r[12],r[15],r[13],r[15],r[14]].join(""),r[16],t.i64.cast([0,4]))):t.resolve()},function(e){var t;return t=[r[7],r[8]],o[0]=t[0],o[1]=t[1],t}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"],a.exports=e}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueThreadRemove"),a.actThreadId,a.sortKey,a.source,a.traceId,a.error);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,t.i64.le(a.authorityLevel,t.i64.cast([0,80]))?(r[0]=new t.Map,r[0].set("contact_id",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"cpq_v2",t.i64.cast([0,207]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve())})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure",e.__tables__=["contacts"],a.exports=e}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRefetchContactRowIfExists"),a.id);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_self_remove",!1),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[1]),t.i64.cast([0,394]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateE2EEMetadataParticipantsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSSynchronousPromise","LSUpdateE2EEMetadataParticipants","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateE2EEMetadataParticipants"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LsRtcEndCallSurveyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743882"),s=o("FalcoLoggerInternal").create("ls_rtc_end_call_survey",e),u=s;l.default=u}),98);
__d("LsRtcStarRatingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743884"),s=o("FalcoLoggerInternal").create("ls_rtc_star_rating",e),u=s;l.default=u}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),s=null;async function u(){return s=await e.load(),d}function c(e){return new(r("nullthrows")(s))().tokenize(e)}function d(e,t){var n=Array.from(c(e)).filter(function(e){return e.length>1});if(n.length===0)return!1;var r=Array.from(c(t));return n.every(function(e){return r.some(function(t){return t.startsWith(e)})})}l.load=u}),98);
__d("addMAWBridgeSearchMessagesToUniversalSearch",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD);async function c(e,t,n,a,l){var c;o("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(t,a.length);var d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.message_search_results).getKeyRange(u,n,t)),m=d==null,p=(s||(s=o("I64"))).to_int32((c=d==null?void 0:d.matchCount)!=null?c:(s||(s=o("I64"))).zero),_=p+a.length,f=await o("MWSearchThreadUtils").getThreadDataByThreadKey(e,t,s.of_string(o("MAWCurrentUser").getID()),u);if(f!=null){var g=f.profilePicUrl,h=f.secondaryProfilePicUrl,y=f.threadDisplayName,C=f.threadType,b=d==null?void 0:d.globalIndex,v=o("MWContentSearchUtils").getGlobalIndex(a[0].sortOrderMs,d==null?void 0:d.globalIndex),S=async function(r){var e;await r.message_search_results.upsert([u,n,t,b!=null?b:v],babelHelpers.extends({},o("MWContentSearchUtils").getContextLineAndMatches(n,_,(e=a[0].msg)==null?void 0:e.content,u),{displayName:y,globalIndex:v,matchCount:(s||(s=o("I64"))).of_int32(_),messageTimestampMs:o("MWContentSearchUtils").getMessageTimestamp(a[0].sortOrderMs),profilePicUrl:g,query:n,secondaryProfilePicUrl:h,threadKey:t,threadType:C,type_:u})),m&&await r.message_search_queries.put(babelHelpers.extends({},l,{resultCount:(s||(s=o("I64"))).add(l.resultCount,s.one)}))};r("promiseDone")(e.runInTransaction(async function(e){await S(e)},"readwrite",void 0,void 0,i.id+":113"))}}l.default=c}),98);
__d("MAWBridgeAddMessageSearchResultHandler",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWFTSRawStringMatcher","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MWInboxSecureContentSearch","ReQL","addMAWBridgeSearchMessagesToUniversalSearch","emptyFunction","isMAWUniversalSearchWithEBEnabled","promiseDone","waitForMiActMappingForUniversalSearch"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),c=e.ofNumber(r("LSMessageSearchType").THREAD);function d(e,t,n){return n.length===0?Promise.resolve():Promise.all([p(e,t,n),_(e,t,n)]).then(r("emptyFunction"))}async function m(e,t){var n=await o("MAWFTSRawStringMatcher").load();return t.filter(function(t){var r,o=(r=t.msg)==null?void 0:r.content;return o==null?!1:n(e,o)})}async function p(e,t,n){var a=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.message_search_queries).getKeyRange(u));if(a.length!==0)return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(t,i){return(async function(){var r=a.filter(function(e){return(s||(s=o("I64"))).equal(e.threadKeyV2,i)})[0];if(r!=null){var l=r.query;if(!(l==null||l.length<2)){var u=(s||(s=o("I64"))).to_int32(r.resultCount),c=await m(l,n);c.length!==0&&await o("MWInboxSecureContentSearch").addBridgeSearchMsgsToSearchResult(e,t,r.query,c,u+c.length,s.of_string(o("MAWCurrentUser").getID()))}}})().then(r("emptyFunction"))})}async function _(e,t,n){if(r("isMAWUniversalSearchWithEBEnabled")()){var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.message_search_queries).getKeyRange(c).filter(function(e){return(s||(s=o("I64"))).equal(e.threadKeyV2,s.one)}));if(a!=null){var i=a.query;if(!(i==null||i.length<2)){var l=await m(i,n);l.length!==0&&r("promiseDone")(r("waitForMiActMappingForUniversalSearch")(e,n[0].chatJid),function(t){if(t!=null)return r("addMAWBridgeSearchMessagesToUniversalSearch")(e,t.serverThreadKey,i,l,a)})}}}}l.call=d}),98);
__d("MAWBridgeCallRestoreNativeOpHandler",["MAWMpsGating","Promise","WAJids","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("LSProtobufRestoreHandler").__setRef("MAWBridgeCallRestoreNativeOpHandler");function u(t){var r=t.chatJid,a=t.decryptedMessagesProtobufs,i=t.isPointQuery,l=t.taskSource;return o("MAWMpsGating").isFullMpsEnabled()?(e||(e=n("Promise"))).resolve():s.load().then(function(e){return e.handleProtobufRestoreHelper(o("WAJids").threadIdForChatJid(r),{convertedProtobufs:a,type:"convertedProtobufs"},!1,void 0,!1,void 0,i,void 0,void 0,void 0,void 0,l,r)})}l.call=u}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["LSThreadBitOffset","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeDeleteGroupInviteHandler",async function(t,n){var a=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.group_invites).getKeyRange(n));return Promise.all(a.map(function(e){return t.group_invites.delete(e.threadKey,e.inviterId,e.inviteeId)})).then(function(){r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(n)),function(t){if(t!=null){var n=o("LSThreadBitOffset").clear([105],t.capabilities,t.capabilities2,t.capabilities3,t.capabilities4,t.capabilities5),r=n[0],a=n[1],i=n[2],l=n[3],s=n[4];return e.threads.put(babelHelpers.extends({},t,{capabilities:r,capabilities2:a,capabilities3:i,capabilities4:l,capabilities5:s,snippet:void 0}))}})})})}l.call=e}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["EBIsEbEnabled","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n){if(n.actionType===2){if(!await o("EBIsEbEnabled").isEbEnabledLS(t))return;await r("LSIssueThreadRemoveStoredProcedure")(r("LSFactory")(t),{actThreadId:n.threadId,sortKey:n.ts.toString(),source:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMEBTaskCreationSource").TAM_WEB)})}}l.call=s}),98);
__d("MAWBridgeEphemeralSettingsUpdatedForUIHandler",["MAWChatJid","MAWEphemeralSettingsUpdate","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){var n=await o("MAWChatJid").toThreadKeyMaybe(e,t.chatJid);return n!=null?o("MAWEphemeralSettingsUpdate").updateEphemeralSettingsWithTxn(e,t.ephemeralSettingArgs.ephemeralExpirationInSec,await o("WATimeUtils").castUnixTimeToMillisTime(t.ephemeralSettingArgs.ephemeralLastUpdatedOrSetTimestamp),t.isEphemeralSettingReset,n,!1,t.author):Promise.resolve()}l.call=e}),98);
__d("MAWBridgeFulfillRestorePromisePayloadHandler",["MAWEBRestoreTrackingUtils","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.success?o("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(t.value.traceId):o("MAWEBRestoreTrackingUtils").markEBRestoreFail(t.error.traceId),(e||(e=n("Promise"))).resolve()}l.call=s}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["I64","MAWMiActMappingTableAPI","MWFBLogger","ODS","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=o("MWFBLogger").MWLogger().tags(["bridgeUIEvent","Occam","Middleware"]);async function p(t,n){var r,a=await o("MAWMiActMappingTableAPI").getMappingRowForChatJid(t,n.chatJid);if(a==null){m.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Missing thread key for chatJid: ",""])),n.chatJid);return}var i=(r=n.threadName)!=null?r:void 0,l=a.serverThreadKey,p=t.threads,_=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(p).getKeyRange(l));if(_==null){(c||(c=o("ODS"))).bumpEntityKey(3185,"armadillo_group_info_update","missing_thread"),m.WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for updating group with threadKey: ",""])),(d||(d=o("I64"))).to_string(l));return}else i==null&&(i=_.threadName,m.WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(['MAWDB groupInfo is missing "name" field for threadKey: ',""])),(d||(d=o("I64"))).to_string(l)));var f=n.memberAddMode!=="all_member_add";await p.put(babelHelpers.extends({},_,{needsAdminApprovalForNewParticipant:f,threadName:i}))}l.call=p}),98);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","Promise","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(t,i){var l=(s||(s=o("I64"))).of_string(a.inviterId);return(e||(e=n("Promise"))).all([o("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(t,i,l)]).then(r("emptyFunction"))})}l.call=u}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t,r){return(e||(e=n("Promise"))).resolve()}i.call=l}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(e,n){return e.attachments.delete(n,t.msgId,String(t.plaintextHash))})}l.call=e}),98);
__d("MAWBridgeMsgUpdatedHandler",["FBLogger","MAWAdminMsgCTA","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsgFetchLSReplyMsgAndAttachment","MAWUpdateMsg","MsgrWebGating","ReQL"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.chatJid,"MAWBridgeMsgUpdatedHandler",async function(n,a){var i,l=await(i=o("ReQL")).firstAsync(i.fromTableAscending(n.messages.index("messageId")).getKeyRange(t.msgId)),u=await i.firstAsync(i.fromTableAscending(n.attachments).getKeyRange(a,t.msgId));if(l==null){r("FBLogger")("messenger_web").info("existing message is null for type %s, and attachment is null: %s",t.type_,u==null);return}var c=await o("MAWAdminMsgCTA").getAdminMsgCtaStep(n,a,t),d=await s(e,t);return o("MAWUpdateMsg").call(n,d,l,c)})}async function s(e,t){if(o("MsgrWebGating").isQuotedMessagesInLsEnabled()){var n=await o("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(e,t);return n!=null?n:t}return Promise.resolve(t)}l.call=e}),98);
__d("MAWBridgeNoteReplyStartCountdownHandler",["MAWMessageExpirationStorage","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){return r.msgs.reduce(function(e,t){return e.then(function(){o("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:t,expirationEvent:o("MAWMessageExpirationStorage").expirationNoteReplyEvent})})},(e||(e=n("Promise"))).resolve())}l.call=s}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){var n=await r("LSCreateOfflineThreadingIDStoredProcedure")(r("LSFactory")(t),{timestampMs:(e||(e=o("I64"))).of_float(Date.now())}),a=n[0];return a}async function c(t,n){var a={authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:(e||(e=o("I64"))).of_float(0),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),ongoingCallState:s.ofNumber(r("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:e.zero,threadKey:n,threadType:s.ofNumber(15)};return await t.threads.put(a),n}async function d(e){var t=await u(e);return await c(e,t),t}l.createOfflineThreadingId=u,l.createOptimisticThreadWithThreadKey=c,l.createOptimisticThread=d}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2",["DedupMiThreadCreationCache","FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadLoadingState","MAWThreadUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="[Occamadillo][CreateE2EEMetadataThreadHandlerV2]";async function c(t,n){var a=n.bumpTimestampMs,i=n.creationSource,l=n.folderId,s=n.jid,u=n.optimisticThreadKey;p(i,s);var c=u!=null?await t.threads.get((e||(e=o("I64"))).of_string(u)):null;if(c!=null&&o("DedupMiThreadCreationCache").DedupMiThreadCreationCache.has(s)){h(s);return}if(c!=null&&d(c)){_(s,(e||(e=o("I64"))).to_string(c.threadKey));return}var f={bumpTimestampMs:a,createdByLocalDevice:i==="outgoing_message",folderType:o("MAWFolderUtils").systemFolderToLSCoreClientFolder(l),offlineThreadKey:await m(c,s,t),threadType:o("MAWThreadUtils").getLSThreadTypeFromJid(s),waJid:o("MAWJids").convertChatJidToIntJid(s)};return g(f),r("LSCreateE2EEMetadataThreadStoredProcedure")(r("LSFactory")(t),f).then(function(){o("DedupMiThreadCreationCache").addToDedupMiThreadCreationCache(s)})}function d(e){var t=(s||(s=o("LSIntEnum"))).unwrapIntEnum(e.authorityLevel);switch(t){case r("LSAuthorityLevel").CLIENT_PARTIAL:case r("LSAuthorityLevel").OPTIMISTIC:case r("LSAuthorityLevel").SERVER_PARTIAL:return!1;case r("LSAuthorityLevel").AUTHORITATIVE:case r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case r("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!0;default:throw r("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}}async function m(e,t,n){if(e!=null)return Promise.resolve(e.threadKey);var r=await o("MAWCreateOptimisticThread").createOfflineThreadingId(n);return f(t,r),await Promise.all([o("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(n,r),o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(n,{intJid:o("MAWJids").convertChatJidToIntJid(t),threadKey:r})]),r}function p(e,t){r("FBLogger")("messenger_web").info(u+" handler called from %s for jid %s",e,t)}function _(e,t){r("FBLogger")("messenger_web").info(u+" handler returned early for jid %s because thread %s was already authoritative",e,t)}function f(t,n){r("FBLogger")("messenger_web").info(u+" no thread exists for jid %s, creating optimistic thread with key %s",t,(e||(e=o("I64"))).to_string(n))}function g(t){r("FBLogger")("messenger_web").info(u+" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: bumpTimestampMs: %s, createdByLocalDevice: %s, folderType: %s, offlineThreadKey: %s, offlineThreadKeySource: %s, threadType: %s, waJid: %s",(e||(e=o("I64"))).to_string(t.bumpTimestampMs),t.createdByLocalDevice,e.to_string(t.folderType),e.to_string(t.offlineThreadKey),e.to_string(t.threadType),e.to_string(t.waJid))}function h(e){r("FBLogger")("messenger_web").info(u+" LSCreateE2EEMetadataThreadStoredProcedure has already been called for jid %s, early returning",e)}l.call=c}),98);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeParticipantRemovedHandler",function(t,r){return t.participants.delete(r,(e||(e=o("I64"))).of_string(n.userId))})}l.call=s}),98);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsg","MAWRavenUtils","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e=["ephemeralMediaState"],s;function u(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeRavenActionMsgForUIHandler",async function(t,r){var a=t.attachments,i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(a).getKeyRange(r,n.ravenMsgId));if(i==null||i.ephemeralMediaState==null)return Promise.resolve();var l=(s||(s=o("I64"))).to_int32(i.ephemeralMediaState);if(i.ephemeralMediaViewMode==null)return Promise.resolve();var u=s.to_int32(i.ephemeralMediaViewMode),c=o("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(l),d=o("MAWMsg").MAWRavenMsgEphemeralType.cast(u);if(c==null||d==null)return Promise.resolve();var m=o("MAWRavenUtils").getNextRavenMessageEphemeralState(c,d);if(m==null)return Promise.resolve();var p=i.ephemeralMediaState,_=babelHelpers.objectWithoutPropertiesLoose(i,e),f=babelHelpers.extends({ephemeralMediaState:s.of_int32(m)},_,{transportKey:"WhatsApp"}),g=[_.threadKey,_.messageId,_.attachmentFbid];return a.upsert(g,f)})}l.call=u}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r){var a=(e||(e=o("I64"))).of_string(n.fbid),i=o("MAWTimeUtils").toTimestamp(n.deliveredWatermarkTs),l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.participants).getKeyRange(r,a));l!=null&&await t.participants.put({authorityLevel:l.authorityLevel,contactId:l.contactId,deliveredWatermarkTimestampMs:(e||(e=o("I64"))).equal(i,(e||(e=o("I64"))).zero)?l.deliveredWatermarkTimestampMs:i,groupParticipantJoinState:l.groupParticipantJoinState,isAdmin:l.isAdmin,isModerator:l.isModerator,isSuperAdmin:l.isSuperAdmin,nickname:l.nickname,normalizedSearchTerms:l.normalizedSearchTerms,participantCapabilities:l.participantCapabilities,readActionTimestampMs:l.readActionTimestampMs,readWatermarkTimestampMs:l.readWatermarkTimestampMs,subscribeSource:l.subscribeSource,threadKey:l.threadKey,threadRoles:(e||(e=o("I64"))).zero})}function u(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.chatJid,"MAWBridgeReceivedReceiptHandler",function(e,n){return s(e,t,n)})}l.callWithoutWaitingForAnything=s,l.call=u}),98);
__d("MAWBridgeRefreshContactHandler",["LSFactory","LSRefetchContactRowIfExistsStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return r("LSRefetchContactRowIfExistsStoredProcedure")(r("LSFactory")(e),{id:t})}l.call=e}),98);
__d("MAWBridgeRemoveMessageSearchResultHandler",["ReQL","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return(async function(){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.message_search_results).filter(function(e){return t.includes(e.messageOtid)}));await Promise.all(n.map(function(t){return e.message_search_results.delete(t.type_,t.query,t.threadKey,t.globalIndex)}))})().then(r("emptyFunction"))}l.call=e}),98);
__d("MAWBridgeResignAttachmentCDNUrlHandler",["I64","LSFactory","LSIssueAttachmentRestoreTaskStoredProcedure","MAWAsyncEBMediaDownloadPromise","MAWBridgeFireAndForget","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e,s="-8";function u(t,n){var a,i=n.traceId,l=(a=n.skipLegacyMediaDownloadFlow)!=null?a:!1;function u(e,t,n){!l&&i!=null&&o("MAWBridgeFireAndForget").fireAndForget("backend","addMediaDownloadQpl",{annotations:n!=null?n:void 0,pointName:t,qplInstanceKey:i,qplType:e})}return u("point","resign_cdn_url_bridge_handler_start"),o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeResignAttachmentCDNUrlHandler",function(t,a){var l={backupEntFbid:(e||(e=o("I64"))).of_string(s),deliveryObjectId:n.deliveryObjectId,mediaType:n.mediaType,messageId:n.messageId,productType:n.productType,serverThreadKey:e.to_string(a),sortOrder:e.of_float(n.sortOrder),threadId:n.threadId,traceId:i.toString()};return n.skipLegacyMediaDownloadFlow!==!0&&o("MAWAsyncEBMediaDownloadPromise").setMediaDownloadPayload({messageId:n.msgId,objectId:n.deliveryObjectId,plaintextHash:n.plaintextHash,threadId:n.threadId}),u("point","resign_cdn_url_issue_attachment_task",{string:{taskTraceId:l.traceId}}),r("LSIssueAttachmentRestoreTaskStoredProcedure")(r("LSFactory")(t),l).then(function(){u("point","resign_cdn_url_issue_attachment_task_end")}).catch(function(e){u("fail","resign_cdn_url_issue_attachment_task_fail",{string:{error:e.toString()}})})})}l.call=u}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=String(t.xmaId);return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(e,a){return e.attachments.get(a,t.msgId,n).then(function(i){if(i==null)return Promise.resolve();var l=[i.defaultCtaId,i.attachmentCta1Id,i.attachmentCta2Id,i.attachmentCta3Id].filter(Boolean),s=l.map(function(t){return e.attachment_ctas.delete(t)});return Promise.all(s).then(function(){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(a,t.msgId,n)).then(async function(t){if(t!=null){var n=babelHelpers.extends({},t,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});await e.attachments.put(n)}else r("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return Promise.resolve()})})})})}l.call=e}),98);
__d("MAWBridgeStoryReplyStartCountdownHandler",["I64","MAWBridgeXMAShareTombstonedHandler","MAWDbXMA","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return n.msgs.reduce(function(n,r){return n.then(function(){return o("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:r,expirationEvent:o("MAWMessageExpirationStorage").expirationStoryReplyEvent}),(e||(e=o("I64"))).of_int32(r.millisecondsUntilCountdownTs),o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,r.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(e,t){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(t,r.msgId)).then(async function(t){await Promise.all(t.map(function(t){var n=o("MAWDbXMA").convertNumberToXMAId(Number.parseInt(t.attachmentFbid,10)),a={msgId:r.msgId,threadJid:r.threadJid,xmaId:n};return o("MAWBridgeXMAShareTombstonedHandler").call(e,a)}))})})})},Promise.resolve())}l.call=s}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("CurrentMessengerUser").getID();function d(t,a){return a.reduce(function(e,n){var a=(s||(s=o("I64"))).of_string(n);return e.then(function(){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:u.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:u.ofNumber(r("LSContactIdType").FBID),contactType:u.ofNumber(r("LSContactType").USER),contactViewerRelationship:u.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:u.ofNumber(r("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:c===n,workForeignEntityType:u.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})}).then(r("emptyFunction"))},(e||(e=n("Promise"))).resolve())}l.call=d}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n,"MAWBridgeThreadHiddenV2Handler",function(t,n){var a=r("LSFactory")(t);return r("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRemoveType").DELETE_THREAD),threadKey:n})})}l.call=s}),98);
__d("MAWBridgeThreadUpdatedHandler",["MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","getMAWLastMessageCtaType"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r=t.folder!=null?o("MAWFolderUtils").getMessagingFolderTag(t.folder):e.folderName;return(n=t.cannotReplyReason)!=null?n:r==="inbox"?void 0:e.cannotReplyReason}async function s(t,n,a){var i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange(a));if(i!=null){var l=o("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(n,i.snippet),s=e(i,n),u=r("getMAWLastMessageCtaType")(n.snippetType),c=babelHelpers.extends({},i,{cannotReplyReason:s,folderName:i.folderName,lastMessageCtaType:u,parentThreadKey:i.parentThreadKey,snippet:l,snippetSenderContactId:n.snippetSenderContactId==null?i.snippetSenderContactId:o("MAWBridgeUIEventDataValidation").stringToI64Opt(n.snippetSenderContactId)});await t.threads.put(c)}}function u(e,t){var n=t.threadJid;return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,n,"MAWBridgeThreadUpdatedHandler",function(e,n){return s(e,t,n)})}l.callWithoutWaitingForAnything=s,l.call=u}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){r("QPLUserFlow").start(r("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:t}},instanceKey:e})}function s(e,t){r("QPLUserFlow").addAnnotations(r("qpl")._(1056849266,"1765"),t,{instanceKey:e})}function u(e){r("QPLUserFlow").endSuccess(r("qpl")._(1056849266,"1765"),{instanceKey:e})}function c(e,t){r("QPLUserFlow").endFailure(r("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:t}},instanceKey:e})}l.start=e,l.addAnnotations=s,l.endSuccess=u,l.endFailure=c}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["MAWDeviceChangeState-resolver","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){return o("MAWDeviceChangeState-resolver").updateDeviceCount(r),(e||(e=n("Promise"))).resolve()}l.call=s}),98);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","MAWUpdateClientRestoreStatusOperationType","ReQL","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.encrypted_backups_client_restore_status).filter(function(e){return e.threadId===t})).then(function(t){return t!=null?e.encrypted_backups_client_restore_status.delete(t.threadId).then(r("emptyFunction")):Promise.resolve()})}function c(t,n,a,i){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.encrypted_backups_client_restore_status).getKeyRange(n)).then(function(i){return i!=null?t.encrypted_backups_client_restore_status.put({lastUpdated:(e||(e=o("I64"))).of_float(Date.now()),restoreStatus:(s||(s=o("LSIntEnum"))).ofNumber(r("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE),serverThreadKey:a,threadId:n}):Promise.resolve()})}function d(e){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.encrypted_backups_client_restore_status)).then(function(t){return t.reduce(function(t,n){return t.then(function(){return u(e,n.threadId)})},Promise.resolve())})}async function m(t,n){var a=n.threadId,i=n.action;return i===o("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus?await t.encrypted_backups_client_restore_status.put({lastUpdated:(e||(e=o("I64"))).of_float(Date.now()),restoreStatus:(s||(s=o("LSIntEnum"))).ofNumber(r("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),serverThreadKey:void 0,threadId:a}):await c(t,n.threadId,void 0,n.ebPrefetch),Promise.resolve()}l.truncateClientRestoreStatusTable=d,l.call=m}),98);
__d("MAWBridgeUpdateContactAsConnectedHandler",["FBLogger","I64","LSAddMessengerContactStoredProcedure","LSContactViewerRelationship","LSFactory","LSIntEnum","LSOptimisticAcceptMessageRequestStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n){var a=n.contactUserId,i=n.threadJid,l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.contacts).getKeyRange((e||(e=o("I64"))).of_string(a)));if(l==null){r("FBLogger")("messenger_web").warn("Missing contact in MAWBridgeUpdateContactAsConnectedHandler");return}var u=babelHelpers.extends({},l,{contactViewerRelationship:(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)});return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,i,"MAWBridgeUpdateContactAsConnectedHandler",async function(e,t){await Promise.allSettled([e.contacts.upsert([l.id],u),r("LSAddMessengerContactStoredProcedure")(r("LSFactory")(e),{contactId:l.id}),o("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(e,t),r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})])})}l.call=u}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeThreadsLoadedHandler",function(e,t){return r("LSUpdateE2EEMetadataParticipantsStoredProcedure")(r("LSFactory")(e),{threadKey:t})})}l.call=e}),98);
__d("MAWBridgeUpdateThreadActivityHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWChatJid","MAWFolderTypes","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MWFBLogger","ODS","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWLogger().tags(["bridgeUIEvent","Occam","ActivityUpdate"]);async function c(t,n){var r=null;return(e||(e=o("ODS"))).bumpEntityKey(3185,"occam_thread_creation","verify"),await o("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(t,{authoritativeThreadKey:null,cannotReplyReason:null,clientThreadKey:null,description:"",folder:null,instanceKey:null,isGroup:o("WAJids").switchOnMsgrChatJidType(n.chatJid,{group:function(){return!0},user:function(){return!1}}),jid:n.chatJid,lastReadTs:o("WATimeUtils").castToMillisTime((s||(s=o("I64"))).to_float(n.bumpTimestampMs))}),r=await o("MAWChatJid").toThreadMaybe(t,n.chatJid),r==null&&((e||(e=o("ODS"))).bumpEntityKey(3185,"occam_thread_creation","create"),await o("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2").call(t,{bumpTimestampMs:n.bumpTimestampMs,creationSource:n.source==="outgoing_msg"?"outgoing_message":"incoming_message",folderId:o("MAWFolderTypes").INBOX,jid:n.chatJid,optimisticThreadKey:null}),r=await o("MAWChatJid").toThreadMaybe(t,n.chatJid)),r==null?(await g(t,n.chatJid),null):r}async function d(e,t){var n=await o("MAWChatJid").toThreadMaybe(e,t.chatJid);e:{if(t.source==="outgoing_msg"||t.source==="incoming_msg"){var r=n!=null?n:await c(e,t);if(r==null){await g(e,t.chatJid);return}return m(e,r,t)}if(t.source==="deleted_msg"){if(n==null){await g(e,t.chatJid);return}return p(e,n,t)}if(t.source==="inserted_admin_msg"){if(n==null){await g(e,t.chatJid);return}return f(n,t,"No bump for admin message")}if(t.source==="eb_restore")return u.warn("Attempted bump from EB restore");throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.source)}}async function m(e,t,n){if(_(t,n)){f(t,n,"Stale incoming bump");return}await r("LSBumpE2EEMetadataThreadStoredProcedure")(r("LSFactory")(e),{bumpedByLocalDeviceSend:n.source==="outgoing_msg",isUnbump:!1,serverAuthoritativeTimestampMs:n.bumpTimestampMs,threadKey:t.threadKey}),f(t,n,"Thread bumped")}async function p(e,t,n){await e.threads.put(babelHelpers.extends({},t,{lastActivityTimestampMs:(s||(s=o("I64"))).min(t.lastActivityTimestampMs,n.bumpTimestampMs),lastReadWatermarkTimestampMs:s.min(t.lastReadWatermarkTimestampMs,n.bumpTimestampMs)})),f(t,n,"Thread unbumped")}function _(e,t){return t.source==="incoming_msg"&&(s||(s=o("I64"))).le(t.bumpTimestampMs,e.lastActivityTimestampMs)}function f(e,t,n){var r=[(s||(s=o("I64"))).to_string(e.threadKey),t.source,s.to_string(t.bumpTimestampMs),s.to_string(e.lastActivityTimestampMs),s.to_string(e.lastReadWatermarkTimestampMs)];u.debug.apply(u,[n+". threadKey: %s, source: %s, bumpTimestampMs: %s, originalLastActivityTimestampMs: %s, originalLastReadWatermarkTimestampMs: %s"].concat(r))}async function g(e,t){var n=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(e,o("MAWJids").convertChatJidToIntJid(t),"MAWBridgeUpdateThreadActivityHandler");u.mustfix("Missing LSDBThread when updating thread activity. jid: %s, thread state: %s",t,n.type)}l.call=d}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,i){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.data_trace_meta).filter(function(e){var t=e.contextThree;return t!=null&&a.externalIds.includes(t)&&(u||(u=o("I64"))).equal(e.traceType,a.traceType)?e.shouldFlush===!1:!1})).then(function(l){var s=[];return l.reduce(function(e,n){return e.then(function(){s.push(n.traceId);var e=a.errorMessage;return e!=null?r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:i,dataTraceId:n.traceId,errorMessage:e,syncChannel:(u||(u=o("I64"))).neg_one}):r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:i,dataTraceId:n.traceId,syncChannel:(u||(u=o("I64"))).neg_one})})},(e||(e=n("Promise"))).resolve()).then(function(){return s})})}function d(t,o){return o.reduce(function(e,n){return e.then(function(){return r("updateAndFlushLSDataTrace")(t,n)})},(e||(e=n("Promise"))).resolve())}function m(t,a){var i=a.event;return i===r("MAWBridgeTraceEvent").ReceivedReceipt?c(t,a,o("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(e){return d(t,e)}):i===r("MAWBridgeTraceEvent").ReceivedSent?c(t,a,o("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(r("emptyFunction")):i===r("MAWBridgeTraceEvent").FlowEndForFailure?c(t,a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(e){return d(t,e)}):i===r("MAWBridgeTraceEvent").FlowEndForSuccess?c(t,a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(e){return d(t,e)}):(e||(e=n("Promise"))).resolve()}l.call=m}),98);
__d("MAWBridgeUploadAttachmentHandler",["I64","LSFactory","LSIssueAttachmentBackupTaskStoredProcedure","LSRequestId","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","Promise","isInstamadilloEB"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){var i;if(r("isInstamadilloEB")())return(s||(s=n("Promise"))).resolve();var l=(i=a.traceId)!=null?i:r("LSRequestId").generate(),u=a.mediaType;return u==="document"?(s||(s=n("Promise"))).resolve():o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeUploadAttachmentHandler",function(t,i){var u=(e||(e=o("I64"))).to_string(i),c=o("MAWTimeUtils").isTimestampNewerThanXDays(a.ts,30);return o("MAWEncryptedBackupUtils").getBackupTenancy(t).then(function(e){var i=a.productType;return e!=null&&c?l!=null?(o("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:a.deliveryObjectId,flow:"old",mediaType:a.mediaType,messageId:a.messageId,threadId:a.threadId,traceId:l}),r("LSIssueAttachmentBackupTaskStoredProcedure")(r("LSFactory")(t),{deliveryObjectId:a.deliveryObjectId,mediaType:a.mediaType,messageId:a.messageId,productType:i,serverThreadKey:u,threadId:a.threadId,traceId:l})):r("LSIssueAttachmentBackupTaskStoredProcedure")(r("LSFactory")(t),{deliveryObjectId:a.deliveryObjectId,mediaType:a.mediaType,messageId:a.messageId,productType:i,serverThreadKey:u,threadId:a.threadId}):(o("MAWEBFrontendQPLLogger").endFlowUploadAttachmentBackup(l,!1,"old"),(s||(s=n("Promise"))).resolve())})})}l.call=u}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r,o){var a=String(o.xmaId);return t.attachments.get(r,o.msgId,a).then(function(i){if(i==null)return(e||(e=n("Promise"))).resolve();var l=[i.defaultCtaId,i.attachmentCta1Id,i.attachmentCta2Id,i.attachmentCta3Id].filter(Boolean),s=l.map(function(e){return t.attachment_ctas.delete(e)});return(e||(e=n("Promise"))).all(s).then(function(){return t.attachments.delete(r,o.msgId,a)})})}function u(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeXMAShareExpiredHandler",function(e,n){return s(e,n,t)})}l.callWithoutWaitingForAnything=s,l.call=u}),98);
__d("isInstamadilloDYI",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("665")===!0}l.default=e}),98);
__d("MAWBridgeUIEventHandler",["EBLogger","MAWAbPropsClient","MAWBridgeAddMessageSearchResultHandler","MAWBridgeCallRestoreNativeOpHandler","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteMessagesOfThreadHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeEphemeralSettingsUpdatedForUIHandler","MAWBridgeFulfillRestorePromisePayloadHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeNoteReplyStartCountdownHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeRefreshContactHandler","MAWBridgeRemoveMessageSearchResultHandler","MAWBridgeResignAttachmentCDNUrlHandler","MAWBridgeStartTraceHandler","MAWBridgeStoryReplyStartCountdownHandler","MAWBridgeSyncContacts","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadUpdatedHandler","MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateContactAsConnectedHandler","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateThreadActivityHandler","MAWBridgeUpdateTraceHandler","MAWBridgeUploadAttachmentHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWLoggerUtils","MAWMessageExpirationStorage","MWFBLogger","WAResultOrError","WATimeUtils","emptyFunction","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["MAWBridgeUIEvent"]);function d(t,n,r){switch(r.tag){case"NewMsg":return o("MAWBridgeNewMsgHandler").call(n,r.value);case"MsgsStartCountdown":return o("MAWBridgeMsgsStartCountdownHandler").call(n,r.value);case"StoryReplyStartCountdown":return o("MAWBridgeStoryReplyStartCountdownHandler").call(n,r.value);case"NoteReplyStartCountdown":return o("MAWBridgeNoteReplyStartCountdownHandler").call(n,r.value);case"MsgClearCountdown":return Promise.resolve(o("MAWMessageExpirationStorage").clearMessageFromExpiration(r.value));case"DropAllSecureThreads":return o("MAWBridgeDropAllSecureThreadsHandler").call(n);case"VerifyThreadExists":{var a=r.value;return o("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(n,a)}case"CreateE2EEMetadataThreadV2":return o("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2").call(n,r.value);case"EditMsgHistoryAdded":return o("MAWBridgeEditMsgHistoryAddedHandler").call(t,n,r.value);case"MsgUpdated":return o("MAWBridgeMsgUpdatedHandler").call(n,r.value);case"NewMedia":return o("MAWBridgeNewMediaHandler").call(n,r.value);case"NewMediaRange":return o("MAWBridgeNewMediaRangeHandler").call(n,r.value);case"MediaExpired":return o("MAWBridgeMediaExpiredHandler").call(n,r.value);case"XMAShareExpired":return o("MAWBridgeXMAShareExpiredHandler").call(n,r.value);case"NewXMA":return o("MAWBridgeNewXMAHandler").call(n,r.value);case"XMAShareTombstoned":return o("MAWBridgeXMAShareTombstonedHandler").call(n,r.value);case"ParticipantRemoved":return o("MAWBridgeParticipantRemovedHandler").call(n,r.value);case"UpdateE2EEMetadataParticipants":return o("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(n,r.value);case"ReceivedReceipt":return o("MAWBridgeReceivedReceiptHandler").call(n,r.value);case"ThreadUpdated":return o("MAWBridgeThreadUpdatedHandler").call(n,r.value);case"GroupInfoUpdated":return o("MAWBridgeGroupInfoUpdatedHandler").call(n,r.value);case"UpdateThreadActivity":return o("MAWBridgeUpdateThreadActivityHandler").call(n,r.value);case"StartTrace":return o("MAWBridgeStartTraceHandler").call(n,r.value);case"UpdateTrace":return o("MAWBridgeUpdateTraceHandler").call(n,r.value);case"ThreadHiddenV2":return o("MAWBridgeThreadHiddenV2Handler").call(n,r.value);case"SyncContacts":return o("MAWBridgeSyncContacts").call(n,r.value);case"ReceivedChatState":return o("MAWBridgeReceivedChatStateHandler").call(n,r.value);case"ClockSkewUpdated":return Promise.resolve(o("WATimeUtils").setClockSkew(r.value));case"ABPropsUpdated":return c.warn("ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated"),Promise.resolve(o("MAWAbPropsClient").rewrite(r.value));case"COPDigestReceived":return o("MAWBridgeHandleCOPDigest").call(n,r.value);case"UpsertReaction":return o("MAWBridgeReactionUpsertHandler").call(n,r.value);case"DeleteReaction":return o("MAWBridgeDeleteReactionHandler").call(n,r.value);case"DeleteMessagesOfThread":return o("MAWBridgeDeleteMessagesOfThreadHandler").call(n,r.value);case"UploadAttachment":return o("MAWBridgeUploadAttachmentHandler").call(n,r.value);case"ResignAttachmentCDNUrl":return o("MAWBridgeResignAttachmentCDNUrlHandler").call(n,r.value);case"DeleteMessages":return o("MAWBridgeDeleteMessagesHandler").call(n,r.value);case"RestoreMessageBatch":return o("EBLogger").EBLogger().tags(["labyrinth_dyi"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]))),Promise.resolve();case"OneToOneMessageRequestLoaded":return o("MAWBridgeOneToOneMessageRequestLoadedHandler").call(n,r.value);case"GroupInviteUpdate":return o("MAWBridgeGroupInviteUpdateHandler").call(n,r.value);case"UpdateDyiStatus":return o("EBLogger").EBLogger().tags(["labyrinth_dyi"]).WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]))),Promise.resolve();case"DeleteGroupInvite":return o("MAWBridgeDeleteGroupInviteHandler").call(n,r.value);case"TraceRecordCheckpoint":return o("MAWBridgeTraceRecordCheckpointHandler").call(n,r.value);case"ParticipantsUpdated":return o("MAWBridgeParticipantsUpdatedHandler").call(n,r.value);case"StartTraceWithTraceId":return Promise.resolve();case"UpdateClientRestoreStatus":return o("MAWBridgeUpdateClientRestoreStatus").call(n,r.value);case"NewMsgs":return o("MAWBridgeNewMsgHandler").bulkCall(n,r.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return o("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(n,r.value);case"EphemeralSettingsUpdatedForUI":return o("MAWBridgeEphemeralSettingsUpdatedForUIHandler").call(n,r.value);case"RavenActionUpdate":return o("MAWBridgeRavenActionMsgForUIHandler").call(n,r.value);case"GroupInviteLoaded":return o("MAWBridgeGroupInviteLoadedHandler").call(n,r.value);case"RemoveMessageSearchResult":return o("MAWBridgeRemoveMessageSearchResultHandler").call(n,r.value);case"AddMessageSearchResult":return o("MAWBridgeAddMessageSearchResultHandler").call(t,n,r.value);case"FulfillRestorePromise":return o("MAWBridgeFulfillRestorePromisePayloadHandler").call(r.value);case"UpdateContactAsConnected":return o("MAWBridgeUpdateContactAsConnectedHandler").call(n,r.value);case"RefreshContact":return o("MAWBridgeRefreshContactHandler").call(n,r.value);case"NewReceiverFetchInfo":return o("MAWBridgeNewReceiverFetchInfoHandler").call(n,r.value);case"RestoreNativeOp":return o("MAWBridgeCallRestoreNativeOpHandler").call(r.value);case"NewPoll":return o("MAWBridgeNewPollHandler").call(n,r.value);default:return Promise.resolve()}}function m(e,t){if(!r("isArmadillo")()&&!r("isInstamadilloDYI")()){c.mustfix("User is neither part of armadillo QE and dual send QE but somehow loaded this handler");return}if(!(t.length===1&&t[0].tag==="TraceRecordCheckpoint")){var n={};n=t.reduce(function(e,t){var n;return e[t.tag]=((n=e[t.tag])!=null?n:0)+1,e},n),c.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""])),JSON.stringify(n))}r("promiseDone")(p(e,t),r("emptyFunction"),function(e){c.catching(e).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",t.map(function(e){return e.tag}).join(", "))})}async function p(e,t){var n=await e,a=o("MAWLoggerUtils").getInstanceKey(),l=t.map(function(e){return e.tag}),s="";o("MAWBridgeUIEventQueueQPLLogger").start(a,l),o("MAWBridgeUIEventQueueQPLLogger").addAnnotations(a,{int:{queue_size:t.length}});var u;try{u=await n.runInTransaction(async function(e){for(var a=0;a<t.length;a++){var i=t[a];try{await d(n,e,i)}catch(e){return s=i.tag,o("WAResultOrError").makeError(r("getErrorSafe")(e))}}return o("WAResultOrError").makeResult(!0)},"readwrite","background",{events:t,type:"maw_ui_bridge"},i.id+":284")}catch(e){u=o("WAResultOrError").makeError(r("getErrorSafe")(e))}u.success?o("MAWBridgeUIEventQueueQPLLogger").endSuccess(a):(o("MAWBridgeUIEventQueueQPLLogger").endFailure(a,s),c.catching(u.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB, failed at %s, all events: %s",s,l.toString()))}async function _(e,t,n){try{await d(e,t,n)}catch(e){var o=r("getErrorSafe")(e);throw c.catching(o).mustfix("[handleShimEvent] Failed to handle UI event: %s",n.tag),e}}l.handleEvents=m,l.handleShimEvent=_}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EBLogger","EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","QPLUserFlow","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){o("EncryptedBackupdDYIFileSaver").saveFile(e,t),window.setTimeout(function(){r("promiseDone")(n())},1e3)}async function s(t){var n=t.qplEvent,a=t.qplInstanceKeyE2E,i=t.status,l=o("EBLogger").EBLogger().tags(["dyi"]);if(i===o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw l.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var s=o("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,u=await o("EncryptedBackupsDYIFileUtils").getRootFolderHandle(),c=await o("EncryptedBackupsDYIFileUtils").readFile(u,s);await e(s,c,async function(){await u.removeEntry(s)}),l.info("Saving file with filename ",s),n!=null&&a!=null&&r("QPLUserFlow").endSuccess(n,{instanceKey:a}),l.info("DYI Complete")}catch(e){return l.catching(r("getErrorSafe")(e)).mustfix("Failed to download the DYI archive"),n!=null&&a!=null&&r("QPLUserFlow").endFailure(n,r("getErrorSafe")(e).message,{instanceKey:a}),o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}return i===o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&n!=null&&a!=null&&r("QPLUserFlow").endFailure(n,"Unknown error",{instanceKey:a}),i}l.call=s}),98);
__d("MWChatEncryptedBackupsAddDeviceWithEBKeys",["EBMainThreadEBDBApiDeferred","EBSMAPI","EBWorkerODSEntityName.enum","MAWBridgeFireAndForget"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.backupId,n=e.db,a=e.newDeviceRegistrationId,i=e.previousDeviceId;return r("EBSMAPI").addDeviceWithEBKeys({backupId:t,db:n,newDeviceRegistrationId:a,previousDeviceId:i,source:r("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_MAIN_THREAD,trackAddingDevice:function(t){o("EBMainThreadEBDBApiDeferred").addNewDevice(t)}}).then(function(){return o("MAWBridgeFireAndForget").fireAndForget("backend","addDeviceWithKeysInWorker",{backupId:t,deviceRegistrationId:a,isAutoRestore:!0,previousDeviceId:i,source:r("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_WORKER})})}l.addDeviceWithEBKeys=e}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapper.react",["cr:27510","cr:6736","cr:8598","cr:8601"],(function(t,n,r,o,a,i,l){"use strict";function e(){return n("cr:8598")==null||n("cr:8598")(),n("cr:27510")==null||n("cr:27510")(),n("cr:8601")==null||n("cr:8601")(),n("cr:6736")==null||n("cr:6736")(),null}l.default=e}),98);
__d("MWEBPropagateEbStateUtils",["CometRelay","EBLogger","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef,_=r("requireDeferred")("mwEBSetBackupState").__setRef("MWEBPropagateEbStateUtils"),f=r("requireDeferred")("mwProcessBackupIds").__setRef("MWEBPropagateEbStateUtils");function g(t,n){var r=p(null);return d(function(a){o("EBLogger").EBLogger().DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[useMWEBPropagateEbStateChangesThroughRelay] update: ",""])),a);var i=r.current;i!==null&&i!==a&&n&&(o("EBLogger").EBLogger().DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["mwEB Backup state changed from "," to "," - triggering onStateChange"])),i,a),n()),r.current=a,o("CometRelay").commitLocalUpdate(t,function(e){var t=e.getRoot().getLinkedRecord("viewer");if(t==null){o("EBLogger").EBLogger().mustfix("[backup_state] A viewer record does not exist when propagating EB state.");return}t.setValue(a,"backup_state")})},[t,n])}function h(){var e=o("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX(),t=e.shouldHideEBFlow,n=r("useMAWHasUserVisibleErrors")();return t||n}function y(e,t,n,a,i){var l=o("react-compiler-runtime").c(11),s;l[0]!==t||l[1]!==e||l[2]!==a||l[3]!==i?(s=function(){var n=async function(){var n=null;(e!=null||t!=null)&&(n=a?0:(await f.load())({clientStateData:t,encryptedBackupData:e})),n!=null&&(await _.load())({setBackupState:i,state:n})};r("promiseDone")(n())},l[0]=t,l[1]=e,l[2]=a,l[3]=i,l[4]=s):s=l[4];var u;l[5]!==t||l[6]!==e||l[7]!==n||l[8]!==a||l[9]!==i?(u=[t,e,n,a,i],l[5]=t,l[6]=e,l[7]=n,l[8]=a,l[9]=i,l[10]=u):u=l[10],m(s,u)}l.useBackupStateUpdate=g,l.useHasArmadilloError=h,l.useEbStatePropagationEffect=y}),98);
__d("MWEncryptedBackupsProcessBackupDataUtils",["EBFetchBackupIdsShared","MWEncryptedBackupsListenForChangesToBackupStateInitPath","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.data,n=e.dbPromise,a=e.isInitalLoad,i=e.setListenForChangesToBackupState,l=o("EBFetchBackupIdsShared").transformBackupDataForLS(t);r("promiseDone")(n,function(e){return o("EBFetchBackupIdsShared").updateBackupsTableWithTransformedData({storage:e,transformedData:l}).then(function(){i(!0),t.xfb_backup!=null&&t.xfb_backup.id!=null&&a.current===!0&&(a.current=!1,r("MWEncryptedBackupsListenForChangesToBackupStateInitPath").preloadEBData(e))})})}l.processBackupData=e}),98);
__d("MWJewelThreadlistPreloader",["I64","LSDatabaseSingleton","loadMoreLSThreads","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){r("promiseDone")((e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(async function(e){await r("loadMoreLSThreads")(e,(s||(s=o("I64"))).of_int32(0))},"readwrite",void 0,void 0,i.id+":21")}))}l.default=u}),98);
__d("useMWV2ChatCloseTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MessengerWebEventsFalcoEvent","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(4),t=r("useCometFeedNoRoutingNavigationEventLogger")(),n=o("MWChatStateContext").useChatState(d),a=o("MWChatStateV2.react").useDispatch(),i;return e[0]!==a||e[1]!==t||e[2]!==n?(i=function(){t(Date.now(),"","messenger"),r("MessengerWebEventsFalcoEvent").log(c);var e=Date.now();return a(Array.from(n.values()).flatMap(function(t){return o("MWChatStateActions").closeTab(e,t.tabId)}))},e[0]=a,e[1]=t,e[2]=n,e[3]=i):i=e[3],i}function c(){return{event_name:"close_all_chat_tabs"}}function d(e){return e.tabs}l.default=u}),98);
__d("useMWV2ChatMinimizeTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsOpen","MessengerWebEventsFalcoEvent","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(4),t=r("useCometFeedNoRoutingNavigationEventLogger")(),n=o("MWChatStateContext").useChatState(m),a=o("MWChatStateV2.react").useDispatch(),i;return e[0]!==a||e[1]!==t||e[2]!==n?(i=function(){t(Date.now(),"","messenger"),r("MessengerWebEventsFalcoEvent").log(d);var e=Date.now();return a(Array.from(n.values()).filter(c).flatMap(function(t){return o("MWChatStateActions").minimizeTab(e,t.tabId)}))},e[0]=a,e[1]=t,e[2]=n,e[3]=i):i=e[3],i}function c(e){return o("MWChatStateV2IsOpen").isOpen(void 0,e)}function d(){return{event_name:"minimize_all_chat_tabs"}}function m(e){return e.tabs}l.default=u}),98);
__d("MWV2ChatOptionsHeadPopover.react",["fbt","FDSCrossCircleOutline20Icon","FDSMinusCircleOutline20Icon","MWXMenu.react","MWXMenuItem.react","react","react-compiler-runtime","useMWV2ChatCloseTabs","useMWV2ChatMinimizeTabs"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(12),n=e.hasOpenTabs,a=r("useMWV2ChatCloseTabs")(),i=r("useMWV2ChatMinimizeTabs")(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Chat options menu"),t[0]=l):l=t[0];var c;t[1]!==a?(c=function(t){return a()},t[1]=a,t[2]=c):c=t[2];var d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Close all chats"),t[3]=d):d=t[3];var m;t[4]!==c?(m=u.jsx(r("MWXMenuItem.react"),{icon:r("FDSCrossCircleOutline20Icon"),onClick:c,primaryText:d,testid:void 0}),t[4]=c,t[5]=m):m=t[5];var p;t[6]!==n||t[7]!==i?(p=n?u.jsx(r("MWXMenuItem.react"),{icon:r("FDSMinusCircleOutline20Icon"),onClick:function(t){return i()},primaryText:s._(/*BTDS*/"Minimize open chats"),testid:void 0}):null,t[6]=n,t[7]=i,t[8]=p):p=t[8];var _;return t[9]!==m||t[10]!==p?(_=u.jsxs(r("MWXMenu.react"),{"aria-label":l,withArrow:!0,children:[m,p]}),t[9]=m,t[10]=p,t[11]=_):_=t[11],_}l.default=c}),226);
__d("MWV2ChatTabRootLoader.react",["FBLogger","MWV2ChatTabRoot.entrypoint","RelayHooks","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.isMinimized,a=e.tab,i=e.threadKeyDescriptor,l=n===void 0?!1:n,u=r("useCometRelayEntrypointContextualEnvironmentProvider")(),c=a.tabRootEntryPointRef;if(c==null){r("FBLogger")("messenger_web").warn("Missing chat tab entrypoint ref. Loading dynamically.");var d;t[0]!==u?(d=o("RelayHooks").loadEntryPoint(u,r("MWV2ChatTabRoot.entrypoint"),{}),t[0]=u,t[1]=d):d=t[1],c=d}var m;t[2]!==l||t[3]!==a||t[4]!==i?(m={isMinimized:l,tab:a,threadKeyDescriptor:i},t[2]=l,t[3]=a,t[4]=i,t[5]=m):m=t[5];var p;return t[6]!==m||t[7]!==c?(p=s.jsx(o("RelayHooks").EntryPointContainer,{entryPointReference:c,props:m}),t[6]=m,t[7]=c,t[8]=p):p=t[8],p}l.default=u}),98);
__d("MessengerDesktopNotificationPermissions",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:"default",DENIED:"denied",GRANTED:"granted"});i.default=e}),66);
__d("PresenceConfig",["PresenceConfigInitialData"],(function(t,n,r,o,a,i,l){var e=babelHelpers.extends({},r("PresenceConfigInitialData"));function s(t,n){return t in e?e[t]:n}l.get=s}),98);
__d("PresenceViewerCapabilities",["ArbiterMixin","PresenceConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=babelHelpers.extends({},r("ArbiterMixin"));Object.assign(s,{get:function(){return e!=null||(e=o("PresenceConfig").get("viewer_presence_capabilities")),e}});var u=s;l.default=u}),98);
__d("WorkplaceChatHelper",["ChannelConstants","CurrentUser","PresenceViewerCapabilities"],(function(t,n,r,o,a,i,l){"use strict";function e(){return window.workchat!==void 0}function s(){return window.workchat.appId}function u(){window.workchat.showWindow()}function c(){var e,t=(e=window.workchat)==null?void 0:e.getIsSystemDoNotDisturbOn;return t==null?!1:t()}function d(){return window.workchat.getScreenSharingSourceID()}function m(){return window.workchat.stopScreenSharing()}function p(){return r("CurrentUser").isWorkUser()&&(r("PresenceViewerCapabilities").get()&o("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==o("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP}l.isDesktopChatApp=e,l.getAppID=s,l.showWindow=u,l.getIsSystemDoNotDisturbOn=c,l.getScreenSharingSourceID=d,l.stopScreenSharing=m,l.suppressChatIfActiveOnDesktop=p}),98);
__d("MessengerDesktopNotifications",["MessengerDesktopNotificationPermissions","Run","UserAgent","WorkplaceChatHelper","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=5e3,s=new Map;function u(){s.forEach(function(e,t,n){e.close&&e.close()})}var c=null;function d(){return!!window.Notification}function m(){if(window.Notification)return window.Notification.permission}function p(){return r("UserAgent").isBrowser("FireFox")&&r("UserAgent").isPlatform("Mac OS X")}function _(){return m()===r("MessengerDesktopNotificationPermissions").DENIED}function f(){return m()===r("MessengerDesktopNotificationPermissions").GRANTED}function g(e){window.Notification&&r("promiseDone")(window.Notification.requestPermission(),e)}function h(t){if(f()){var n=window.Notification?new window.Notification(t.title,{body:t.body,icon:t.icon,tag:t.tag,silent:t.silent}):{};return s.set(t.tag,n),t.onShow&&t.onShow(),n.onclick=function(){o("WorkplaceChatHelper").isDesktopChatApp()&&o("WorkplaceChatHelper").showWindow(),t.onClick()},n.onclose=function(){s.delete(t.tag)},c=setTimeout(function(){n.close()},t.closeTime||e),n}else return null}function y(e){var t=s.get(e);t&&t.close()}o("Run").onUnload(u),l.isSupported=d,l.checkPermission=m,l.hasDefaultSound=p,l.isDenied=_,l.isGranted=f,l.requestPermission=g,l.showNotification=h,l.removeNotification=y}),98);
__d("NotificationPermissionRequestComet.react",["fbt","BaseModal.react","CometHideLayerOnEscape.react","CometScreenReaderText.react","CometVisualCompletion","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(11),n=e.onClick,a,i;t[0]!==n?(a=function(){return window.addEventListener("mousedown",n),r("CometVisualCompletion").addAnnotationInt("pushRequestOverlay",1),(function(){window.removeEventListener("mousedown",n)})},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),c(a,i);var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Push notifications request"),t[3]=l):l=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"To allow or block browser notifications from Facebook, go to your browser settings.")}),t[4]=d):d=t[4];var m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Close"),t[5]=m):m=t[5];var p;t[6]!==n?(p=u.jsxs("div",{"aria-label":l,"aria-modal":"true",role:"alertdialog",children:[d,u.jsx("button",{onClick:n,children:m})]}),t[6]=n,t[7]=p):p=t[7];var _;return t[8]!==n||t[9]!==p?(_=u.jsx(r("BaseModal.react"),{stackingBehavior:"above-everything",children:u.jsx(r("CometHideLayerOnEscape.react"),{onHide:n,children:p})}),t[8]=n,t[9]=p,t[10]=_):_=t[10],_}l.default=d}),226);
__d("OverlayConfigDefaults",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze([1,0,0,20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,640,360,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,0,1,-1,-1,-1,-1,-1,-1,1,1,0,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,16e3,2e4,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6e4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,120,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),l=e;i.default=l}),66);
__d("OverlayConfigDefaultsLayer",["OverlayConfigDefaults","OverlayConfigLayerSource"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.getLayerSource=function(){return r("OverlayConfigLayerSource").DEFAULT},t.getValue=function(t){return r("OverlayConfigDefaults")[t]},t.logExposure=function(t){},e})();l.default=e}),98);
__d("OverlayConfigLayerManager",["FBLogger","OverlayConfigConstants","OverlayConfigDefaultsLayer"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=[new(r("OverlayConfigDefaultsLayer"))]}var t=e.prototype;return t.getValue=function(t){for(var e=this.$1.length-1;e>=0;e--){var n=this.$1[e].getValue(t);if(n>r("OverlayConfigConstants").OverlayConfigNotPresentFlagValue)return n}throw r("FBLogger")("rtc_www").mustfixThrow("OverlayConfigLayerManager: No value found for id %s",String(t))},t.addLayer=function(t){return this.$1.push(t),this.$1.length-1},t.replaceLayer=function(t,n){if(t===0)throw r("FBLogger")("rtc_www").mustfixThrow("OverlayConfigLayerManager: Tried to replace default layer!");if(this.$1[t]==null)throw r("FBLogger")("rtc_www").mustfixThrow("OverlayConfigLayerManager: Layer does not exist at index %s",String(t));this.$1[t]=n},t.clone=function(){var t=new e;return t.$1=this.$1.slice(),t},e})();l.default=e}),98);
__d("OverlayConfigManager",["Configs","OverlayConfigLayerManager"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("Configs")).ExampleConfig,s=e.PreferredCaptureConfig,u=e.ZenonSdpTransformConfig,c=e.ZenonPeerConnectionConfig,d=e.ZenonStartCallImmediatelyConfig,m=e.ZenonGeneralizedIdentityConfig,p=e.ZenonMultiCallSupportConfig,_=e.ZenonPlatformSupportConfig,f=e.ZenonSimulcastConfig,g=e.DynamicRuleConfig,h=e.SignalingPingConfig,y=e.NetEqAiConfig,C=(function(){function e(){this.layerManager=new(n("OverlayConfigLayerManager"))}var t=e.prototype;return t.getExampleConfig=function(){return new l(this.layerManager)},t.getPreferredCaptureConfig=function(){return new s(this.layerManager)},t.getZenonSdpTransformConfig=function(){return new u(this.layerManager)},t.getZenonPeerConnectionConfig=function(){return new c(this.layerManager)},t.getZenonStartCallImmediatelyConfig=function(){return new d(this.layerManager)},t.getZenonGeneralizedIdentityConfig=function(){return new m(this.layerManager)},t.getZenonMultiCallSupportConfig=function(){return new p(this.layerManager)},t.getZenonPlatformSupportConfig=function(){return new _(this.layerManager)},t.getZenonSimulcastConfig=function(){return new f(this.layerManager)},t.getDynamicRuleConfig=function(){return new g(this.layerManager)},t.getSignalingPingConfig=function(){return new h(this.layerManager)},t.getNetEqAiConfig=function(){return new y(this.layerManager)},e})();a.exports=C}),null);
__d("OverlayConfigManagerWithServerLayer",["OverlayConfigManager"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$OverlayConfigManagerWithServerLayer$p_1=-1,t!=null&&(n.layerManager=t.layerManager.clone()),n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.setServerLayer=function(t){if(this.$OverlayConfigManagerWithServerLayer$p_1>-1){this.layerManager.replaceLayer(this.$OverlayConfigManagerWithServerLayer$p_1,t);return}this.$OverlayConfigManagerWithServerLayer$p_1=this.layerManager.addLayer(t)},t})(r("OverlayConfigManager"));l.default=e}),98);
__d("RTWebCallBlockSettingHooksQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9989124061109700"}),null);
__d("RTWebCallBlockSettingHooksQuery.graphql",["RTWebCallBlockSettingHooksQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RTWebCallBlockSettingHooksQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"RTWebCallBlockSettingHooksQuery",selections:e},params:{id:n("RTWebCallBlockSettingHooksQuery_facebookRelayOperation"),metadata:{},name:"RTWebCallBlockSettingHooksQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("RTWebCallBlockSettingHooks",["CometRelay","DateConsts","RTWebCallBlockSettingHooksQuery.graphql","RTWebCallBlockedSettingSubscription","RTWebPreCallContext","ServerTime","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect,m=u.useState,p=6e4,_=e!==void 0?e:e=n("RTWebCallBlockSettingHooksQuery.graphql"),f=function(t,n){return function(e){var r=e.getRoot();if(r!=null){var o=r.getLinkedRecord("viewer");o!=null&&o.setValue(n,t)}}};function g(e){return e===-1?e:(e||0)*o("DateConsts").MS_PER_SEC}function h(){var e=o("react-compiler-runtime").c(6),t=o("CometRelay").useRelayEnvironment(),n;e[0]!==t?(n=o("CometRelay").getActorID(t),e[0]=t,e[1]=n):n=e[1];var a=n,i=m(0),l=i[0],s=i[1],u,c;return e[2]!==a||e[3]!==t?(u=function(){var e=o("CometRelay").fetchQuery(t,_,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(e){var t=e==null?void 0:e.viewer;t!=null&&s(g(t.call_blocked_until))});r("promiseDone")(e);var n=o("RTWebCallBlockedSettingSubscription").subscribe(t,{viewer_id:a},function(e){var n=e==null?void 0:e.rtweb_call_blocked_setting_subscribe;n!=null&&(s(g(n.call_blocked_until)),t.commitUpdate(f("call_blocked_until",n.call_blocked_until)))});return(function(){n.dispose()})},c=[t,a],e[2]=a,e[3]=t,e[4]=u,e[5]=c):(u=e[4],c=e[5]),d(u,c),l}function y(){var e=o("react-compiler-runtime").c(4),t=h(),n=o("ServerTime").getMillis(),r=t<0,a=t>n,i=m(r||a),l=i[0],s=i[1];(r||a)!==l&&s(r||a);var u,c;return e[0]!==t||e[1]!==a?(u=function(){if(a){var e=window.setInterval(function(){t<=o("ServerTime").getMillis()&&(s(!1),window.clearInterval(e))},p);return(function(){window.clearInterval(e)})}},c=[t,a],e[0]=t,e[1]=a,e[2]=u,e[3]=c):(u=e[2],c=e[3]),d(u,c),l}function C(){var e=o("react-compiler-runtime").c(4),t=c(r("RTWebPreCallContext")),n=y(),a,i;e[0]!==n||e[1]!==t?(a=function(){t!=null&&t.callInviteModel.startListening({callsBlocked:n})},i=[t,n],e[0]=n,e[1]=t,e[2]=a,e[3]=i):(a=e[2],i=e[3]),d(a,i)}l.useCallBlockSettingValue=h,l.useHasCallsBlocked=y,l.useCallBlockSetting=C}),98);
__d("showDesktopNotification",["MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=8e3;function s(){return function(t){var n=t.acceptCall,a=t.body,i=t.icon,l=t.title,s={body:a,closeTime:e,icon:i,onClick:function(){o("ZenonUserActionLogger").logClick({component:"browser_notification",surface:"desktop_notification"}),window.focus(),n({trigger:"desktop_notification"})},onShow:function(){o("ZenonUserActionLogger").logImpression({component:"browser_notification",surface:"desktop_notification"})},title:l};if(o("MessengerDesktopNotifications").checkPermission()===r("MessengerDesktopNotificationPermissions").DEFAULT){o("MessengerDesktopNotifications").requestPermission(function(){o("MessengerDesktopNotifications").showNotification(s)});return}o("MessengerDesktopNotifications").showNotification(s)}}l.default=s}),98);
__d("RTWebCallInviteDesktopNotification.react",["fbt","RTWebPreCallHooks","ZenonUsersHooks","react","react-compiler-runtime","showDesktopNotification","usePrevious"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.invite,r;return t[0]!==n?(r=(n==null?void 0:n.type)==="ringing"?u.jsx(d,{invite:n}):null,t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=e.invite,n=r("showDesktopNotification")(),a=r("usePrevious")(t.ringID),i=o("RTWebPreCallHooks").useAcceptCallCallback(!1),l=o("ZenonUsersHooks").useZenonUser(t.inviterID),s=t.requestingVideo,u=t.participants.length>1;if(a!==t.ringID&&l!=null){var c;n({acceptCall:i,body:p(l.shortName),icon:(c=l.profilePictureUrl)!=null?c:null,title:m(s,u)})}return null}function m(e,t){return t?e?s._(/*BTDS*/"Incoming group video chat"):s._(/*BTDS*/"Incoming group call"):e?s._(/*BTDS*/"Incoming video chat"):s._(/*BTDS*/"Incoming call")}function p(e){return s._(/*BTDS*/"{caller name} is calling you. Click to answer.",[s._param("caller name",e)])}l.default=c}),226);
__d("ZenonCallWindowOpener_Popup",["UserAgent","ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=1280,s={LargeForGroup:{height:772,width:1100},LargeForP2P:{height:720,width:1280},Small:{height:540,width:960}},u=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no"],c=(function(){function t(){}var n=t.prototype;return n.openWindow=function(t){var e=this.$1(t.joinContext),n=this.$2(e),a=n.left,i=n.top;o("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_Popup: left="+a+",top="+i+",width="+e.width+",height="+e.height});var l=r("UserAgent").isBrowser("Safari")?window.location.hostname:"";return window.open(l,"",[].concat(u,["height="+e.height,"width="+e.width,"left="+a,"top="+i]).join(","))},n.$1=function(n){return screen&&screen.width>e?n.type==="link"||n.thread.type===2?{height:s.LargeForGroup.height,width:s.LargeForGroup.width}:{height:s.LargeForP2P.height,width:s.LargeForP2P.width}:{height:s.Small.height,width:s.Small.width}},n.$2=function(t){var e,n,r=t.height,o=t.width;return{left:Math.floor(window.innerWidth/2-o/2+((e=window.screenLeft)!=null?e:window.screenX)),top:Math.floor(window.innerHeight/2-r/2+((n=window.screenTop)!=null?n:window.screenY))}},t})();l.default=c}),98);
__d("ZenonCallWindowOpener_iFrame",["ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.openWindow=function(t){o("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_iFrame"});var e=document.createElement("iframe");e.setAttribute("data-testid","zenon-call-window"),e.frameBorder="0",e.style.width="100%",e.style.height="100vh",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.zIndex="9999",document.body.appendChild(e);var n=e.contentWindow;return n},e})();l.default=e}),98);
__d("RTWebCallWindowOpener",["RTWebDropInUtils","ZenonCallWindowOpener_Popup","ZenonCallWindowOpener_iFrame","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=r("gkx")("15312")?new(r("ZenonCallWindowOpener_iFrame")):new(r("ZenonCallWindowOpener_Popup"))}var t=e.prototype;return t.openWindow=function(t){if(t.context.intent==="accept invite"&&t.context.controllerParams.appMessages!=null){var e=o("RTWebDropInUtils").isDropInFromAppMessages(t.context.controllerParams.appMessages);if(e)return babelHelpers.extends({},window,{close:function(){return null}})}return this.$1.openWindow(t)},e})();l.default=e}),98);
__d("RTWebCometCallDialog.react",["FDSButtonGroup.react","FDSControlledUserBlockingDialog.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useId;function c(e){var t=o("react-compiler-runtime").c(26),n=e.acceptIcon,a=e.acceptLabel,i=e.acceptTestid,l=e.body,c=e.declineLabel,d=e.onClose,m=e.title,p=c===void 0?null:c,_=m===void 0?null:m,f;t[0]!==d?(f=function(){d(!0)},t[0]=d,t[1]=f):f=t[1];var g=f,h;t[2]!==d?(h=function(){d(!1)},t[2]=d,t[3]=h):h=t[3];var y=h,C=u(),b=_!=null?_:void 0,v;t[4]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xdt5ytf xl56j7k xz9dl7a xsag5q8 xf7dkkf xv54qhq"},t[4]=v):v=t[4];var S=_==null?C:void 0,R;t[5]!==l||t[6]!==S?(R=s.jsx("div",babelHelpers.extends({},v,{id:S,children:l})),t[5]=l,t[6]=S,t[7]=R):R=t[7];var L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1l90r2v xf159sx x1c1uobl xexx8yu"},t[8]=L):L=t[8];var E;t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==g?(E={icon:n,label:a,onPress:g,testid:i,type:"primary"},t[9]=n,t[10]=a,t[11]=i,t[12]=g,t[13]=E):E=t[13];var k;t[14]!==p||t[15]!==y?(k=p!==null?{label:p,onPress:y,reduceEmphasis:!0}:null,t[14]=p,t[15]=y,t[16]=k):k=t[16];var I;t[17]!==E||t[18]!==k?(I=s.jsx("div",babelHelpers.extends({},L,{children:s.jsx(r("FDSButtonGroup.react"),{align:"end",direction:"backward",primary:E,secondary:k})})),t[17]=E,t[18]=k,t[19]=I):I=t[19];var T;return t[20]!==C||t[21]!==y||t[22]!==I||t[23]!==b||t[24]!==R?(T=s.jsxs(r("FDSControlledUserBlockingDialog.react"),{disableClosingWithMask:!0,labelledBy:C,onDismiss:y,title:b,withCloseButton:!0,children:[R,I]}),t[20]=C,t[21]=y,t[22]=I,t[23]=b,t[24]=R,t[25]=T):T=t[25],T}l.default=c}),98);
__d("RelayFBDefaultEnvironment",["RelayFBEnvironmentFactory"],(function(t,n,r,o,a,i,l){"use strict";var e=r("RelayFBEnvironmentFactory").getForActorID(null);l.default=e}),98);
__d("StartVideoChatLinkCall",["FBLogger","RTWebPreCallContextSingleton","RelayFBDefaultEnvironment","URI","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonPeerID","ZenonSignalingProtocol","gkx","randomZenonNonce"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("RTWebPreCallContextSingleton").create({relayEnvironment:r("RelayFBDefaultEnvironment")});function u(e,t,n,a){if(t===void 0&&(t=!1),n===void 0&&(n=!1),a===void 0&&(a=""),!r("gkx")("24231"))return null;if(s){var i=s.callWindowController,l=s.incomingRingSDK,u="",d=e,m=o("ZenonCallIdentifiersUtil").generateZenonClientSessionID();if(t){var p=c(e);if(u=r("randomZenonNonce")(),p!=null){var _={call_context:"LINK:"+p,funnel_session_id:a,nonce:u};n&&(_.auto_join=!0),d=r("XGroupCallControllerRouteBuilder").buildURL(_).toString()}}var f=i.initCall({context:{signalingID:m,intent:"start or join",invitees:[],existingCall:null},mediaType:"video",nonce:u,joinContext:{linkUrl:d,type:"link"},representedID:o("ZenonActorHooks").ZenonActor.getID()}),g=f[0],h=f[1];return l.startCallIntent(u,{signalingID:m,callTrigger:"meetup_join",isE2eeMandated:!1,isPopupBlocked:g===null,isVideo:!0,peerID:o("ZenonPeerID").ZenonMWPeerID,protocol:r("ZenonSignalingProtocol").MW}),g}else return null}function c(t){var n=new(e||(e=r("URI")))(t),o=n.getDomain(),a=n.stripTrailingSlash().getPath();if(o==="msngr.com")return a.substring(1);if(o==="m.me"&&/^\/v(id)?\//.test(a))return a.replace(/^\/v(id)?\//,"");var i=/^\/groupcall\/LINK:/;return i.test(a)?a.replace(i,""):(r("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',t),null)}l.startCall=u}),98);
__d("useRTWebIncomingCallDialog",["CometPlaceholder.react","QPLUserFlow","RTWebPreCallContext","ZenonUserActionLogger","cr:274","qpl","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(19),a=e.inviterID,l=e.isE2EECall,u=e.isVideoCall,m=e.notificationType,p=e.onAccept,_=e.onDecline,f=e.participantIDs,g=e.receiverID,h=e.showCallingSource,y=e.threadJid,C=e.threadType,b=d(!1),v=b[0],S=b[1],R=c(r("RTWebPreCallContext")),L=R?R.callInviteModel:null,E;t[0]!==a||t[1]!==v||t[2]!==l||t[3]!==u||t[4]!==m||t[5]!==p||t[6]!==_||t[7]!==f||t[8]!==g||t[9]!==h||t[10]!==y||t[11]!==C?(E=v?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(n("cr:274"),{inviterID:a,isE2EECall:l,isVideoCall:u,notificationType:m,onAccept:function(){p(),S(!1)},onClose:function(){return S(!1)},onDecline:function(){_(),S(!1)},participantIDs:f,receiverID:g,showCallingSource:h,threadJid:y,threadType:C})}):null,t[0]=a,t[1]=v,t[2]=l,t[3]=u,t[4]=m,t[5]=p,t[6]=_,t[7]=f,t[8]=g,t[9]=h,t[10]=y,t[11]=C,t[12]=E):E=t[12];var k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k=function(){return S(!1)},t[13]=k):k=t[13];var I;t[14]!==L?(I={dismiss:k,show:function(){var e;o("ZenonUserActionLogger").logImpression({surface:"incoming_call_dialog"}),r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"render_dialog",{instanceKey:+(L==null||(e=L.getCurrentInvite())==null?void 0:e.ringID)}),S(!0)}},t[14]=L,t[15]=I):I=t[15];var T;return t[16]!==E||t[17]!==I?(T=[E,I],t[16]=E,t[17]=I,t[18]=T):T=t[18],T}l.default=m}),98);
__d("RTWebIncomingUnsupportedE2EEDialogNameQuery$Parameters",["RTWebIncomingUnsupportedE2EEDialogNameQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("RTWebIncomingUnsupportedE2EEDialogNameQuery_facebookRelayOperation"),metadata:{},name:"RTWebIncomingUnsupportedE2EEDialogNameQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("RTWebIncomingUnsupportedE2EEDialog.entrypoint",["JSResourceForInteraction","RTWebIncomingUnsupportedE2EEDialogNameQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.id;return{queries:{queryReference:{parameters:n("RTWebIncomingUnsupportedE2EEDialogNameQuery$Parameters"),variables:{id:e}}}}},root:r("JSResourceForInteraction")("RTWebIncomingUnsupportedE2EEDialog.react").__setRef("RTWebIncomingUnsupportedE2EEDialog.entrypoint")};l.default=e}),98);
__d("RTWebUnsupportedDialog.react",["fbt","CometPlaceholder.react","FDSCardedDialogLoadingStateLegacy.react","FDSContextRowLink.react","JSResourceForInteraction","gkx","lazyLoadComponent","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("RTWebCometUnsupportedBrowserContent.react").__setRef("RTWebUnsupportedDialog.react")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("RTWebCometCallDialog.react").__setRef("RTWebUnsupportedDialog.react")),m="https://www.google.com/chrome/index.html";function p(e){var t=e.hide,n=e.inviterID,o=e.isVideoCall,a=e.onClose,i=e.participantIDs,l=e.threadType,p=r("gkx")("22885");return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("FDSCardedDialogLoadingStateLegacy.react"),{}),name:"RTWebUnsupportedBrowserDialog",children:u.jsx(d,{acceptLabel:s._(/*BTDS*/"Install Chrome"),body:u.jsx(c,{inviterID:n,mainMessage:s._(/*BTDS*/"Get Chrome to join"),participantIDs:i,subMessage:p?s._(/*BTDS*/"This feature isn't supported by your browser. Install {link to install chrome} to use all of Workplace's audio calling and video chat features.",[s._param("link to install chrome",_(a))]):s._(/*BTDS*/"This feature isn't supported by your browser. Install {link to install chrome} to use all of Messenger's audio calling and video chat features.",[s._param("link to install chrome",_(a))])}),declineLabel:s._(/*BTDS*/"Not now"),onClose:function(n){n&&window.open(m,"_blank"),t(),a()},title:s._(/*BTDS*/"Incoming {Unsupported feature name}",[s._param("Unsupported feature name",f(l,o))])})})}p.displayName=p.name+" [from "+i.id+"]";function _(e){return u.jsx(r("FDSContextRowLink.react"),{external:!0,linkProps:{target:"_blank",url:m},onPress:e,children:s._(/*BTDS*/"Chrome")})}_.displayName=_.name+" [from "+i.id+"]";function f(e,t){return e===2?t?"Group Video Chat":"Group Audio Call":e===3?"Room Call":t?"Video Chat":"Audio Call"}l.default=p}),226);
__d("useRTWebIncomingUnsupportedBrowserDialog",["CometPlaceholder.react","RTWebIncomingUnsupportedE2EEDialog.entrypoint","RTWebUnsupportedDialog.react","RelayHooks","ZenonUserActionLogger","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(20),n=e.inviterID,a=e.isE2EECall,l=e.isVideoCall,c=e.onClose,d=e.participantIDs,m=e.threadType,p=u(!1),_=p[0],f=p[1],g=r("useCometRelayEntrypointContextualEnvironmentProvider")(),h=o("RelayHooks").useEntryPointLoader(g,r("RTWebIncomingUnsupportedE2EEDialog.entrypoint")),y=h[0],C=h[1],b;t[0]!==y||t[1]!==n||t[2]!==a||t[3]!==C?(b=function(t){t&&a&&y==null&&C({id:n}),f(t)},t[0]=y,t[1]=n,t[2]=a,t[3]=C,t[4]=b):b=t[4];var v=b,S;t[5]!==y||t[6]!==n||t[7]!==_||t[8]!==a||t[9]!==l||t[10]!==c||t[11]!==d||t[12]!==v||t[13]!==m?(S=_?a?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:y!=null&&s.jsx(o("RelayHooks").EntryPointContainer,{entryPointReference:y,props:{inviterID:n,onClose:function(){c(),v(!1)},threadType:m}})}):s.jsx(r("RTWebUnsupportedDialog.react"),{hide:function(){return v(!1)},inviterID:n,isVideoCall:l,onClose:function(){c(),v(!1)},participantIDs:d,threadType:m}):null,t[5]=y,t[6]=n,t[7]=_,t[8]=a,t[9]=l,t[10]=c,t[11]=d,t[12]=v,t[13]=m,t[14]=S):S=t[14];var R;t[15]!==v?(R={dismiss:function(){return v(!1)},show:function(){o("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"}),v(!0)}},t[15]=v,t[16]=R):R=t[16];var L;return t[17]!==S||t[18]!==R?(L=[S,R],t[17]=S,t[18]=R,t[19]=L):L=t[19],L}l.default=c}),98);
__d("RTWebMissedCallDialogContainer.react",["fbt","ALT_PLACEHOLDER_FIXME","CometAccessibilityAnnouncement.react","IntlVariations","RTWebMDSCallNotificationDialog.react","ZenonUsers","ZenonUsersHooks","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(29),n=e.actorID,a=e.inviterID,i=e.isVideoCall,l=e.notificationType,c=e.onCallback,d=e.onClose,m=e.participantIDs,p=e.receiverID,_=e.threadJid,f=e.threadType,g=o("ZenonUsersHooks").useZenonUser(a),h=o("ZenonUsersHooks").useZenonUsers(m),y=o("ZenonUsersHooks").useZenonUser(p!=null?p:null),C;if(t[0]!==n||t[1]!==(g==null?void 0:g.profilePictureUrl)||t[2]!==h||t[3]!==y){var b;C=[],C.push({alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:(b=g==null?void 0:g.profilePictureUrl)!=null?b:""}}),y&&y.userType===o("ZenonUsers").ZenonUserType.Page||h.forEach(function(e){if(e.id!==n){var t;C.push({alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:(t=e==null?void 0:e.profilePictureUrl)!=null?t:""}})}}),t[0]=n,t[1]=g==null?void 0:g.profilePictureUrl,t[2]=h,t[3]=y,t[4]=C}else C=t[4];var v;t[5]!==g||t[6]!==m.length||t[7]!==y?(v=m.length>1?g!=null?s._(/*BTDS*/"_j{\"*\":\"You missed a group call from {caller}\"}",[s._name("caller",g.name,r("IntlVariations").GENDER_UNKNOWN)]):s._(/*BTDS*/"You missed a group call"):g!=null&&y&&(y==null?void 0:y.userType)===o("ZenonUsers").ZenonUserType.Page?s._(/*BTDS*/"_j{\"*\":\"{page} missed a call from {caller}\"}",[s._name("caller",g.name,r("IntlVariations").GENDER_UNKNOWN),s._param("page",y.name)]):g!=null?s._(/*BTDS*/"_j{\"*\":\"You missed a call from {caller}\"}",[s._name("caller",g.name,r("IntlVariations").GENDER_UNKNOWN)]):s._(/*BTDS*/"You missed a call"),t[5]=g,t[6]=m.length,t[7]=y,t[8]=v):v=t[8];var S=v,R;t[9]!==S?(R=u.jsx(r("CometAccessibilityAnnouncement.react"),{assertive:!0,children:S}),t[9]=S,t[10]=R):R=t[10];var L;t[11]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Call back"),t[11]=L):L=t[11];var E;t[12]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Close"),t[12]=E):E=t[12];var k;t[13]!==(g==null?void 0:g.name)?(k=s._(/*BTDS*/"_j{\"*\":\"{caller}\"}",[s._name("caller",g==null?void 0:g.name,r("IntlVariations").GENDER_UNKNOWN)]),t[13]=g==null?void 0:g.name,t[14]=k):k=t[14];var I;t[15]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"Missed call"),t[15]=I):I=t[15];var T;t[16]!==i||t[17]!==S||t[18]!==l||t[19]!==c||t[20]!==d||t[21]!==C||t[22]!==k||t[23]!==_||t[24]!==f?(T=u.jsx(r("RTWebMDSCallNotificationDialog.react"),{acceptLabel:L,acceptTestid:"missedCallRedial",declineLabel:E,headline:k,isVideoCall:i,metaContent:S,notificationType:l,onAccept:c,onClose:d,onDecline:r("emptyFunction"),profiles:C,threadJid:_,threadType:f,title:I}),t[16]=i,t[17]=S,t[18]=l,t[19]=c,t[20]=d,t[21]=C,t[22]=k,t[23]=_,t[24]=f,t[25]=T):T=t[25];var D;return t[26]!==R||t[27]!==T?(D=u.jsxs(u.Fragment,{children:[R,T]}),t[26]=R,t[27]=T,t[28]=D):D=t[28],D}l.default=c}),226);
__d("useRTWebMissedCallDialog",["RTWebMissedCallDialogContainer.react","ZenonUserActionLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(15),n=e.actorID,a=e.inviterID,i=e.isVideoCall,l=e.notificationType,c=e.onCallback,d=e.participantIDs,m=e.receiverID,p=e.threadJid,_=e.threadType,f=e.timeMissed,g=u(!1),h=g[0],y=g[1],C;t[0]!==n||t[1]!==a||t[2]!==h||t[3]!==i||t[4]!==l||t[5]!==c||t[6]!==d||t[7]!==m||t[8]!==p||t[9]!==_||t[10]!==f?(C=h?s.jsx(r("RTWebMissedCallDialogContainer.react"),{actorID:n,inviterID:a,isVideoCall:i,notificationType:l,onCallback:c,onClose:function(){return y(!1)},participantIDs:d,receiverID:m,threadJid:p,threadType:_,timeMissed:f}):null,t[0]=n,t[1]=a,t[2]=h,t[3]=i,t[4]=l,t[5]=c,t[6]=d,t[7]=m,t[8]=p,t[9]=_,t[10]=f,t[11]=C):C=t[11];var b;t[12]===Symbol.for("react.memo_cache_sentinel")?(b={dismiss:function(){return y(!1)},show:function(){o("ZenonUserActionLogger").logImpression({surface:"missed_call_dialog"}),y(!0)}},t[12]=b):b=t[12];var v;return t[13]!==C?(v=[C,b],t[13]=C,t[14]=v):v=t[14],v}l.default=c}),98);
__d("RTWebCometRoomIncomingCallDialog_DisclaimerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10046592332074859"}),null);
__d("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters",["RTWebCometRoomIncomingCallDialog_DisclaimerQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("RTWebCometRoomIncomingCallDialog_DisclaimerQuery_facebookRelayOperation"),metadata:{},name:"RTWebCometRoomIncomingCallDialog_DisclaimerQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("RTWebCometRoomIncomingCallDialog.entrypoint",["JSResourceForInteraction","RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:n("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"),variables:{nuxID:8259}}}}},root:r("JSResourceForInteraction")("RTWebCometRoomIncomingCallDialogContainer.react").__setRef("RTWebCometRoomIncomingCallDialog.entrypoint")};l.default=e}),98);
__d("useRoomIncomingCallDialog",["CometPlaceholder.react","CometRelay","RTWebCometRoomIncomingCallDialog.entrypoint","RelayHooks","VideoChatLinksUserActionsMultiplexLogger","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(16),n=e.inviterID,a=e.linkUrl,l=e.onAccept,c=e.onDecline,d=e.roomName,m=e.sender,p=r("useCometRelayEntrypointContextualEnvironmentProvider")(),_=o("RelayHooks").useEntryPointLoader(p,r("RTWebCometRoomIncomingCallDialog.entrypoint")),f=_[0],g=_[1],h=u(!1),y=h[0],C=h[1],b;t[0]!==f||t[1]!==n||t[2]!==y||t[3]!==a||t[4]!==l||t[5]!==c||t[6]!==d||t[7]!==m?(b=y&&f!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:f,props:{inviterID:n,linkUrl:a,onAccept:function(){l(),C(!1)},onDecline:function(){c(),C(!1)},roomName:d,sender:m}})}):null,t[0]=f,t[1]=n,t[2]=y,t[3]=a,t[4]=l,t[5]=c,t[6]=d,t[7]=m,t[8]=b):b=t[8];var v;t[9]===Symbol.for("react.memo_cache_sentinel")?(v=function(){return C(!1)},t[9]=v):v=t[9];var S;t[10]!==a||t[11]!==g?(S={dismiss:v,show:function(){g({}),new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_received").setVideoCallLinkURLRaw(a).log(),C(!0)}},t[10]=a,t[11]=g,t[12]=S):S=t[12];var R;return t[13]!==b||t[14]!==S?(R=[b,S],t[13]=b,t[14]=S,t[15]=R):R=t[15],R}l.default=c}),98);
__d("RTWebMissedCallContent.react",["fbt","FDSProgressIndicator.react","FDSRelativeTimestamp.react","RTWebCometCallMessageLayout.react","ZenonUsersHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(12),n=e.inviterID,a=e.isRoomCall,i=e.isVideoCall,l=e.participantIDs,c=e.timeMissed,d=o("ZenonUsersHooks").useZenonUser(n),m=o("ZenonUsersHooks").useZenonUsers(l),p;t[0]!==m?(p=m.valueSeq().toArray(),t[0]=m,t[1]=p):p=t[1];var _=p,f=l.length>1,g;t[2]!==(d==null?void 0:d.name)||t[3]!==f||t[4]!==a||t[5]!==i?(g=!f||a?s._(/*BTDS*/"You missed a call from {caller name}",[s._param("caller name",d==null?void 0:d.name)]):i?s._(/*BTDS*/"You missed a group video chat from {caller name}",[s._param("caller name",d==null?void 0:d.name)]):s._(/*BTDS*/"You missed a group call from {caller name}",[s._param("caller name",d==null?void 0:d.name)]),t[2]=d==null?void 0:d.name,t[3]=f,t[4]=a,t[5]=i,t[6]=g):g=t[6];var h=g,y;return t[7]!==d||t[8]!==h||t[9]!==_||t[10]!==c?(y=d===null?u.jsx(r("FDSProgressIndicator.react"),{}):u.jsx(r("RTWebCometCallMessageLayout.react"),{caller:d,mainMessage:h,participants:_,subMessage:u.jsx(r("FDSRelativeTimestamp.react"),{date:c,format:"normal"})}),t[7]=d,t[8]=h,t[9]=_,t[10]=c,t[11]=y):y=t[11],y}l.default=c}),226);
__d("RTWebCometRoomMissedCallDialogContainer.react",["fbt","FDSCamcorderFilled16Icon","RTWebCometCallDialog.react","RTWebMissedCallContent.react","VideoChatLinksUserActionsMultiplexLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(16),n=e.inviterID,a=e.linkUrl,i=e.onCallback,l=e.onClose,c=e.participantIDs,d=e.roomName,m=e.timeMissed,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Join"),t[0]=p):p=t[0];var _;t[1]!==n||t[2]!==c||t[3]!==m?(_=u.jsx(r("RTWebMissedCallContent.react"),{inviterID:n,isRoomCall:!0,isVideoCall:!1,participantIDs:c,timeMissed:m}),t[1]=n,t[2]=c,t[3]=m,t[4]=_):_=t[4];var f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Close"),t[5]=f):f=t[5];var g;t[6]!==a||t[7]!==i||t[8]!==l?(g=function(t){t?(new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_accepted").setVideoCallLinkURLRaw(a).log(),i()):new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_missed_dialog_dismissed").setVideoCallLinkURLRaw(a).log(),l()},t[6]=a,t[7]=i,t[8]=l,t[9]=g):g=t[9];var h;t[10]!==d?(h=s._(/*BTDS*/"Missed call from {room name}",[s._param("room name",d)]),t[10]=d,t[11]=h):h=t[11];var y;return t[12]!==_||t[13]!==g||t[14]!==h?(y=u.jsx(r("RTWebCometCallDialog.react"),{acceptIcon:r("FDSCamcorderFilled16Icon"),acceptLabel:p,body:_,declineLabel:f,onClose:g,title:h}),t[12]=_,t[13]=g,t[14]=h,t[15]=y):y=t[15],y}l.default=c}),226);
__d("useRoomMissedCallDialog",["RTWebCometRoomMissedCallDialogContainer.react","VideoChatLinksUserActionsMultiplexLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(14),n=e.inviterID,a=e.linkUrl,i=e.onCallback,l=e.participantIDs,c=e.roomName,d=e.timeMissed,m=u(!1),p=m[0],_=m[1],f;t[0]!==n||t[1]!==p||t[2]!==a||t[3]!==i||t[4]!==l||t[5]!==c||t[6]!==d?(f=p?s.jsx(r("RTWebCometRoomMissedCallDialogContainer.react"),{inviterID:n,linkUrl:a,onCallback:i,onClose:function(){return _(!1)},participantIDs:l,roomName:c,timeMissed:d}):null,t[0]=n,t[1]=p,t[2]=a,t[3]=i,t[4]=l,t[5]=c,t[6]=d,t[7]=f):f=t[7];var g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=function(){return _(!1)},t[8]=g):g=t[8];var h;t[9]!==a?(h={dismiss:g,show:function(){new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_missed").setVideoCallLinkURLRaw(a).log(),_(!0)}},t[9]=a,t[10]=h):h=t[10];var y;return t[11]!==f||t[12]!==h?(y=[f,h],t[11]=f,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("useZenonDialogController",["react","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=c(null),o=n[0],a=n[1],i=r("usePrevious")(e);u(function(){var n;(e==null?void 0:e.ringID)===(i==null?void 0:i.ringID)&&(e==null?void 0:e.type)===(i==null?void 0:i.type)||(o!=null&&(o.dismiss(),a(null)),e!==null&&(a(t),(n=t())==null||n.show()))},[o,t,e,i])}l.default=d}),98);
__d("RTWebCometCallInviteDialogs.react",["Actor","RTWebDropInUtils","RTWebIncomingRingConfiguration","RTWebPreCallContext","RTWebPreCallHooks","ServerTime","StartVideoChatLinkCall","react","react-compiler-runtime","useRTWebIncomingCallDialog","useRTWebIncomingUnsupportedBrowserDialog","useRTWebMissedCallDialog","useRoomIncomingCallDialog","useRoomMissedCallDialog","useZenonDialogController"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t,n,a,i,l=o("react-compiler-runtime").c(60),c=e.invite,d=o("Actor").useActor(),m=d[0],p=u(r("RTWebPreCallContext")),_=o("RTWebPreCallHooks").useStartCallCallback(),f=p?p.callInviteModel:null,g;if(l[0]!==(c==null?void 0:c.participants)){var h;g=(h=c==null?void 0:c.participants)!=null?h:[],l[0]=c==null?void 0:c.participants,l[1]=g}else g=l[1];var y=g,C=(t=c==null?void 0:c.isE2eeMandated)!=null?t:!1,b=(n=c==null?void 0:c.inviterID)!=null?n:"",v=(a=c==null?void 0:c.requestingVideo)!=null?a:!1,S=null,R,L;if(l[2]!==c){if(R="",L="",(c==null?void 0:c.context.type)==="room"){var E,k;S=c.context.room,R=(E=S.linkHash)!=null?E:"",L=(k=S.roomName)!=null?k:""}l[2]=c,l[3]=R,l[4]=L,l[5]=S}else R=l[3],L=l[4],S=l[5];var I=o("RTWebPreCallHooks").useAcceptCallCallback(!1),T;if(l[6]!==f||l[7]!==b||l[8]!==R||l[9]!==y||l[10]!==L){var D;l[12]===Symbol.for("react.memo_cache_sentinel")?(D=new Date(o("ServerTime").getMillis()),l[12]=D):D=l[12],T={inviterID:b,linkUrl:R,onCallback:function(){o("StartVideoChatLinkCall").startCall(R,!0,!0),f==null||f.dismiss()},participantIDs:y,roomName:L,timeMissed:D},l[6]=f,l[7]=b,l[8]=R,l[9]=y,l[10]=L,l[11]=T}else T=l[11];var x=r("useRoomMissedCallDialog")(T),$=x[0],P=x[1],N=c==null?void 0:c.type,M;l[13]!==I||l[14]!==f||l[15]!==c||l[16]!==b||l[17]!==C||l[18]!==v||l[19]!==y||l[20]!==N?(M={inviterID:b,isE2EECall:C,isVideoCall:v,notificationType:N,onAccept:function(){I({trigger:"comet_incoming_dialog_accept_button"})},onDecline:function(){f==null||f.decline("IgnoreCall")},participantIDs:y,threadJid:(c==null?void 0:c.context.type)==="thread"?c.context.thread.id:null,threadType:(c==null?void 0:c.context.type)==="thread"?c.context.thread.type:null},l[13]=I,l[14]=f,l[15]=c,l[16]=b,l[17]=C,l[18]=v,l[19]=y,l[20]=N,l[21]=M):M=l[21];var w=r("useRTWebIncomingCallDialog")(M),A=w[0],F=w[1],O;l[22]!==f||l[23]!==c||l[24]!==b||l[25]!==C||l[26]!==v||l[27]!==y?(O={inviterID:b,isE2EECall:C,isVideoCall:v,onClose:function(){f==null||f.dismiss()},participantIDs:y,threadType:(c==null?void 0:c.context.type)==="thread"?c.context.thread.type:2},l[22]=f,l[23]=c,l[24]=b,l[25]=C,l[26]=v,l[27]=y,l[28]=O):O=l[28];var B=r("useRTWebIncomingUnsupportedBrowserDialog")(O),W=B[0],q=B[1],U;if(l[29]!==f||l[30]!==b||l[31]!==R||l[32]!==((i=S)==null?void 0:i.sender)||l[33]!==L){var V,H,G;U={inviterID:b,linkUrl:R,onAccept:function(){o("StartVideoChatLinkCall").startCall(R,!0,!0)},onDecline:function(){f==null||f.decline("IgnoreCall")},roomName:L,sender:(V=(H=S)==null?void 0:H.sender)!=null?V:""},l[29]=f,l[30]=b,l[31]=R,l[32]=(G=S)==null?void 0:G.sender,l[33]=L,l[34]=U}else U=l[34];var z=r("useRoomIncomingCallDialog")(U),j=z[0],K=z[1],Q=c==null?void 0:c.type,X;if(l[35]!==m||l[36]!==f||l[37]!==c||l[38]!==b||l[39]!==v||l[40]!==y||l[41]!==_||l[42]!==Q){var Y;l[44]===Symbol.for("react.memo_cache_sentinel")?(Y=new Date(o("ServerTime").getMillis()),l[44]=Y):Y=l[44],X={actorID:m,inviterID:b,isVideoCall:v,notificationType:Q,onCallback:function(){if((c==null?void 0:c.context.type)==="thread"){var e,t,n=c==null?void 0:c.context.thread;_({existingCall:null,invitees:[(e=c==null?void 0:c.inviterID)!=null?e:""].concat(y.filter(function(e){return e!==m})),isE2eeMandated:(t=c==null?void 0:c.isE2eeMandated)!=null?t:!1,mediaType:c!=null&&c.requestingVideo?"video":"audio",thread:n,trigger:"comet_missed_call_dialog"})}f==null||f.dismiss()},participantIDs:y,threadJid:(c==null?void 0:c.context.type)==="thread"?c.context.thread.id:null,threadType:(c==null?void 0:c.context.type)==="thread"?c.context.thread.type:null,timeMissed:Y},l[35]=m,l[36]=f,l[37]=c,l[38]=b,l[39]=v,l[40]=y,l[41]=_,l[42]=Q,l[43]=X}else X=l[43];var J=r("useRTWebMissedCallDialog")(X),Z=J[0],ee=J[1],te;l[45]!==f||l[46]!==F||l[47]!==q||l[48]!==c||l[49]!==C||l[50]!==ee||l[51]!==K||l[52]!==P?(te=function(){if(c===null||f==null||o("RTWebDropInUtils").isDropInFromAppMessages(c==null?void 0:c.controllerParams.appMessages))return null;if(C&&!o("RTWebIncomingRingConfiguration").isE2EESupportedClient())return q;if(c.context.type==="room")switch(c.type){case"ringing":return K;case"missed":return P;default:return null}switch(c.type){case"ringing":return F;case"missed":return c.context.type==="thread"?ee:null;case"unsupported_browser":return q;default:return null}},l[45]=f,l[46]=F,l[47]=q,l[48]=c,l[49]=C,l[50]=ee,l[51]=K,l[52]=P,l[53]=te):te=l[53],r("useZenonDialogController")(c,te);var ne;return l[54]!==A||l[55]!==W||l[56]!==Z||l[57]!==j||l[58]!==$?(ne=s.jsxs(s.Fragment,{children:[A,Z,W,$,j]}),l[54]=A,l[55]=W,l[56]=Z,l[57]=j,l[58]=$,l[59]=ne):ne=l[59],ne}l.default=c}),98);
__d("useZenonRingTone",["RTCSounds","Sound","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=[o("RTCSounds").ringtone_mp3_url,o("RTCSounds").ringtone_ogg_url];function c(e){e===void 0&&(e=!1),s(function(){if(e)return o("Sound").play(u,null,!0),function(){o("Sound").stop(u)}},[e])}l.default=c}),98);
__d("ZenonCallInviteRingtone.react",["ZenonProductConnectFunnel","react","react-compiler-runtime","useZenonRingTone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(4),n=e.invite,a;t[0]!==(n==null?void 0:n.type)?(a=function(){(n==null?void 0:n.type)==="ringing"&&r("ZenonProductConnectFunnel").setUIRinging()},t[0]=n==null?void 0:n.type,t[1]=a):a=t[1];var i;return t[2]!==n?(i=[n],t[2]=n,t[3]=i):i=t[3],s(a,i),r("useZenonRingTone")((n==null?void 0:n.type)==="ringing"),null}l.default=u}),98);
__d("useDocumentTitleBlink",["DocumentTitle","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(3),n,a;t[0]!==e?(n=function(){if(e!=null){var t=r("DocumentTitle").blink(e);return(function(){t.stop()})}},a=[e],t[0]=e,t[1]=n,t[2]=a):(n=t[1],a=t[2]),s(n,a)}l.default=u}),98);
__d("ZenonCallInviteTitleBlinking.react",["fbt","ZenonUsersHooks","react","react-compiler-runtime","useDocumentTitleBlink"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.invite,r;return t[0]!==n?(r=n!==null&&n.type==="ringing"&&n.inviterID!=null?u.jsx(d,{inviterID:n.inviterID}):null,t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=e.inviterID,a=o("ZenonUsersHooks").useZenonUser(n),i;return t[0]!==a?(i=a?s._(/*BTDS*/"{name} is calling",[s._param("name",a.shortName)]):null,t[0]=a,t[1]=i):i=t[1],r("useDocumentTitleBlink")(i),null}l.default=c}),226);
__d("useMWPParticipantsHasSpectraUsers",["I64","LSContactTypeExact","LSIntEnum","ReQL","ReQLSuspense","gkx","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(6),a=(u||(u=r("useReStore")))(),l;n[0]!==a.tables.contacts||n[1]!==t?(l=function(){var n=new Set(t);return o("ReQL").fromTableAscending(a.tables.contacts).filter(function(t){return n.has((e||(e=o("I64"))).to_string(t.id))&&(e||(e=o("I64"))).equal(t.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_SPECTRA))})},n[0]=a.tables.contacts,n[1]=t,n[2]=l):l=n[2];var c;n[3]!==a||n[4]!==t?(c=[a,t],n[3]=a,n[4]=t,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(l,c,i.id+":33");return d!=null&&r("gkx")("18988")}l.default=c}),98);
__d("RTWebCometCallInviteController.react",["RTWebCallBlockSettingHooks","RTWebCallInviteDesktopNotification.react","RTWebCometCallInviteDialogs.react","RTWebPreCallHooks","ZenonCallInviteRingtone.react","ZenonCallInviteTitleBlinking.react","react","react-compiler-runtime","requireDeferred","useMWPParticipantsHasSpectraUsers"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("FBRTCCallSummaryUploader").__setRef("RTWebCometCallInviteController.react");u.onReady(function(e){e.init()});function c(){var e=o("react-compiler-runtime").c(9);o("RTWebCallBlockSettingHooks").useCallBlockSetting(),o("RTWebPreCallHooks").useNoAnswerTimeout();var t=o("RTWebPreCallHooks").useCallInvite(),n;if(e[0]!==(t==null?void 0:t.participants)){var a;n=(a=t==null?void 0:t.participants)!=null?a:[],e[0]=t==null?void 0:t.participants,e[1]=n}else n=e[1];var i;e[2]!==t?(i=(t==null?void 0:t.inviterID)!=null?[t.inviterID]:[],e[2]=t,e[3]=i):i=e[3];var l;e[4]!==n||e[5]!==i?(l=[].concat(n,i),e[4]=n,e[5]=i,e[6]=l):l=e[6];var u=l,c=r("useMWPParticipantsHasSpectraUsers")(u);if(c)return null;var d;return e[7]!==t?(d=s.jsxs(s.Fragment,{children:[s.jsx(r("RTWebCometCallInviteDialogs.react"),{invite:t}),s.jsx(r("RTWebCallInviteDesktopNotification.react"),{invite:t}),s.jsx(r("ZenonCallInviteRingtone.react"),{invite:t}),s.jsx(r("ZenonCallInviteTitleBlinking.react"),{invite:t})]}),e[7]=t,e[8]=d):d=e[8],d}l.default=c}),98);
__d("RtcDoorCallingTags",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({OPEN:0,VANISHING:1,SECRET:2,CANVAS:32,LEAD_GEN:128,COPRESENCE:256,CONDUIT:512}),l=e;i.default=l}),66);
__d("SwitchedSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2055"),s=o("FalcoLoggerInternal").create("switched_success",e),u=s;l.default=u}),98);
__d("TokenBucketRateLimit",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=(function(){function t(t,n){this.$1=t*e,this.$2=t*e,this.$3=Date.now(),this.$4=n*e}var n=t.prototype;return n.take=function(n){n===void 0&&(n=1);var t=n*e;return this.$5(),this.$2<t?!1:(this.$2-=t,!0)},n.$5=function(){if(!(this.$2>=this.$1)){var e=Date.now(),t=(e-this.$3)/o("DateConsts").MS_PER_SEC,n=Math.round(t*this.$4);n!==0&&(this.$2=Math.min(this.$1,this.$2+n),this.$3=e)}},t})();l.default=s}),98);
__d("VideoPlayerSkipControl_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:"WNS",kind:"LocalArgument",name:"caller"},{defaultValue:"WNS",kind:"LocalArgument",name:"channelEntryPoint"},{defaultValue:1,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"seedVideoID"}],kind:"Fragment",metadata:null,name:"VideoPlayerSkipControl_video",selections:[e,{alias:null,args:[{kind:"Variable",name:"entry_point",variableName:"channelEntryPoint"}],concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"caller",variableName:"caller"},{kind:"Variable",name:"exclude_video",variableName:"seedVideoID"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"VideoChannelFeedConnection",kind:"LinkedField",name:"video_channel_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoChannelFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[e,{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollUpNextCard_video"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}})();a.exports=e}),null);
__d("VideoPlayerSkipControl.react",["CometRelay","CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerHooks","CometWatchAndScrollSetStoryViewabilityLoggerContext","CometWatchAndScrollUpNextCard.react","CometWatchAndScrollVideoContext","VideoPlayerHooks","VideoPlayerSkipControlBase.react","VideoPlayerSkipControl_video.graphql","react","requireDeferred","useCometTahoeChainingDepth","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useContext,_=d.useState,f=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerSkipControl.react");function g(t){var a,i,l,s=t.subOrigin,d=t.video,g=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerSkipControl_video.graphql"),d),h=o("useCometTahoeChainingDepth").useChainingDepthContext(),y=h.chainingDepthDispatch,C=p(r("CometWatchAndScrollVideoContext")),b=(u||(u=o("VideoPlayerHooks"))).useEnded(),v=p(r("CometWatchAndScrollSetStoryViewabilityLoggerContext")),S=p(r("CometSetWatchAndScrollVideoContext")),R=(a=g.video_channel)==null||(a=a.video_channel_feed)==null||(a=a.edges)==null?void 0:a[0],L=R==null?void 0:R.cursor,E=R==null?void 0:R.node,k=E==null?void 0:E.client_view_config,I=E==null||(i=E.attachments)==null||(i=i[0])==null?void 0:i.media,T=I!=null&&I.__typename==="Video"?I==null?void 0:I.id:null,D=C==null?void 0:C.chainingSeedVideoID,x=r("usePlayerOriginRouteTracePolicy")(),$=_(!1),P=$[0],N=$[1],M=m(function(){N(!0),f.onReady(function(e){e.log({event:"watch_and_scroll_skip_overlay_impression"})})},[]),w=m(function(){N(!1)},[]),A=I==null||(l=I.owner)==null?void 0:l.id,F=u.useIsPremiumMusicVideo(),O=I==null?void 0:I.url,B=r("useMinifiedProductAttribution")(),W=m(function(){var e;f.onReady(function(e){e.log({attribution_id_v2:B,click_point:"control_skip",click_target:"watch_and_scroll",event:"click"})}),S({chainingCursor:L,chainingSeedVideoID:D,routeTracePolicy:(e=C==null?void 0:C.routeTracePolicy)!=null?e:x,sessionStartTime:C==null?void 0:C.sessionStartTime,sessionTrigger:C==null?void 0:C.sessionTrigger,subOrigin:s,videoID:T,videoUrl:O});var t={can_delay_log_impression:k==null?void 0:k.can_delay_log_impression,use_banzai_signal_imp:k==null?void 0:k.use_banzai_signal_imp,use_banzai_vital_imp:k==null?void 0:k.use_banzai_vital_imp};v({clientViewConfig:t,encryptedTracking:E==null?void 0:E.encrypted_tracking,trackingCode:{click_tracking_linkshim_cb:(E==null?void 0:E.click_tracking_linkshim_cb)||"",encrypted_click_tracking:(E==null?void 0:E.encrypted_click_tracking)||"",encrypted_tracking:(E==null?void 0:E.encrypted_tracking)||""},videoID:T,viewabilityConfig:E==null?void 0:E.viewability_config}),y&&y({type:"INCREMENT"})},[T,y,k==null?void 0:k.can_delay_log_impression,k==null?void 0:k.use_banzai_signal_imp,k==null?void 0:k.use_banzai_vital_imp,L,x,v,S,E==null?void 0:E.click_tracking_linkshim_cb,E==null?void 0:E.encrypted_click_tracking,E==null?void 0:E.encrypted_tracking,E==null?void 0:E.viewability_config,s,D,C==null?void 0:C.routeTracePolicy,C==null?void 0:C.sessionStartTime,C==null?void 0:C.sessionTrigger,O]),q=o("CometVideoPictureInPictureManagerHooks").useCometVideoPictureInPictureManager(),U=q.setHasNextChainedVideo,V=q.setSkippedFromPipPlayer,H=q.skippedFromPipPlayer;return I==null||I.__typename!=="Video"?(f.onReady(function(e){e.log({event:"watch_and_scroll_chaining_query_empty"})}),U(!1),c.jsx(r("VideoPlayerSkipControlBase.react"),{disabled:!0})):(U(!F&&!o("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(A)),H&&(W(),V(!1)),c.jsxs(c.Fragment,{children:[c.jsx(r("VideoPlayerSkipControlBase.react"),{onHoverIn:M,onHoverOut:w,onPress:W}),P&&!b&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"x1jx94hy xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x1qqjqyx x1ta3ar0 x1tyeaix x10l6tqk x1rr8tx7 x1se2ifz"}),c.jsx(r("CometWatchAndScrollUpNextCard.react"),{hidden:!1,video:I})]})]}))}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("VideoPlayerWatchAgainEndScreen.react",["fbt","ix","CometTheme.react","VideoPlayerActionButton.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react"));function m(){var e=o("react-compiler-runtime").c(5),t=(c||(c=o("VideoPlayerHooks"))).useController(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n="x1h0vfkc x1ey2m1c x78zum5 xdt5ytf xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy",e[0]=n):n=e[0];var a,i;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=o("fbicon")._(u("534218"),16),i=s._(/*BTDS*/"Watch again"),e[1]=a,e[2]=i):(a=e[1],i=e[2]);var l;return e[3]!==t?(l=d.jsx(r("CometTheme.react"),{theme:"dark",children:d.jsx("div",{className:n,children:d.jsx(r("VideoPlayerActionButton.react"),{icon:a,label:i,onPress:function(){return t.play("user_initiated")},shouldJustifyContentCenter:!0,showSingleButton:!0,useVerticalLayout:!0})})}),e[3]=t,e[4]=l):l=e[4],l}l.default=m}),226);
__d("VideoPlayerWithWatchAndScrollChaining_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithWatchAndScrollChaining_video",selections:[{args:null,kind:"FragmentSpread",name:"CometWatchAndScrollChaining_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerWithWatchAndScrollChaining.react",["CometPlaceholder.react","CometRelay","CometWatchAndScrollChaining.react","CometWatchAndScrollVideoContext","FDSLoadingAnimation.react","VideoPlayerWithWatchAndScrollChaining_video.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(t){var a=o("react-compiler-runtime").c(7),l=t.hidden,s=t.routeTracePolicy,d=t.subOrigin,m=t.video,p=c(r("CometWatchAndScrollVideoContext")),_=p==null?void 0:p.chainingSeedVideoID,f=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerWithWatchAndScrollChaining_video.graphql"),m);if(_==null)return null;var g;a[0]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx("div",{className:"x6s0dn4 xrmyhay x1ey2m1c x9f619 x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy",children:u.jsx("div",{className:"xc9qbxq x1n2onr6 x14qfxbe",children:u.jsx(r("FDSLoadingAnimation.react"),{size:36})})}),a[0]=g):g=a[0];var h;return a[1]!==l||a[2]!==s||a[3]!==_||a[4]!==d||a[5]!==f?(h=u.jsx(r("CometPlaceholder.react"),{fallback:g,name:i.id,children:u.jsx(r("CometWatchAndScrollChaining.react"),{hidden:l,routeTracePolicy:s,seedVideoID:_,subOrigin:d,video:f})}),a[1]=l,a[2]=s,a[3]=_,a[4]=d,a[5]=f,a[6]=h):h=a[6],h}l.default=d}),98);
__d("VideoPlayerWithWatchAndScrollChainingWrapper_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithWatchAndScrollChainingWrapper_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerWithWatchAndScrollChaining_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerWithWatchAndScrollChainingWrapper.react",["CometPrerenderer.react","CometRelay","VideoPlayerHooks","VideoPlayerWithWatchAndScrollChaining.react","VideoPlayerWithWatchAndScrollChainingWrapper_video.graphql","react","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=.8,m=0;function p(e){var t=o("react-compiler-runtime").c(3),n=(u||(u=o("VideoPlayerHooks"))).useIsLive(),a;t[0]!==n?(a=function(t,r){var e,o;if(n)e=!1,o=!1;else{var a=t.getCurrentState().ended,i=t.getPlayheadPosition(),l=t.getCurrentState(),s=l.duration,u=l.loopCount,c=l.loopCurrent,p=Math.min(s*d,s-m);e=c>=u&&a,o=r!=null&&r.shouldPrerender||i>p}return r!=null&&r.isVisible===e&&r.shouldPrerender===o?r:{isVisible:e,shouldPrerender:o}},t[0]=n,t[1]=a):a=t[1];var i=r("useVideoPlayerControllerSubscription")(a);if(!e){var l;return t[2]===Symbol.for("react.memo_cache_sentinel")?(l={isVisible:!1,shouldPrerender:!1},t[2]=l):l=t[2],l}return i}function _(t){var a=o("react-compiler-runtime").c(6),i=t.isVideoHomeEligible,l=t.routeTracePolicy,s=t.subOrigin,u=t.video,d=p(i),m=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerWithWatchAndScrollChainingWrapper_video.graphql"),u),_;return a[0]!==i||a[1]!==d||a[2]!==l||a[3]!==s||a[4]!==m?(_=i?c.jsx(r("CometPrerenderer.react"),{prerenderingProps:d,children:function(t){return c.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x1s85apg"}}[(t.hidden===!0)<<0],{children:c.jsx(r("VideoPlayerWithWatchAndScrollChaining.react"),babelHelpers.extends({routeTracePolicy:l,subOrigin:s},t,{video:m}))}))}}):null,a[0]=i,a[1]=d,a[2]=l,a[3]=s,a[4]=m,a[5]=_):_=a[5],_}l.useWatchAndScrollChainingComponentRenderedStatus=p,l.VideoPlayerWithWatchAndScrollChainingWrapper=_}),98);
__d("VideoPlayerWithWatchAndScrollChainingWrapperNoop.react",["react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(1),n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n={isVisible:!1,shouldPrerender:!1},t[0]=n):n=t[0],n}function s(e){return null}l.useWatchAndScrollChainingComponentRenderedStatus=e,l.VideoPlayerWithWatchAndScrollChainingWrapperNoop=s}),98);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2144"),s=o("FalcoLoggerInternal").create("web_storage_manager_estimates",e),u=s;l.default=u}),98);
__d("ZenonCallInviteModelTypes",[],(function(t,n,r,o,a,i){"use strict";var e={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};i.CallInviteModelType=e}),66);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","ZenonIncomingRingSDKTypes"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$ZenonCallInviteModel$p_2=function(e){if(r("FBLogger")("rtc_www").info("Received cancel for: ",e.ringID),n.__currentRequest&&n.__currentRequest.model&&n.__currentRequest.model.ringID===e.ringID)switch(e.reason){case o("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup:{var t,a=((t=n.__currentRequest)==null||(t=t.model)==null?void 0:t.type)!==o("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;n.__currentRequest.model=babelHelpers.extends({},n.__currentRequest.model,{type:"missed"}),a&&n.emit("callInvite",n.__currentRequest.model);break}case o("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss:n.dismiss();break}},n.$ZenonCallInviteModel$p_1=function(e){var t;r("FBLogger")("rtc_www").info("Receiving ring: ",e.ringID),((t=n.__currentRequest)==null||(t=t.model)==null?void 0:t.type)!=="ringing"&&(n.__currentRequest={model:{actorID:e.actorID,context:e.context,controllerParams:e.controllerParams,inviterID:e.inviterID,isE2eeMandated:e.isE2eeMandated,participants:e.otherParticipants,receiverUserId:e.receiverUserId,requestingVideo:e.requestingVideo,ringID:e.ringID,ringRequest:e.ringRequest,type:e.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:e},n.emit("callInvite",n.__currentRequest.model),e.isClientPermissableRing||e.onDecline("VersionUnsupported"))},n.__eventSource=t,n.__currentRequest=null,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getCurrentInvite=function(){var e,t;return(e=(t=this.__currentRequest)==null?void 0:t.model)!=null?e:null},n.startListening=function(t){var e=t.callsBlocked;this.__currentRequest&&this.dismiss(),this.stopListening(),e||(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel$p_1),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel$p_2))},n.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null},n.dismiss=function(){var e;r("FBLogger")("rtc_www").info("Dismissing ring: ",(e=this.__currentRequest)==null||(e=e.model)==null?void 0:e.ringID),this.__currentRequest=null,this.emit("callInvite",null)},n.accept=function(t,n){var e=this.__currentRequest;if(e){var o,a;r("FBLogger")("rtc_www").info("Accepting ring: ",(o=e.model)==null?void 0:o.ringID),((a=e.model)==null?void 0:a.type)==="ringing"&&e.ringPayload.onAccept(t,n),this.dismiss()}},n.decline=function(t,n){t===void 0&&(t="IgnoreCall");var e=this.__currentRequest;if(e){var o;r("FBLogger")("rtc_www").info("Declining ring: ",(o=e.model)==null?void 0:o.ringID),e.ringPayload.onDecline(t,n),this.dismiss();return}},t})(r("BaseEventEmitter"));l.default=e}),98);
__d("ZenonLogPromiseRejection",["FBLogger","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return t===void 0&&(t=!1),e.catch(function(e){if(r("FBLogger")("rtc_www").catching(e).debug(e.message),t&&r("gkx")("1083"))throw e})}l.default=e}),98);
__d("ZenonCallLogger",["Promise","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLogPromiseRejection","isEmployeeTestUserZenonLogging","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set(["mwMessageSent","mwThriftMessageSent","mwMessageRecv","mwThriftMessageRecv","setMediaStats","updateE2EEStats","updateIceInfo","setRemoteSdpOffer"]),u=new Set(["atLeastOneParticipantAlerted","atLeastOneParticipantAnswered"]),c=(function(){function t(e){var t=this,n=e.config,r=e.initLoggerInfo,o=e.isE2eeMandated,a=e.processorConfigs,i=e.startFromNavigation;this.$4=!0,this.$6=[],this.$7=new Set,this.$1=r,this.$2=n,this.$4=i,this.$3=o,this.$5={clientSessionID:r.signalingID,localCallID:r.localCallID,peerID:r.peerID,sharedCallID:r.serverInfoData},a.forEach(function(e){t.addLogProcessor(e)})}var o=t.prototype;return o.addLogProcessor=function(t){var e=this;this.$6.push(new t.LogProcessor({config:this.$2,data:this.$1,isE2eeMandated:this.$3,startFromNavigation:this.$4,updateLogIdentifiers:function(n){return e.updateLogIdentifiers(n)}}))},o.updateLogIdentifiers=function(t){Object.assign(this.$5,t),this.log({logIdentifiers:t,name:"updateLogIdentifiers"})},o.log=function(t){u.has(t.name)&&this.$7.has(t.name)||(this.$7.add(t.name),this.$8(t),r("promiseDone")(this.logToProcessors(t)))},o.logToProcessors=function(o){return r("ZenonLogPromiseRejection")((e||(e=n("Promise"))).all(this.$6.map(function(e){return e.processEvent(o)})).then(function(){}))},o.$8=function(t){r("isEmployeeTestUserZenonLogging")()&&(s.has(t.name)||r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] ZenonCallLogger event: "+t.name}))},o.getLogIdentifiers=function(){return this.$5},t})();l.default=c}),98);
__d("ZenonCallWindowController",["FBLogger","Promise","ZenonCallWindowErrors","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){var n=t.callWindowInitializerResource,r=t.callWindowOpener,o=t.uriBuilderResource;this.$2=null,this.$3=!1,this.$5=null,this.$1=e,this.$7=o,this.$4=n,this.$6=r}var a=t.prototype;return a.initCall=function(a){var t=this;if(this.$3)throw new(o("ZenonCallWindowErrors")).OpeningAnotherCallError;try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"){var i=a.joinContext.thread,l=i.type===15?i.secureOneToOneThreadPeerId:i.type===16?i.e2eeThreadID:i.id;if(this.$2.inCallWith===l)return this.$2.focus(),[this.$2,(e||(e=n("Promise"))).resolve({alohaEscalatedMW:!1})]}}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to access inCallWith on call window")}var s=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to access close on call window")}return this.$2=s,this.$3=!0,[s,(e||(e=n("Promise"))).all([this.$7.load(),this.$4.load()]).then(function(e){var n=e[0],r=e[1];return t.$5===null&&(t.$5=new r(t.$1,new n(t.$1))),t.$5.initCall(t.$2,a)}).finally(function(){t.$3=!1})]},t})();l.default=s}),98);
__d("ZenonClientPerfQPLConstants",[],(function(t,n,r,o,a,i){"use strict";var e="zenon_popup_opened",l="zenon_call_join_request",s="zenon_sfu_e2ee_negotiation_complete",u="csm_outgoing_start",c="csm_incoming_connection_started",d="csm_invite_sent",m="csm_invite_ack_recv",p="csm_answer_recv",_="csm_answer_sdp_recv",f="csm_pranswer_sdp_recv",g="csm_offer_sdp_recv",h="csm_answer_sent",y="csm_negotiation_complete",C="csm_network_ready",b="csm_connection_ready",v="csm_dismiss_sent",S="csm_dismiss_recv",R="media_first_audio_packet",L="media_first_audio_packet_sent",E="media_first_video_packet",k="media_first_video_packet_sent",I="media_peer_connection_factory_created",T="signaling_mw_join_req_sent",D="signaling_mw_join_response_recv";i.POINT_ZENON_POPUP_OPENED=e,i.POINT_ZENON_CALL_JOIN_REQUEST=l,i.POINT_ZENON_SFU_E2EE_NEGOTIATION_COMPLETE=s,i.POINT_CONNECTION_OUTGOING_START=u,i.POINT_CONNECTION_INCOMING_CONNECTION_STARTED=c,i.POINT_CONNECTION_INVITE_SENT=d,i.POINT_CONNECTION_INVITE_ACK_RECV=m,i.POINT_CONNECTION_ANSWER_RECV=p,i.POINT_CONNECTION_ANSWER_SDP_RECV=_,i.POINT_CONNECTION_PRANSWER_SDP_RECV=f,i.POINT_CONNECTION_OFFER_SDP_RECV=g,i.POINT_CONNECTION_ANSWER_SENT=h,i.POINT_CONNECTION_NEGOTIATION_COMPLETE=y,i.POINT_CONNECTION_NETWORK_READY=C,i.POINT_CONNECTION_READY=b,i.POINT_CONNECTION_DISMISS_SENT=v,i.POINT_CONNECTION_DISMISS_RECV=S,i.POINT_MEDIA_FIRST_AUDIO_PACKET=R,i.POINT_MEDIA_FIRST_AUDIO_PACKET_SENT=L,i.POINT_MEDIA_FIRST_VIDEO_PACKET=E,i.POINT_MEDIA_FIRST_VIDEO_PACKET_SENT=k,i.POINT_MEDIA_PEER_CONNECTION_FACTORY_CREATED=I,i.POINT_SIGNALING_MW_JOIN_REQ_SENT=T,i.POINT_SIGNALING_MW_JOIN_RESPONSE_RECV=D}),66);
__d("ZenonCollisionContext",["RtcDoorCallingTags"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=null;return e.groupThreadID!=null?n={e2eeThreadID:e.groupThreadID,id:e.groupThreadID,type:t?16:2}:e.peerID!=null&&(n={id:e.peerID,secureOneToOneThreadPeerId:t?e.peerID:void 0,type:t?15:1}),n}function s(e){var t=e.call_trigger,n=e.callable_post_id,o=e.calling_tags,a=e.conference_name,i=e.group_thread_id,l=e.ig_thread_id,s=e.immersive_mode_door_id,u=e.is_meta_ai_call,c=e.link_url,d=e.live_broadcast_id,m=e.meeting_id,p=e.peer_id,_=e.rtc_door_id,f=e.server_info_data;return{callablePostID:n,callingTags:r("RtcDoorCallingTags").cast(o),callTrigger:t,conferenceName:a,groupThreadID:i,igThreadID:l,immersiveModeDoorID:s,isMetaAiCall:u,linkUrl:c,liveBroadcastID:d,meetingID:m,peerID:p,rtcDoorID:_,serverInfoData:f}}function u(e){return e===void 0&&(e={}),!Object.values(e).some(function(e){return e!=null})}l.getThreadIDAndTypeFromCollisionContext=e,l.fromRTCJoiningContext=s,l.isCollisionContextEmpty=u}),98);
__d("ZenonSharedWorkerPortManager",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=null,s=null;function u(t){s!=null&&s(t),l=(e||(e=n("Promise"))).resolve(t)}function c(){return l==null&&(l=new(e||(e=n("Promise")))(function(e){s=e})),l}i.setSharedWorkerPort=u,i.getSharedWorkerPort=c}),66);
__d("ZenonSignalingSharedWorkerBundle",["ZenonSignalingSharedWorkerV2Resource"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("ZenonSignalingSharedWorkerV2Resource")}),98);
__d("promiseWithTimeout",["clearTimeout","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){var n=this;this.$2=new Promise(function(o,a){var i=!1;n.$1=r("setTimeout")(function(){i||(i=!0,(t.rejectOnTimeout?a:o)())},t.timeout),n.$3(e).then(function(e){i||(i=!0,o(e))}).catch(function(e){i||(i=!0,a(e))})})}var t=e.prototype;return t.$3=async function(t){var e=await t;return this.$1&&(r("clearTimeout")(this.$1),this.$1=null),e},t.getPromise=function(){return this.$2},e})();function s(t,n){return new e(t,n).getPromise()}l.default=s}),98);
__d("ZenonSignalingSharedWorkerPortSingleton",["Deferred","JSResourceForInteraction","WAResolvable","ZenonSignalingSharedWorkerBundle","err","promiseDone","promiseWithTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("SharedWorkerBundleResource").__setRef("ZenonSignalingSharedWorkerPortSingleton"),s=p,u=new(o("WAResolvable")).Resolvable,c=null;function d(e,t){return c===null&&(c=m(e,t)),c}function m(t,n){var o=function(t,n,o){r("promiseDone")(r("promiseWithTimeout")(u.promise,{rejectOnTimeout:!1,timeout:5e3}).then(function(){return s(t,n,o)}))},a=new(r("Deferred")),i=e.load().then(function(e){return e.createPushSafeSharedWebWorkerV2Async(r("ZenonSignalingSharedWorkerBundle"),o,{reason:"zenon_signaling_"+t+"_"+n})});return i.then(function(e){var n=window.setTimeout(function(){a.reject(r("err")("Worker connection ack timeout"))},1e4),o=function(t){var e,r,o;if(typeof t.data=="object"&&((e=t.data)==null?void 0:e.type)==="connection-ack"&&typeof((r=t.data)==null?void 0:r.response)=="object"&&typeof((o=t.data)==null||(o=o.response)==null?void 0:o.from)=="string"){var i,l,s=typeof((i=t.data)==null||(i=i.response)==null?void 0:i.workerID)=="string"?(l=t.data)==null||(l=l.response)==null?void 0:l.workerID:void 0;s!=null&&(n!=null&&window.clearTimeout(n),a.resolve(s))}};return e.port.addEventListener("message",o),e.port.postMessage({type:"register",windowType:t}),a.getPromise().then(function(t){return{port:e.port,workerID:t}})})}function p(){c=null}function _(e){s=e,u.resolve()}l.createOrGetSharedWorkerPort=d,l.resetSharedWorkerPortSingleton=p,l.setOnCloseForWorkerInstance=_}),98);
__d("ZenonDGWSharedWorkerUtils",["CurrentUser","DGWEnvUtil","DGWWebConfig","FBLogger","JSResourceForInteraction","ZenonDeviceId","ZenonSharedWorkerPortManager","ZenonSignalingSharedWorkerPortSingleton","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("ZenonSharedWorkerProxyMessageSender").__setRef("ZenonDGWSharedWorkerUtils");function s(t,a,i){r("promiseDone")(o("ZenonSignalingSharedWorkerPortSingleton").createOrGetSharedWorkerPort(t,"signaling").then(function(t){var o=t.port,l=n("ZenonSharedWorkerPortManager"),s=l.setSharedWorkerPort;s(o),u(o),r("promiseDone")(e.load(),function(e){return a.addMessageSender(new e(o))}),i==null||i(o)}))}function u(e){try{var t=n("DGWWebConfig"),a=n("DGWEnvUtil"),i=n("CurrentUser"),l={appId:t.appId,appVersion:t.appVersion,authToken:a.getDGWAuthToken(),authType:a.getDGWAuthType(),deviceId:o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback(),dgwVersion:a.getDGWVersion(),endpoint:a.getDGWEndpoint(),fbId:i.getID(),isUserLoggedIn:i.isLoggedInNow()};e.postMessage({config:l,type:"INIT_DGW_CONFIG"})}catch(e){r("FBLogger")("rpweb").catching(r("getErrorSafe")(e)).mustfix("Error processing sending DGWClientConfig to Shared Worker")}}l.setupDGWSharedWorker=s,l.sendDGWConfigToSharedWorker=u}),98);
__d("ZenonE2eeMandatedStateManager",["$InternalEnum","E2eeStateTypes","MultiwaySharedTypes","ZenonActorHooks","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["NONE","ONLY_INFRA_MANDATED_EXP_CONTROL","ONLY_INFRA_MANDATED_EXP_TEST","INFRA_AND_PRODUCT_MANDATED"]),s=null,u=(function(){function t(){this.$1=e.NONE}var n=t.prototype;return n.processE2eeMandatedStateFromProductAndRing=function(t,n){this.$1=this.$2(t,n)},n.areBothInfraAndProductE2eeMandated=function(){return this.$1===e.INFRA_AND_PRODUCT_MANDATED},n.isInfraE2eeMandated=function(){return this.areBothInfraAndProductE2eeMandated()||this.$3()},n.$3=function(){return this.$1===e.ONLY_INFRA_MANDATED_EXP_TEST},n.processE2eeMandatedStateFromE2eeServerUpdate=function(n){this.areBothInfraAndProductE2eeMandated()||n===o("E2eeStateTypes").InfraMandatedExpStatus.TEST&&this.$1===e.ONLY_INFRA_MANDATED_EXP_TEST||n===o("E2eeStateTypes").InfraMandatedExpStatus.CONTROL&&this.$1===e.ONLY_INFRA_MANDATED_EXP_CONTROL||(this.$1=e.NONE)},n.isEligibleForE2eeInfraMandatedExperiment=function(){var e,t;return(e=(t=r("qex")._("138"))!=null?t:r("qex")._("192"))!=null?e:!1},n.isP2pMediaPathPreferredForInfraMandatedExperiment=function(){var e,t;return this.$3()&&((e=(t=r("qex")._("531"))!=null?t:r("qex")._("532"))!=null?e:!1)},n.getE2eeInfraMandatedExpStatus=function(){switch(this.$1){case e.INFRA_AND_PRODUCT_MANDATED:case e.NONE:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET;case e.ONLY_INFRA_MANDATED_EXP_CONTROL:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL;case e.ONLY_INFRA_MANDATED_EXP_TEST:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST}},n.$2=function(n,r){if(n)return e.INFRA_AND_PRODUCT_MANDATED;if(o("ZenonActorHooks").ZenonActor.getAppID()===436761779744620 .toString()||!this.isEligibleForE2eeInfraMandatedExperiment())return e.NONE;var t=this.$4();if(r==null)return t;var a=this.$5(r);return a===e.NONE?e.NONE:a===e.ONLY_INFRA_MANDATED_EXP_CONTROL?t===e.ONLY_INFRA_MANDATED_EXP_TEST?e.NONE:e.ONLY_INFRA_MANDATED_EXP_CONTROL:t===e.ONLY_INFRA_MANDATED_EXP_CONTROL?e.NONE:e.ONLY_INFRA_MANDATED_EXP_TEST},n.$4=function(){var t=this.$6();return t===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST?e.ONLY_INFRA_MANDATED_EXP_TEST:t===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?e.ONLY_INFRA_MANDATED_EXP_CONTROL:e.NONE},n.$6=function(){var e;return(e=r("qex")._("196"))!=null?e:r("qex")._("227")},n.$5=function(n){return n===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST?e.ONLY_INFRA_MANDATED_EXP_TEST:n===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?e.ONLY_INFRA_MANDATED_EXP_CONTROL:e.NONE},t})();function c(){return s==null&&(s=new u),s}var d=c();l.default=d}),98);
__d("ZenonLSStarRatingsManager",["LsRtcEndCallSurveyFalcoEvent","LsRtcStarRatingFalcoEvent","ZenonCallInfoManager","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.setRating=function(t,n){var e=this.getCallInfo(),a=e.deviceID,i=e.localCallID,l=e.peerID,s=e.serverInfoData,u={local_call_id:i,peer_id:o("ZenonPeerID").convertPeerIDForLogging(l),shared_call_id:s,web_device_id:a};r("LsRtcStarRatingFalcoEvent").logImmediately(function(){return babelHelpers.extends({rating_style:n?"1":null,star_rating:t.toString()},u)})},a.setSurvey=function(t,n,a){var e,i;n===void 0&&(n=null),a===void 0&&(a=null);var l=this.getCallInfo(),s=l.deviceID,u=l.localCallID,c=l.peerID,d=l.serverInfoData,m={local_call_id:u,peer_id:o("ZenonPeerID").convertPeerIDForLogging(c),shared_call_id:d,web_device_id:s},p=Array.isArray(n)?n:n!=null?[n]:[],_=babelHelpers.extends({rtc_end_call_survey_issue:(e=(i=a)==null?void 0:i.toLocaleLowerCase())!=null?e:"",rtc_end_call_survey_selected_options:p},m,t==null?{}:{rtc_end_call_survey_freeform:t});r("LsRtcEndCallSurveyFalcoEvent").log(function(){return _})},a.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeStarRatings(n,r,this)},a.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},a.toJsonString=function(){var e={callInfo:this.getCallInfo()};return JSON.stringify(e)},n.fromJsonString=function(r){var t;try{t=JSON.parse(r)}catch(e){return null}var o=t.callInfo,a=o.deviceID,i=babelHelpers.objectWithoutPropertiesLoose(o,e);return new n(i)},n})(r("ZenonCallInfoManager"));l.default=s}),98);
__d("ZenonLSStarRatingsStore",["ZenonGenericLocalStorageStore","ZenonLSStarRatingsManager"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_STAR_RATINGS_",u="ls_star_ratings",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveStarRatings=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSStarRatingsManager").fromJsonString(o.__d):null},o.storeStarRatings=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSStarRatingsStoreInstance=m}),98);
__d("promiseAny",["invariant","AggregateError","Promise"],(function(t,n,r,o,a,i,l,s){var e;function u(t){return new(e||(e=n("Promise")))(function(r,o){return(e||(e=n("Promise"))).resolve(t).then(o,r)})}function c(t){return t.length!==0||s(0,14837),(e||(e=n("Promise"))).all(t.map(u)).then(function(e){throw new(r("AggregateError"))(e)},function(e){return e})}l.default=c}),98);
__d("ZenonMessageSenderChain",["promiseAny"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.addMessageSender=function(t){this.$1.push(t)},t.sendMessage=function(t){var e=this.$1.map(function(e){return e.sendMessage(t)});return r("promiseAny")(e)},t.setMessageReceiver=function(t){this.$1.forEach(function(e){return e.setMessageReceiver(t)})},t.setLoggingEventHandler=function(t){this.$1.forEach(function(e){return e.setLoggingEventHandler(t)})},e})();l.default=e}),98);
__d("ZenonSignalingConstants",[],(function(t,n,r,o,a,i){"use strict";var e="/t_rtc_multi",l="config_engine",s="D3F4U1T_F8_TR4CK";i.T_RTC_MULTI_MQTT_TOPIC=e,i.CONFIG_ENGINE_STATE_SYNC_TOPIC=l,i.DEFAULT_TRACK=s}),66);
__d("waitForZenonMqttConnected",["Promise","ZenonUserActionLogger","err","getZenonMqttChannel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=15e3;function u(){return new(e||(e=n("Promise")))(function(e,t){var n=r("getZenonMqttChannel")();if(n.getConnectionState()==="Connected")e();else{r("ZenonUserActionLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring sending MWS message"}),r("ZenonUserActionLogger").startTimer("MQTT not connected");var o={onMQTTStateChanged:function(i){i==="Connected"&&(r("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT connected after deferring sending MWS message",timerName:"MQTT not connected"}),n.unsubscribeChannelEvents(o),window.clearTimeout(a),e())}},a=window.setTimeout(function(){n.unsubscribeChannelEvents(o),r("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT never connected. Current status: "+n.getConnectionState(),timerName:"MQTT not connected"}),t(r("err")("timeout"))},s);n.subscribeChannelEvents(o)}})}l.default=u}),98);
__d("ZenonMqttMWThriftMessageSender",["RpZenonBinaryThriftSignalingSitevarConfig","ZenonActorHooks","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageLogger","ZenonMWThriftMessageMap","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","ZenonSignalingConstants","ZenonUserActionLogger","ZenonValidateMWThriftMessage","err","filterNulls","getErrorSafe","getZenonMqttChannel","waitForZenonMqttConnected"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){var e=r("RpZenonBinaryThriftSignalingSitevarConfig").supported_message_types_mqtt.map(function(e){return o("ZenonMWThriftMessageMap").messageTypeFromString(e)});this.$3=new Set(r("filterNulls")(e))}var t=e.prototype;return t.$4=async function(t){var e=this,n=!0;if(await r("waitForZenonMqttConnected")().catch(function(e){r("ZenonUserActionLogger").logCheckpoint({checkpoint:"Not sending MWS Thrift message through MQTT because MQTT could not connect. Error: "+e}),n=!1}),!!n){o("ZenonMWThriftMessageReliabilityLogger").logSendingMessage(t),r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("SENDING","MQTT Thrift",t),this.$2&&o("ZenonMWThriftMessageLogger").logSentMessage(t,this.$2);var a=r("getZenonMqttChannel")();try{await a.publishBinary(o("ZenonSignalingConstants").T_RTC_MULTI_MQTT_TOPIC,o("ZenonMWThriftMessageSerializer").serializeMWThriftMessage(t)).then(function(){o("ZenonMWThriftMessageReliabilityLogger").logSentMessage(t),e.$2&&e.$2({mwThriftMessage:t,name:"mwThriftMessageSent"})},function(n){e.$5(t,n.toString())})}catch(e){this.$5(t,r("getErrorSafe")(e).toString())}}},t.$5=function(t,n){var e=n!=null?n:"MQTT Thrift Message Send Error";o("ZenonMWThriftMessageReliabilityLogger").logSendMessageFailed(t,"[MQTT Thrift] "+e),r("ZenonMWThriftMessageDebugLogger").logSendMultiwayThriftMessageFailure(e,o("ZenonMWThriftMessageMap").messageTypeToString(t.messageHeader.type))},t.sendMessage=function(t){var e=o("ZenonMWThriftMessageTranslator").toMWThriftMessage(t);return!e||!r("ZenonValidateMWThriftMessage")(e)?Promise.reject(r("err")("Invalid MW Thrift message")):e.messageHeader.type!=null&&!this.$3.has(e.messageHeader.type)?Promise.resolve():t.getHeader().userInfo.userID!==o("ZenonActorHooks").ZenonActor.getAccountID()&&!o("ZenonActorHooks").ZenonActor.isInstagramUser()&&!o("ZenonActorHooks").ZenonActor.isOculusUser()&&!o("ZenonActorHooks").ZenonActor.isKadabraUser()&&!o("ZenonActorHooks").ZenonActor.isLiveChatOnlyPerson()?Promise.reject(r("err")("MQTT doesn't work with Page users yet")):this.$4(e)},t.setMessageReceiver=function(t){this.$1=t},t.setLoggingEventHandler=function(t){this.$2=t},e})();l.default=e}),98);
__d("ZenonParentClientPerfQPLLogProcessor",["Promise","QuickPerformanceLogger","ZenonClientPerfQPLConstants","ZenonDismissReason","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e){var t=e.data,n=e.isE2eeMandated;this.$1=t.localCallID,this.$2=t.serverInfoData,this.$3=t.signalingID,this.$4=n}var a=t.prototype;return a.processEvent=function(a){var t=r("qpl")._(41156610,"2039");switch(a.name){case"inviteReceived":this.$2=a.serverInfoData,(s||(s=r("QuickPerformanceLogger"))).markerStartFromNavStart(t,+this.$3),(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(t,{bool:{isE2eeMandated:this.$4},string:{local_call_id:this.$1,server_info_data:this.$2}},{instanceKey:+this.$3});break;case"callEnded":(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(t,{string:{endCallReason:o("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},{instanceKey:+this.$3}),(s||(s=r("QuickPerformanceLogger"))).markerEnd(t,4,+this.$3);break;case"popupOpened":(s||(s=r("QuickPerformanceLogger"))).markerPoint(t,o("ZenonClientPerfQPLConstants").POINT_ZENON_POPUP_OPENED,{instanceKey:+this.$3});break}return(e||(e=n("Promise"))).resolve()},t})(),c={LogProcessor:u};l.ZenonParentClientPerfQPLLogProcessor=u,l.ZenonParentClientPerfQPLLogProcessorConfig=c}),98);
__d("ZenonParentLSCallSummaryLogProcessor",["ODS","ZenonDismissReason","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","ZenonLSStarRatingsManager","ZenonLSStarRatingsStore","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.data;t.peerID=o("ZenonPeerID").ZenonMWPeerID,this.$6=t.protocol,this.$1=new(r("ZenonLSCallSummary"))(t),this.$2=new(r("ZenonLSPeerConnectionSummary"))(t),this.$3=new(r("ZenonLSCallStartEventManager"))(t),this.$4=new(r("ZenonLSE2EEStatsManager"))(t),this.$5=new(r("ZenonLSStarRatingsManager"))(t),r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"NSL - created call summaries in parent window"})}var n=t.prototype;return n.processEvent=async function(t){switch(t.name){case"callAccepted":this.$1.onCallAccepted(t.trigger),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break;case"callEnded":await this.$7(t);break;case"inviteReceived":this.$8(t);break;case"popupOpened":await this.$9(t),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break}},n.$8=function(t){var e=t.serverInfoData;e!=null&&(this.$1.setSharedCallId(e),this.$2.setSharedCallId(e),this.$3.setSharedCallId(e),this.$4.setSharedCallId(e))},n.$9=async function(t){await this.$1.onCallEnded(o("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,t.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance)},n.$7=async function(n){if(!n.isRemoteEnded){var t=n.endCallReason,r=n.endCallSubreason,a=n.isRemoteEnded;t===o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a||(t===o("ZenonDismissReason").ZenonDismissReason.ClientError&&(e||(e=o("ODS"))).bumpEntityKey(4083,"zenon_client_crashes","zenon_client_error_end_call_reason"),await this.$1.onCallEnded(t,a,!1,r),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance))}},t})(),u={LogProcessor:s};l.ZenonParentLSCallSummaryLogProcessor=s,l.ZenonParentLSCallSummaryLogProcessorConfig=u}),98);
__d("ZenonParentQPLLogProcessor",["Promise","QPLUserFlow","ZenonDismissReason","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.data,n=e.isE2eeMandated;this.$1=t.localCallID,this.$2=t.serverInfoData,this.$3=t.signalingID,this.$4=n}var a=t.prototype;return a.processEvent=function(a){switch(a.name){case"inviteReceived":r("QPLUserFlow").start(r("qpl")._(64225282,"3408"),{annotations:{bool:{isE2eeMandated:this.$4}},instanceKey:+this.$3}),r("QPLUserFlow").start(r("qpl")._(398997251,"1544"),{annotations:{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"invite_received",{instanceKey:+this.$3});break;case"callEnded":if(r("QPLUserFlow").endCancel(r("qpl")._(398997251,"1544"),{annotations:{string:{endCallReason:o("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},instanceKey:+this.$3}),a.isRemoteEnded)return(e||(e=n("Promise"))).resolve();r("QPLUserFlow").endCancel(r("qpl")._(64225282,"3408"),{instanceKey:+this.$3});break;case"callAccepted":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"call_accepted",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"call_accepted",{instanceKey:+this.$3});break;case"dismissRecv":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"dismiss_recv",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"dismiss_recv",{instanceKey:+this.$3});break;case"inviteResponded":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"invite_responded",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"invite_responded",{instanceKey:+this.$3});break;case"popupOpened":r("QPLUserFlow").endSuccess(r("qpl")._(64225282,"3408"),{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"popup_opened",{instanceKey:+this.$3});break}return(e||(e=n("Promise"))).resolve()},t})(),u={LogProcessor:s};l.ZenonParentQPLLogProcessor=s,l.ZenonParentQPLLogProcessorConfig=u}),98);
__d("ZenonParentSignalingClient",["FBLogger","Promise","ZenonDebugLogger","ZenonSignalingTypes","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,o){var a=this;this.remoteSignalingID=null,this.$4="init",this.$6=null,this.$7=null,this.$8=function(){},this.$9=function(e,t,n){switch(r("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",a.$4,"received "+e.eventName,a.$1.getSignalingID()),e.eventName){case"inviteRequest":a.$11(e,t,n);break;case"remoteSdpRequest":a.$12(e,t);break;case"terminateRequest":a.$13(e,t,n);break}},this.$1=e,this.$3=n,this.$5=o,this.$2=t,t.setReceiver(this.$9),r("ZenonDebugLogger").getInstance().startQPL(r("qpl")._(64234815,"1094"),+e.getSignalingID())}var a=t.prototype;return a.setSignalingEventHandlers=function(t){if(this.$6!=null){r("FBLogger")("rtc_www").mustfix("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.");return}this.$6=t},a.setLoggingEventHandler=function(t){this.$8=t},a.setSecureDataMessageManager=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("setSecureDataMessageManager called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.getSignalingModel=function(){return this.$1},a.processReceiveEvent=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("processReceiveEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendDismiss=function(t){this.$4="terminated";var e={eventName:"terminateRequest",fromJoinResponse:!1,reason:t,shouldInformPeer:!0};return this.$10(e)},a.receiveMessage=function(t){this.$2.receiveMessage(t)},a.isTerminated=function(){return this.$4==="terminated"},a.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var e={eventName:"answerIntentRequest"};return this.$10(e)}else throw r("FBLogger")("rtc_www").mustfixThrow("sendAnswerIntent called in unexpected state %s",this.$4)},a.respondToInvite=function(t){if(this.$4==="inviteReceived"){if(this.$7==null)throw r("FBLogger")("rtc_www").mustfixThrow("respondToInvite called without inviteMessageId being populated first");this.$4="inviteAcknowledged";var e={ackMessageId:this.$7,eventName:"inviteResponse",status:t};return this.$10(e)}else throw r("FBLogger")("rtc_www").mustfixThrow("respondToInvite called in unexpected state %s",this.$4)},a.initiateClientRenegotiation=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("initiateClientRenegotiation called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendClientEvent=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendClientEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendInvite=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendSdp=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendIceCandidate=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendMediaUpdate=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendAddParticipantsMessage=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendRemoveParticipantsRequest=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendUsersApprovalRequest=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendStateSyncUnsubscribe=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendStateSyncUpdate=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendSubscriptionRequest=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendClientInfo=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendGenericDataMessage=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.silentlyTerminate=function(){throw r("FBLogger")("rtc_www").mustfixThrow("terminate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.$10=function(o){var t=this;return r("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+o.eventName,this.$1.getSignalingID()),new(e||(e=n("Promise")))(function(e,n){return t.$3.sendEvent(o,e,n)})},a.$11=function(t,n,r){this.$4==="init"&&(this.$4="inviteReceived",this.$7=n,this.$5(t,r,this))},a.$13=function(t,n,o){if(this.$4!=="terminated"){this.$4="terminated";var e={ackMessageId:n,eventName:"dismissResponse"};if(this.$3.sendEvent(e),this.$6&&this.$6.onDismissReceived){var a;r("promiseDone")(this.$6.onDismissReceived(this.$1.getSignalingID(),t.reason,(a=t.subreason)!=null?a:null,t.detailedReasonFromMW))}}},a.$12=function(t,n){var e={ackMessageId:n,acknowledgedVersion:t.sdp.version,eventName:"remoteSdpResponse",negotiateType:t.negotiateType,statusCode:o("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:t.sdp.type};this.$3.sendEvent(e)},t})();l.default=s}),98);
__d("ZenonSDKRateLimiter",["TokenBucketRateLimit","ZenonPlatformRateLimitSitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.take=function(t,n){n===void 0&&(n=1);var e=this.$2(t);return e.take(n)},t.$2=function(t){var e,n=this.$1.get(t);if(n)return n;var o=(e=r("ZenonPlatformRateLimitSitevarConfig").buckets.get(t))!=null?e:r("ZenonPlatformRateLimitSitevarConfig").default;return n=new(r("TokenBucketRateLimit"))(o.bucket_size,o.refill_rate),this.$1.set(t,n),n},e})();l.default=e}),98);
__d("ZenonSignalingTransportTypes",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",PARENT_INITIATED_CALL:"rtc_child_window_start_call",PARENT_LOG_IDENTIFIERS:"rtc_parent_log_identifiers",PARENT_PCF_TIMINGS:"rtc_parent_pcf_timings",PARENT_QPL_MARKER:"rtc_parent_qpl_marker",PARENT_TO_CHILD_MESSAGE:"rtc_child_window_message"});i.ChildTransportMessageType=e}),66);
__d("isFacebookishURI",["isFacebookURI","isMessengerDotComURI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("isFacebookURI")(e)||r("isMessengerDotComURI")(e)}l.default=e}),98);
__d("ZenonSignalingParentTransport",["FBLogger","MultiwaySharedTypes","QuickPerformanceLogger","RTWebIncomingRingConfiguration","Random","URI","ZenonBrowsers","ZenonE2eeMandatedStateManager","ZenonIGMediaUtil","ZenonProductConnectFunnel","ZenonSignalingTransportTypes","isFacebookishURI","performanceNow","shouldUseSFUMediaPath"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=45e3,d=(function(){function t(e){var t=this;this.verificationNonce=null,this.portToChild=null,this.$1=null,this.$2=null,this.localCallID=null,this.$3=new Map,this.$4=new Map,this.$5=window,e!=null&&(this.$5=e),o("RTWebIncomingRingConfiguration").isSupportedClient()&&this.$5.addEventListener&&this.$5.addEventListener("message",function(e){t.handleWindowMessageFromChild(e)},!1)}var n=t.prototype;return n.handleWindowMessageFromChild=function(t){var e=this;if(this.windowMessageValid(t)&&t.data.type===o("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY&&this.hasPort(t)){var n,r=(n=t.data.roomID)!=null?n:null,a=t.data.serverInfoData;this.portToChild=t.ports[0];var i=t.data.childNonce;this.$2=i,this.$5.clearTimeout(this.$1),this.$1=this.$5.setTimeout(function(){e.portToChild=null},c),this.verificationNonce=this.generateNonce(),this.startCallInChildWindow(r,a),this.sendQPLToChildWindow(),this.sendPCFToChildWindow(),this.sendLogIdentifiersToChildWindow(this.localCallID)}},n.generateNonce=function(){return String(o("Random").random())},n.hasPort=function(t){return!!(t.ports!=null&&Array.isArray(t.ports)&&t.ports[0]!=null)},n.getRingRequestBySID=function(t){var e,n=m((e=this.$4.get(t))!=null?e:null);return{mwThriftRingRequest:n}},n.startCallInChildWindow=function(t,n){var e=null;if(n!==void 0){if(n!=null){var r=this.getRingRequestBySID(n);e=r.mwThriftRingRequest}}else if(t!=null){var a;e=m((a=this.$3.get(t))!=null?a:null)}var i={mwThriftRingRequest:e,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL};this.sendMessageToChild(i)},n.sendQPLToChildWindow=function(){var t=new Map;if((e||(e=r("QuickPerformanceLogger"))).activeMarkers.forEach(function(e,n){(n===398997251||n===41156610)&&t.set(n,e)}),t.size>0){var n={markers:t,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER,version:2};this.sendMessageToChild(n),t.forEach(function(t){for(var n of t){var o=n[0],a=n[1];(e||(e=r("QuickPerformanceLogger"))).markerDrop(a.event,o)}})}},n.sendPCFToChildWindow=function(){var e=Math.trunc((s||(s=r("performanceNow")))()),t=r("ZenonProductConnectFunnel").getPreJoinTimings(),n=t.acceptedTs,a=t.ringingTs,i=t.triggeredTs,l={acceptedTs:n!=null?n-e:null,nonce:this.$2,ringingTs:a!=null?a-e:null,triggeredTs:i!=null?i-e:null,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_PCF_TIMINGS};this.sendMessageToChild(l),r("ZenonProductConnectFunnel").clearPreJoinTimings()},n.sendLogIdentifiersToChildWindow=function(t){var e={localCallID:t,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_LOG_IDENTIFIERS};this.sendMessageToChild(e)},n.windowMessageValid=function(t){return!!(t.origin===this.$5.location.origin||r("isFacebookishURI")(new(u||(u=r("URI")))(t.origin))&&r("isFacebookishURI")(new(u||(u=r("URI")))(this.$5.location.origin)))&&this.postMessageValid(t)},n.postMessageValid=function(t){var e;return this.verificationNonce!==null&&(t==null||(e=t.data)==null?void 0:e.nonce)===this.verificationNonce},n.sendMessageToChild=function(t){this.portToChild!=null?this.portToChild.postMessage(t):r("FBLogger")("rtc_www").mustfix("The child window port should be available")},n.enqueueRawMWThriftMessage=function(t,n){var e=t.messageBody,r=t.messageHeader,o=e.ringRequest;if(o){var a=r.conferenceName,i=r.serverInfoData;a!=null&&this.$3.set(a,{parsedMessage:n,rawMessage:t}),i!=null&&this.$4.set(i,{parsedMessage:n,rawMessage:t})}},n.testGetChildNonce=function(){return this.$2},t})();function m(e){var t,n,a,i;if(e==null)return null;var l=e.parsedMessage,s=e.rawMessage;if(l==null)return null;var u=_(l);if((u==null?void 0:u.eventName)!=="inviteRequest")return null;var c=(t=(n=s.messageBody.ringRequest)==null?void 0:n.isLegacyCall)!=null?t:!1,d=((a=s.messageBody.ringRequest)==null||(a=a.e2eeEnforcement)==null?void 0:a.mode)===o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED;return r("ZenonE2eeMandatedStateManager").processE2eeMandatedStateFromProductAndRing(d,(i=s.messageBody.ringRequest)==null||(i=i.e2eeEnforcement)==null?void 0:i.infraMandatedExpStatus),f(c)?s:g(s)}function p(e){return o("ZenonBrowsers").isFirefox()||r("shouldUseSFUMediaPath")(e)||r("ZenonIGMediaUtil").shouldUseSFUOnly()}function _(e){var t=e.getEvents().find(function(e){return e.eventName==="inviteRequest"});return t}function f(e){return e||!p(!1)}function g(e){var t;return(t=e.messageBody.ringRequest)==null||delete t.offer,e}l.default=d}),98);
__d("ZenonParentCallsManager",["BaseEventEmitter","FBLogger","JSResource","JSResourceForInteraction","LazyLoadInstance","OverlayConfigManagerWithServerLayer","Promise","RTWebIncomingRingConfiguration","ZenonActorHooks","ZenonBrowsers","ZenonCallLogger","ZenonCallsModelTypes","ZenonCollisionContext","ZenonDGWSharedWorkerUtils","ZenonDGWUtils","ZenonDeviceId","ZenonDismissReason","ZenonMessageSenderChain","ZenonMqttMWThriftMessageSender","ZenonParentClientPerfQPLLogProcessor","ZenonParentLSCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","ZenonSDKRateLimiter","ZenonSignalingParentTransport","promiseDone","qex","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("JSResourceForInteraction"))("setE2eeIsMandatedForZenonLoggers").__setRef("ZenonParentCallsManager"),c=s("ZenonGraphQLMWThriftMessageSender").__setRef("ZenonParentCallsManager"),d=s("ZenonDGWMWThriftMessageSender").__setRef("ZenonParentCallsManager"),m=s("ZenonDGWStreamController").__setRef("ZenonParentCallsManager"),p=(function(t){function a(a){var i;i=t.call(this)||this,i.$ZenonParentCallsManager$p_4=new Map,i.$ZenonParentCallsManager$p_5=new Set,i.$ZenonParentCallsManager$p_6=null,i.$ZenonParentCallsManager$p_8=[],i.$ZenonParentCallsManager$p_10=null,i.$ZenonParentCallsManager$p_11=null,i.onInviteReceived=function(e,t,n){var a,l,s,u,c,d,m,p=n.getSignalingModel().getSignalingID();n.setSignalingEventHandlers({onDismissReceived:i.onDismissReceived});var _=e.appMessages,f=e.inviterID,g=e.isE2eeMandated,h=e.otherParticipants,y=e.requestingVideo,C=e.roomInfo,b=e.serverInfoData;g===!0&&i.$ZenonParentCallsManager$p_13(p);var v=y&&o("ZenonBrowsers").supportsVideoCalls(),S="multiway_incoming",R=r("uuidv4")(),L=i.$ZenonParentCallsManager$p_14({callTrigger:S,isCaller:!1,isVideo:v,localCallID:R,peerID:f,protocol:t,signalingID:p},g!=null?g:!1);L==null||L.log({name:"inviteReceived",serverInfoData:b});var E=o("RTWebIncomingRingConfiguration").isSupportedClient(),k=E?"OK":"NOT_SUPPORTED";r("promiseDone")(n.respondToInvite(k)),L==null||L.log({name:"inviteResponded"});var I={thread:{id:"0",type:2},type:"thread"};if(C.context!=null&&(((a=C.context)==null?void 0:a.groupThreadID)!=null||((l=C.context)==null?void 0:l.peerID)!=null)){var T,D=(T=e.appMessages)==null?void 0:T.collision_context_payload,x=null;if(D!=null)try{x=JSON.parse(D).calling_tags}catch(e){}var $=g===!0&&x===2;if(C.context!=null){var P;I={thread:(P=o("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(C.context,$))!=null?P:{id:"0",type:2},type:"thread"}}}else((s=C.room)==null?void 0:s.linkHash)!=null&&((u=C.room)==null?void 0:u.roomName)!=null&&(I={room:C.room,type:"room"});var N=(c=e.actorID)!=null?c:o("ZenonActorHooks").ZenonActor.getID(),M={mwThriftRingRequest:null};b!=null&&(M=i.$ZenonParentCallsManager$p_2.getRingRequestBySID(b));var w={actorID:e.actorID,context:I,controllerParams:{appMessages:_,callContext:C.name,configuration:t,serverInfoData:(d=(m=C.context)==null?void 0:m.serverInfoData)!=null?d:null,signalingID:p},inviterID:f,isClientPermissableRing:E,isE2eeMandated:g!=null?g:!1,onAccept:function(o,a){var e=a.isPopupBlocked;L==null||L.log({name:"callAccepted",trigger:S}),r("promiseDone")(n.sendAnswerIntent()),i.$ZenonParentCallsManager$p_15(o,{callTrigger:S,isE2eeMandated:g!=null?g:!1,isPopupBlocked:e,isVideo:v,peerID:f,protocol:t,signalingID:p},R)},onDecline:function(t,n){n===void 0&&(n=null),i.onDecline(p,L,t,n)},otherParticipants:h.includes(N)?h:[N].concat(h),receiverUserId:e.userID,requestingVideo:v,ringID:p,ringRequest:M};i.emit("incomingRing",w)},i.onDismissReceived=function(t,r){var a=o("ZenonDismissReason").dismissReasonToCancelReason(r),l={reason:a,ringID:t};i.emit("ringCancel",l);var s=i.$ZenonParentCallsManager$p_4.get(t);return s!=null&&(s.log({name:"dismissRecv"}),s.log({endCallReason:r,isRemoteEnded:!0,name:"callEnded"})),(e||(e=n("Promise"))).resolve()},i.$ZenonParentCallsManager$p_7=new(r("OverlayConfigManagerWithServerLayer")),i.$ZenonParentCallsManager$p_3=a,i.$ZenonParentCallsManager$p_2=new(r("ZenonSignalingParentTransport"))(window);var l=new(r("ZenonMessageSenderChain"))([]);return i.$ZenonParentCallsManager$p_9=o("ZenonDeviceId").getZenonDeviceId(),o("ZenonDGWUtils").shouldUseDGW()&&r("qex")._("4380")?o("ZenonDGWSharedWorkerUtils").setupDGWSharedWorker("PARENT",l,function(e){i.$ZenonParentCallsManager$p_11=e}):o("ZenonDGWUtils").shouldUseDGW()&&!r("qex")._("4380")?(r("promiseDone")(m.load(),function(e){i.$ZenonParentCallsManager$p_10=e.getControllerInstance(),e.getControllerInstance().setWindowContext("PARENT"),e.getControllerInstance().setStreamOptions({deviceId:i.$ZenonParentCallsManager$p_9,loggingId:r("uuidv4")(),serviceId:"rpsignaling"})}),r("promiseDone")(d.load(),function(e){return l.addMessageSender(new e)})):(l.addMessageSender(new(r("ZenonMqttMWThriftMessageSender"))),r("promiseDone")(c.load(),function(e){if(a.relayEnvironment){var t=new e(a.relayEnvironment);l.addMessageSender(t)}})),i.$ZenonParentCallsManager$p_1=new(r("LazyLoadInstance"))(r("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(e){return new e(r("ZenonParentSignalingClient"),i.onInviteReceived,l)}),i.$ZenonParentCallsManager$p_6=new(r("ZenonSDKRateLimiter")),i}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.startOutgoingCallIntent=function(t,n){if(this.$ZenonParentCallsManager$p_12("startOutgoingCallIntent")){var e=n.callTrigger,o=n.isE2eeMandated,a=n.isVideo,i=n.peerID,l=n.protocol,s=n.signalingID;o&&this.$ZenonParentCallsManager$p_13(s);var u=r("uuidv4")();this.$ZenonParentCallsManager$p_14({callTrigger:e,isCaller:!0,isVideo:a,localCallID:u,peerID:i,protocol:l,signalingID:s},o),this.$ZenonParentCallsManager$p_15(t,n,u)}},i.$ZenonParentCallsManager$p_14=function(t,n){var e,o=t.callTrigger,a=t.isCaller,i=t.isVideo,l=t.localCallID,s=t.peerID,u=t.protocol,c=t.signalingID,d=(e=this.$ZenonParentCallsManager$p_4.get(c))!=null?e:null;if(o==="meetup_join")return d;if(d!=null)return r("FBLogger")("rtc_www").mustfix("Call logger key collision in parentCallsManager for signalingID: %s, ",c),d;var m=new(r("ZenonCallLogger"))({config:this.$ZenonParentCallsManager$p_7,initLoggerInfo:{callTrigger:o,isCaller:a,isVideo:i,localCallID:l,peerID:s,protocol:u,signalingID:c},isE2eeMandated:n,processorConfigs:this.getLogProcessors(),startFromNavigation:!0});return this.$ZenonParentCallsManager$p_4.set(c,m),this.$ZenonParentCallsManager$p_8.forEach(function(e){e.setLoggingEventHandler(function(e){return m.log(e)})}),m},i.getLogProcessors=function(){var e=[o("ZenonParentLSCallSummaryLogProcessor").ZenonParentLSCallSummaryLogProcessorConfig,o("ZenonParentQPLLogProcessor").ZenonParentQPLLogProcessorConfig,o("ZenonParentClientPerfQPLLogProcessor").ZenonParentClientPerfQPLLogProcessorConfig];return e},i.$ZenonParentCallsManager$p_15=function(t,n,a){var e=n.isPopupBlocked,i=n.signalingID;this.$ZenonParentCallsManager$p_2.localCallID=a,this.$ZenonParentCallsManager$p_2.verificationNonce=t,this.$ZenonParentCallsManager$p_5.add(i);var l=this.$ZenonParentCallsManager$p_4.get(i);l!=null&&l.log({isPopupBlocked:e,name:"popupOpened"}),o("ZenonDGWUtils").shouldUseDGW()?(o("ZenonDeviceId").setZenonLocalStorageDeviceId(this.$ZenonParentCallsManager$p_9),r("qex")._("3661")&&this.$ZenonParentCallsManager$p_10&&(r("promiseDone")(this.$ZenonParentCallsManager$p_10.restartStreamWithNewOptions({deviceId:this.$ZenonParentCallsManager$p_9,loggingId:r("uuidv4")(),serviceId:"rpsignaling"})),this.$ZenonParentCallsManager$p_9=r("uuidv4")())):o("ZenonDeviceId").setZenonLocalStorageDeviceId(o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback())},i.initListeners=function(t){var e=this;this.$ZenonParentCallsManager$p_8=t;for(var n of t)n.subscribe(function(t){return e.onMessageReceived(t)},function(t,n){return e.$ZenonParentCallsManager$p_2.enqueueRawMWThriftMessage(t,n)})},i.onMessageReceived=function(t){var e=t.getHeader().signalingID;e!=null&&this.$ZenonParentCallsManager$p_5.has(e)||this.$ZenonParentCallsManager$p_1.get(function(e){e.receiveMessage(t)})},i.onDecline=function(t,n,a,i){i===void 0&&(i=null),this.$ZenonParentCallsManager$p_1.get(function(e){var l=e.getSignalingClient(t);if(l){var s=o("ZenonDismissReason").endCallToDismissReason(a);a!=="VersionUnsupported"&&i!==o("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked&&r("promiseDone")(l.sendDismiss(s)),n==null||n.log({endCallReason:s,endCallSubreason:i==null?null:i,isRemoteEnded:!1,name:"callEnded"})}else r("FBLogger")("rtc_www").mustfix("signaling client should be defined")})},i.removeListeners=function(t){for(var e of t)e.unsubscribe()},i.$ZenonParentCallsManager$p_12=function(t){return this.$ZenonParentCallsManager$p_6&&!this.$ZenonParentCallsManager$p_6.take(t)?(r("FBLogger")("rtc_www").warn("[ZP] Dropping %s invocation. This SDK method is being called too rapidly.",t),!1):!0},i.$ZenonParentCallsManager$p_13=function(t){r("promiseDone")(u.load(),function(e){return e(t)})},a})(r("BaseEventEmitter"));l.default=p}),98);
__d("delegateZenonCallInviteModel",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){e.getCurrentInvite=t.getCurrentInvite.bind(t),e.startListening=t.startListening.bind(t),e.stopListening=t.stopListening.bind(t),e.dismiss=t.dismiss.bind(t),e.accept=t.accept.bind(t),e.decline=t.decline.bind(t),t.addListener("callInvite",function(t){e.emit("callInvite",t)})}i.default=e}),66);
__d("logCometTopNavTabPress",["CometHomeProductBadgedNavigationLogger","logCometWatchTabSelectedEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){switch(n!=null&&t!=null&&t>0&&o("CometHomeProductBadgedNavigationLogger").markerStartAndAnnotateWithProductID(n),e){case"watch":r("logCometWatchTabSelectedEvent")("tab",t>0,"tab");break;default:break}}l.default=e}),98);
__d("mwEBSetBackupState",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.setBackupState,n=e.state;switch(n){case 1:break;case 2:t(2);break;case 3:t(3);break;case 4:t(4);break;case-1:t(-1);break;case 0:break}}i.default=e}),66);
__d("mwProcessBackupIds",["I64","LSAuthorityLevel","LSIntEnum","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLEvent","QPLUserFlow","WebSession"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c="-1";function d(e){r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+e+"."),o("MWChatEncryptedBackupsLogging").endSuccess({event:o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent})}function m(t){var n=t.clientStateData,a=t.encryptedBackupData,i=a==null?void 0:a.backupId;return i==null?(d("NO_BACKUPS_PRESENT"),2):(e||(e=o("I64"))).to_string(i)===c?(o("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR",event:o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent}),-1):n==null||!(e||(e=o("I64"))).equal(n.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?(d("DEVICE_NOT_ONBOARDED"),4):(e||(e=o("I64"))).equal(n.backupId,i)?(d("DEVICE_ONBOARDED"),3):(d("DEVICE_NOT_ONBOARDED_BACKUP_ID_MISMATCH"),4)}function p(t){var n=t.clientStateData,a=t.encryptedBackupData;if(a==null)return 0;var i=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();return r("QPLUserFlow").getActiveFlowIDs().includes((u||(u=o("QPLEvent"))).getMarkerId(o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||r("QPLUserFlow").start(o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:i,processBackupIdsVersion:"JS",sessionTabId:o("WebSession").getId()}}}),(e||(e=o("I64"))).equal(a.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))?(d("FETCH_IN_PROGRESS"),1):(e||(e=o("I64"))).equal(a.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?m({clientStateData:n,encryptedBackupData:a}):(o("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR_WRONG_AUTHORITY_LEVEL",event:o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent}),-1)}l.default=p}),98);
__d("useMWChatDisplayEncryptedBackupsRestoreToast",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMAWEncryptedBackupsRestoreToast","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=d.useEffect,p=d.useState;function _(){var t=o("react-compiler-runtime").c(10),n=(e||(e=r("useReStore")))(),a;t[0]!==n.tables.encrypted_backups_client_restore_status?(a=function(){return o("ReQL").fromTableAscending(n.tables.encrypted_backups_client_restore_status)},t[0]=n.tables.encrypted_backups_client_restore_status,t[1]=a):a=t[1];var l;t[2]!==n?(l=[n],t[2]=n,t[3]=l):l=t[3];var s=o("ReQLSuspense").useArray(a,l,i.id+":27"),u=r("useMAWEncryptedBackupsRestoreToast")(),c=u.showInProgressToast,d=u.showSuccessToast,_=p(!1),g=_[0],h=_[1],y,C;t[4]!==g||t[5]!==s||t[6]!==c||t[7]!==d?(y=function(){var e=s.some(f);g&&!e?(h(!1),d()):!g&&e&&(h(!0),c())},C=[g,s,c,d],t[4]=g,t[5]=s,t[6]=c,t[7]=d,t[8]=y,t[9]=C):(y=t[8],C=t[9]),m(y,C)}function f(e){var t=e.restoreStatus;return t!=null&&(s||(s=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS))}l.default=_}),98);
__d("useMWChatEncryptedBackupsAutoRestoreEffect",["EBSMGatingUI","MWChatEncryptedBackupsAddDeviceWithEBKeys","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsInitializeRestoreDeferred","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","WALogger","gkx","promiseDone","react","react-compiler-runtime","useLabyrinthLogging","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=d.useEffect,p=d.useRef;function _(t){var n=o("react-compiler-runtime").c(13),a=t.backupState,l=t.clientData,s=t.epochData,c=t.isSubscribedToData,d=t.setIsSubscribedToData,_=r("MWChatEncryptedBackupsQPLSource.enum").AUTO_RESTORE,g=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),h=g.startFlow,y=p(!1),C=(u||(u=r("useReStore")))(),b,v;n[0]!==c||n[1]!==C?(b=function(){return c?o("ReQL").fromTableAscending(C.tables.experiences_shared_state):o("ReQL").empty()},v=[c,C],n[0]=c,n[1]=C,n[2]=b,n[3]=v):(b=n[2],v=n[3]);var S=o("ReQLSuspense").useArray(b,v,i.id+":68"),R,L;n[4]!==a||n[5]!==l||n[6]!==s||n[7]!==d||n[8]!==S||n[9]!==h||n[10]!==C?(R=function(){if(!(y.current||a===1||a===0)){if(a===3){var t=l==null?void 0:l.deviceId,n=o("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:C,sharedStateTable:S,stateKey:"auto_restored"}),i=o("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:C,sharedStateTable:S,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}),u=o("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:C,sharedStateTable:S,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}),c=n||i||u,m=o("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(!c&&m!==""&&l!=null&&s!=null&&t!=null){o("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT),h({additionalAnnotations:{device_type:"auto_restore"},event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH,source:_});var p=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();if(h({additionalAnnotations:{eb_session_identifier:p,restore_upsell_first_impression_time:p},event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:_}),r("gkx")("10572"))o("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:C,onFailure:f,onSuccess:function(){r("promiseDone")(o("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:C,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY})),o("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:o("EBSMGatingUI").isBackendSetupSuccessfulForEBSM(),without_add_device:!0},string:{restore_type:"auto_restore"}},event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),o("MWChatEncryptedBackupsLogging").endSuccess({event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[wmi][eb] initialize auto-restore success"])))}});else{var g={backupId:l.backupId,db:C,newDeviceRegistrationId:m,previousDeviceId:t};o("MWChatEncryptedBackupsAddDeviceWithEBKeys").addDeviceWithEBKeys(g)}}}y.current=!0,d(!1)}},L=[a,l,s,S,_,h,C,d],n[4]=a,n[5]=l,n[6]=s,n[7]=d,n[8]=S,n[9]=h,n[10]=C,n[11]=R,n[12]=L):(R=n[11],L=n[12]),m(R,L)}function f(){o("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:o("EBSMGatingUI").isBackendSetupSuccessfulForEBSM(),without_add_device:!0}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),o("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:o("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[wmi][eb] initialize auto-restore failed"])))}l.default=_}),98);
__d("useMWChatEncryptedBackupsAutoRestore",["I64","LSAuthorityLevel","LSIntEnum","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWChatEncryptedBackupsAutoRestoreEffect","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useState;function m(){var t=o("react-compiler-runtime").c(14),n=d(!0),a=n[0],l=n[1],s=(e||(e=r("useReStore")))(),u,c;t[0]!==a||t[1]!==s?(u=function(){return a?o("ReQL").fromTableAscending(s.tables.secure_encrypted_backups_epochs):o("ReQL").empty()},c=[a,s],t[0]=a,t[1]=s,t[2]=u,t[3]=c):(u=t[2],c=t[3]);var m=o("ReQLSuspense").useFirst(u,c,i.id+":27"),_,f;t[4]!==a||t[5]!==s?(_=function(){return a?o("ReQL").fromTableAscending(s.tables.secure_encrypted_backups_client_state).filter(p):o("ReQL").empty()},f=[a,s],t[4]=a,t[5]=s,t[6]=_,t[7]=f):(_=t[6],f=t[7]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":34"),h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h={entrypoint:r("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE},t[8]=h):h=t[8];var y=r("useMWEBBackupState")(h),C;t[9]!==y||t[10]!==g||t[11]!==m||t[12]!==a?(C={backupState:y,clientData:g,epochData:m,isSubscribedToData:a,setIsSubscribedToData:l},t[9]=y,t[10]=g,t[11]=m,t[12]=a,t[13]=C):C=t[13],r("useMWChatEncryptedBackupsAutoRestoreEffect")(C)}function p(e){var t=e.authorityLevel;return(s||(s=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))}l.default=m}),98);
__d("useMWChatEncryptedBackupsAutoRestorePicker",["cr:27509"],(function(t,n,r,o,a,i,l){"use strict";function e(){n("cr:27509")()}l.default=e}),98);
__d("useMWEBListenForChangesToBackupStateXDevice",["I64","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useEffect,m=c.useRef;function p(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.encrypted_backups_status_trigger?(l=function(){return o("ReQL").fromTableAscending(a.tables.encrypted_backups_status_trigger)},n[0]=a.tables.encrypted_backups_status_trigger,n[1]=l):l=n[1];var u;n[2]!==a?(u=[a],n[2]=a,n[3]=u):u=n[3];var c=o("ReQLSuspense").useFirst(l,u,i.id+":27"),p=m(null),_,f;n[4]!==c||n[5]!==t?(_=function(){c!=null&&p.current!==c.pk&&!(s||(s=o("I64"))).equal(c.pk,(s||(s=o("I64"))).of_float(0))&&(p.current=c.pk,t())},f=[c,t],n[4]=c,n[5]=t,n[6]=_,n[7]=f):(_=n[6],f=n[7]),d(_,f)}l.default=p}),98);
__d("useMWEBPropagateEbStateChangesThroughRelay",["CometRelay","MWEBPropagateEbStateUtils","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=t.listenForChangesToBackupState,l=t.onStateChange,s=(e||(e=r("useReStore")))(),u=o("CometRelay").useRelayEnvironment(),c,d;n[0]!==s||n[1]!==a?(c=function(){return a?o("ReQL").fromTableAscending(s.tables.encrypted_backups):o("ReQL").empty()},d=[s,a],n[0]=s,n[1]=a,n[2]=c,n[3]=d):(c=n[2],d=n[3]);var m=o("ReQLSuspense").useFirst(c,d,i.id+":36"),p,_;n[4]!==s||n[5]!==a?(p=function(){return a?o("ReQL").fromTableAscending(s.tables.secure_encrypted_backups_client_state):o("ReQL").empty()},_=[s,a],n[4]=s,n[5]=a,n[6]=p,n[7]=_):(p=n[6],_=n[7]);var f=o("ReQLSuspense").useFirst(p,_,i.id+":43"),g=o("MWEBPropagateEbStateUtils").useBackupStateUpdate(u,l),h=o("MWEBPropagateEbStateUtils").useHasArmadilloError();o("MWEBPropagateEbStateUtils").useEbStatePropagationEffect(m,f,u,h,g)}l.default=s}),98);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25220416984279164"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{args:null,kind:"FragmentSpread",name:"EBFetchBackupIdsSharedFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[e],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},e],storageKey:null}]},params:{id:n("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2Query",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2",["CometRelay","EBFetchBackupIdsShared","EBGating","EBSMAPI","MAWWaitForBackendSetup","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsProcessBackupDataUtils","ODS","QPLEvent","QPLUserFlow","WebSession","cr:27670","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWEBListenForChangesToBackupStateXDevice","useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useEffect,p=d.useRef,_=d.useState;function f(e){var t=o("react-compiler-runtime").c(10),a=r("useAsyncReStore")(),i=p(!0),l=p(!1),s=_(!1),d=s[0],f=s[1],g=o("CometRelay").useRefetchableFragment(o("EBFetchBackupIdsShared").fetchBackupIdsRefetchableFragment,e),h=g[0],y=g[1],C;t[0]!==h||t[1]!==y?(C=function(){if(o("MAWWaitForBackendSetup").isBackendSetupSuccessful()&&o("EBGating").isEBSMRefetchInWorkerEnabled()){(u||(u=o("ODS"))).bumpEntityKey(7319,"useMWEncryptedBackupsFetchBackupIdsV2.destination","mainthread.gql.refetch.worker"),r("EBSMAPI").fetchBackupIds("useMWEncryptedBackupsFetchBackupIdsV2-refetch");return}(u||(u=o("ODS"))).bumpEntityKey(7319,"useMWEncryptedBackupsFetchBackupIdsV2.destination","mainthread.gql.refetch.mainthread");var e=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();r("QPLUserFlow").getActiveFlowIDs().includes((c||(c=o("QPLEvent"))).getMarkerId(o("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))||r("QPLUserFlow").start(o("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,fetchBackupIdsVersion:"GQL",sessionTabId:o("WebSession").getId()}}}),y({},{fetchPolicy:"network-only",onComplete:function(t){if(l.current=!1,r("QPLUserFlow").getActiveFlowIDs().includes((c||(c=o("QPLEvent"))).getMarkerId(o("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent)))if(t!=null)o("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{error:t.message,error_stack:t.stack}},errorName:"fetch_backup_ids_error",event:o("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent});else{var e,n,a;o("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{isUserOptedOut:(e=h.xfb_backup)==null?void 0:e.is_user_opted_out},string:{backup_id:(n=(a=h.xfb_backup)==null?void 0:a.id)!=null?n:"null"}},event:o("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent})}}})},t[0]=h,t[1]=y,t[2]=C):C=t[2];var b=C;r("useMWEBListenForChangesToBackupStateXDevice")(b);var v;t[3]!==d||t[4]!==b?(v={listenForChangesToBackupState:d,onStateChange:b},t[3]=d,t[4]=b,t[5]=v):v=t[5],n("cr:27670")(v);var S,R;t[6]!==h||t[7]!==a?(S=function(){l.current!==!0&&(l.current=!0,o("MAWWaitForBackendSetup").isBackendSetupSuccessful()&&o("EBGating").isFetchBackupIdsFromWorker()?((u||(u=o("ODS"))).bumpEntityKey(7319,"useMWEncryptedBackupsFetchBackupIdsV2.destination","worker"),r("promiseDone")(r("EBSMAPI").fetchBackupIds("useMWEncryptedBackupsFetchBackupIdsV2").then(function(){f(!0),h.xfb_backup!=null&&h.xfb_backup.id!=null&&i.current===!0&&(i.current=!1)}))):((u||(u=o("ODS"))).bumpEntityKey(7319,"useMWEncryptedBackupsFetchBackupIdsV2.destination","mainthread.gql.isBackendSetupSuccessful="+o("MAWWaitForBackendSetup").isBackendSetupSuccessful().toString()),o("MWEncryptedBackupsProcessBackupDataUtils").processBackupData({data:h,dbPromise:a,isInitalLoad:i,setListenForChangesToBackupState:f})))},R=[h,a],t[6]=h,t[7]=a,t[8]=S,t[9]=R):(S=t[8],R=t[9]),m(S,R)}function g(){var t=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"),{},{fetchPolicy:"network-only"});f(t)}l.default=g}),98);