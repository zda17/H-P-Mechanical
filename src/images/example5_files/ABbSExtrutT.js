;/*FB_PKG_DELIM*/

__d("CometNotificationSound",["Sound"],(function(t,n,r,o,a,i,l){"use strict";var e=5e3;o("Sound").init(["audio/mpeg"]);var s=(function(){function t(e){this.$2=0,this.$1=e}var n=t.prototype;return n.play=function(n){var t=Date.now();t-this.$2<e||this.$1==null||(this.$2=t,o("Sound").playOnlyIfImmediate(this.$1,n,!1))},t})();l.default=s}),98);
__d("CometToastNotification_actor.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_actor",selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};a.exports=e}),null);
__d("CometToastNotification_notification.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_notification",selections:[{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],type:"Notification",abstractKey:null};a.exports=e}),null);
__d("useHandleUpdateSingleNotifSeenState",["CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","FBLogger","react-compiler-runtime","useGetCancellableSeenStateCallback"],(function(t,n,r,o,a,i,l){"use strict";var e="MAIN_SURFACE";function s(t){var n=t.environment,a=t.notifId,i=t.seenState,l=t.source;a==null||i!=="UNSEEN_AND_UNREAD"||o("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(n,{environment:e,input:{environment:e,is_comet:!0,last_notif_sync_time:0,notif_ids:[a],source:l!=null?l:"unknown",update_type:"MARK_SEEN"}},{mutationLogger:o("CometNotificationsMutationLogger").notificationMarkAsSeenStart,onError:function(t){r("FBLogger")("Notifications").catching(t).mustfix("Update seen state (single) mutation failed with an error: ")},updater:function(t){o("CometNotificationsUpdateSeenStateMutation").updateSingleNotifSeenState(t,a),o("CometNotificationsUpdateSeenStateMutation").lowerBadgeCountByOne(t)}})}function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=babelHelpers.extends({},e,{updater:s}),t[0]=e,t[1]=n):n=t[1],r("useGetCancellableSeenStateCallback")(n)}l.default=u}),98);
__d("CometToastNotification.react",["fbt","CometNotificationsListItem.react","CometRelay","CometToastCard.react","CometToastNotification_actor.graphql","CometToastNotification_notification.graphql","FBLogger","react","react-compiler-runtime","requireDeferred","useHandleUpdateSingleNotifSeenState"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=r("requireDeferred")("NotifBeeperDismissFalcoEvent").__setRef("CometToastNotification.react"),p="comet_toast",_="beeper";function f(t){var a,i=o("react-compiler-runtime").c(22),l=o("CometRelay").useRelayEnvironment(),c=o("CometRelay").useFragment(e!==void 0?e:e=n("CometToastNotification_actor.graphql"),t.actor),f=o("CometRelay").useFragment(u!==void 0?u:u=n("CometToastNotification_notification.graphql"),t.notification),g=f==null?void 0:f.id,h=f==null?void 0:f.seen_state,y;i[0]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Notification was marked seen."),i[0]=y):y=i[0];var C;i[1]!==l||i[2]!==g||i[3]!==h?(C={accessibilityString:y,environment:l,notifId:g,seenState:h,source:p,timestamp:null,updateType:"MARK_SEEN"},i[1]=l,i[2]=g,i[3]=h,i[4]=C):C=i[4];var b=r("useHandleUpdateSingleNotifSeenState")(C);if(f==null)return r("FBLogger")("Notifications").mustfix("Comet Toast should have non-null notification"),null;var v=t.onCloseClick,S;i[5]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"New notification"),i[5]=S):S=i[5];var R=S,L=c==null?void 0:c.id,E=f.notif_id,k=(a=f.body)==null?void 0:a.text,I;i[6]!==E||i[7]!==k?(I=E==null||k==null?null:{id:E,text:k},i[6]=E,i[7]=k,i[8]=I):I=i[8];var T=I,D;i[9]!==c||i[10]!==f||i[11]!==v?(D=d.jsx(r("CometNotificationsListItem.react"),{actor:c,isToast:!0,loggerContext:_,notification:f,onClick:v}),i[9]=c,i[10]=f,i[11]=v,i[12]=D):D=i[12];var x;i[13]!==L||i[14]!==E||i[15]!==v?(x=function(){v(),E!=null&&L!=null&&m.onReady(function(e){var t=e.log;return t(function(){return{notification_data:{alert_id:E,logger_context:_,user_id:L},ref:"www_tab"}})})},i[13]=L,i[14]=E,i[15]=v,i[16]=x):x=i[16];var $;return i[17]!==T||i[18]!==b||i[19]!==D||i[20]!==x?($=d.jsx(r("CometToastCard.react"),{accessibilityAnnouncement:T,content:D,headline:R,onCloseClick:x,onMouseEnter:b}),i[17]=T,i[18]=b,i[19]=D,i[20]=x,i[21]=$):$=i[21],$}l.default=f}),226);