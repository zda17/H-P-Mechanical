;/*FB_PKG_DELIM*/

__d("SubRipText",[],(function(t,n,r,o,a,i){var e={size:"90%"};function l(e){var t=Number(e.substr(0,e.length-1)),n=e.substr(-1);switch(n){case"s":return t;case"m":return t*60;case"h":return t*3600}var r=e.split(":");return t=Number(r[r.length-1].replace(/,/,".")),r.length>1&&(t+=Number(r[r.length-2])*60),r.length>2&&(t+=Number(r[r.length-3])*3600),t}function s(e){var t=e.split(/\r\n|\r|\n/).map(function(e){return e.trim()}),n=[],r=0;do{var o=t.indexOf("",r);o<0&&(o=t.length);var a=c(t.slice(r,o));a&&n.push(a),r=o+1}while(r>0&&r<t.length);return n}function u(e){var t=e.split("-->");if(t.length!=2)return null;var n=l(t[0].trim()),r=l(t[1].trim());return Number.isNaN(r)||Number.isNaN(n)?null:{begin:n,end:r}}function c(e){if(e.length<3)return null;var t=d(e[0]),n=u(e[1]);return n?{counter:t,begin:n.begin,end:n.end,text:e.slice(2,6)}:null}function d(e){return Number(e.trim())}function m(e){var t=e.split(".");return t[0].length<2?"0"+t.join("."):t.join(".")}function p(e){var t=m(Math.floor(e/3600).toString()),n=m(Math.floor(e%3600/60).toString()),r=m((e%60).toFixed(3));return t+":"+n+":"+r}function _(e,t,n){var r="";if(n)for(var o in n)r+=" "+o+":"+n[o];return p(e)+" --> "+p(t)+r}function f(e,t){return e.counter+"\n"+_(e.begin,e.end,t)+"\n"+e.text.join("\n")+"\n"}function g(e,t){return"WEBVTT\n\n"+e.map(function(e){return f(e,t)}).join("\n")}var h=(function(){function t(t){var n=this;this.$1=s(t),this.$1.sort(function(e,t){return e.counter-t.counter}),this.$2=this.$1.map(function(e,t){return t}).sort(function(e,t){return n.$1[e].begin-n.$1[t].begin}),this.invalidateCache(),this.$6=e}var n=t.prototype;return n.$7=function(t){return this.$1[this.$2[t]]},n.$8=function(t){for(var e=this.$3;e<this.$2.length;){var n=this.$7(e);if(n.begin<=t)this.$4.push(n),e++;else break}this.$3=e},n.$9=function(t){this.$4=this.$4.filter(function(e){return e.end>t})},n.invalidateCache=function(){this.$5=0,this.$4=[],this.$3=0},n.setStyle=function(t){this.$6=t},n.getSubtitles=function(t){return t<this.$5&&this.invalidateCache(),this.$5=t,this.$8(t),this.$9(t),this.$4.reduce(function(e,t){return e.concat(t.text)},[])},n.renderVTT=function(){return g(this.$1,this.$6)},t})();i.default=h}),66);
__d("VideoPlayerWebVttCaptionsSource",["SubRipText","XHRRequest","getCrossOriginTransport"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.onCaptionsLoaded,n=e.onCaptionsChanged;this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$1=t,this.$2=n}var t=e.prototype;return t.loadFromUrl=function(t){this.$3=this.$7(t)},t.handleTimeUpdate=function(t){this.$8(t)},t.getCurrentScreenRepresentation=function(){return{rows:this.$5,styles:this.$6}},t.destroy=function(){this.$1=null,this.$2=null,this.$9()},t.$9=function(){var e=this.$3;e&&(e(),this.$3=null),this.$4=null,this.$5=null,this.$6=null},t.$7=function(t){var e=this;this.$9();var n=new(r("XHRRequest"))(t).setTransportBuilder(r("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(t){if(n){var o=new(r("SubRipText"))(t);e.$4=o;var a=e.$1;a&&a(o)}});return n.send(),function(){n&&(n.abort(),n=null)}},t.$8=function(t){var e=this.$4;e?this.$10(e.getSubtitles(t),{textAlignment:"center"}):this.$10([],{textAlignment:"center"})},t.$10=function(t,n){if(this.$5==null||this.$5.length!==t.length||this.$5.some(function(e,n){return e!==t[n]})){var e=this.$2;e&&e(t,n)}this.$5=t,this.$6=n},e})();l.default=e}),98);