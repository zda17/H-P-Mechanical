;/*FB_PKG_DELIM*/

__d("CometFeedsNotificationsUpdateSeenStateMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24075449245374733"}),null);
__d("CometFeedsNotificationsUpdateSeenStateMutation.graphql",["CometFeedsNotificationsUpdateSeenStateMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometFeedsNotificationsUpdateSeenStateMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometFeedsNotificationsUpdateSeenStateMutation",selections:t},params:{id:n("CometFeedsNotificationsUpdateSeenStateMutation_facebookRelayOperation"),metadata:{},name:"CometFeedsNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometFeedsNotificationsUpdateSeenStateMutation",["CometFeedsNotificationsUpdateSeenStateMutation.graphql","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometFeedsNotificationsUpdateSeenStateMutation.graphql");function u(e,t,n){var r=n.mutationLogger(),a=r.logOnError,i=r.logOnSuccess;return o("CometRelay").commitMutation(e,{mutation:s,onCompleted:function(){i(),n.onSuccess&&n.onSuccess()},onError:function(t){a(t),n.onError&&n.onError(t)},optimisticUpdater:n.updater,variables:t})}l.CometFeedsNotificationsUpdateSeenStateMutation=u,l.mutation=s}),98);
__d("CometLeftRailNewContentPill.react",["CometLeftRailLegacyText.react","CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=40,c={pill:{alignItems:"x6s0dn4",backgroundColor:"xtvsq51",borderTop:"x76ihet",borderInlineEnd:"xtmcdsl",borderBottom:"x112ta8",borderInlineStart:"x4gj9lk",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",boxShadow:"xpdwapb",cursor:"x1ypdohk",display:"x78zum5",height:"x1vqgdyp",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"x1qughib",marginTop:"xw7yly9",paddingTop:"xexx8yu",paddingInlineEnd:"xv54qhq",paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",position:"x10l6tqk",top:"x13vifvy",transform:"xuuh30",width:"x14atkfc",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.onClick,i;t[0]!==n?(i=s.jsx(r("CometLeftRailLegacyText.react"),{display:"nowrap",use:"inverse",weight:"semibold",children:n}),t[0]=n,t[1]=i):i=t[1];var l;return t[2]!==a||t[3]!==i?(l=s.jsx(r("CometPressable.react"),{display:"inline",onPress:a,overlayDisabled:!0,xstyle:c.pill,children:i}),t[2]=a,t[3]=i,t[4]=l):l=t[4],l}l.default=d}),98);
__d("CometNoNotifications.react",["fbt","CometContentArea.react","CometNotificationsRootContext","FDSButton.react","FDSNullState.react","NullStateNotifications","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useContext,m=c.useEffect,p=r("requireDeferred")("NoNotificationsFalcoEvent").__setRef("CometNoNotifications.react");function _(e){var t=o("react-compiler-runtime").c(6),n=e.loggingSurface,a=e.userId,i,l;t[0]!==n||t[1]!==a?(i=function(){p.onReady(function(e){var t=e.log;return t(function(){return{ref:n,user_id:a}})})},l=[n,a],t[0]=n,t[1]=a,t[2]=i,t[3]=l):(i=t[2],l=t[3]),m(i,l);var c=d(r("CometNotificationsRootContext")),_=c.source,f=_==="FEEDS",g;return t[4]!==f?(g=u.jsx(r("CometContentArea.react"),{verticalAlign:"middle",children:f?u.jsx(r("FDSNullState.react"),{action:u.jsx(r("FDSButton.react"),{label:s._(/*BTDS*/"Learn more about notifications"),linkProps:{url:"https://www.facebook.com/help/338264271792192"},padding:"wide"}),body:s._(/*BTDS*/"Soon you'll be seeing notifications here when someone interacts with content you've shared, or when there's an update about things you've selected to see. These notifications will appear as they become available."),"data-testid":void 0,headline:s._(/*BTDS*/"Check back soon"),icon:r("NullStateNotifications")}):u.jsx(r("FDSNullState.react"),{"data-testid":void 0,headline:s._(/*BTDS*/"You have no notifications"),icon:r("NullStateNotifications")})}),t[4]=f,t[5]=g):g=t[5],g}l.default=_}),226);
__d("CometNotificationsActionsButton.react",["fbt","FDSCircleButton.react","FDSDeferredPopoverTrigger.react","FDSDots3HorizontalFilled20Icon","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("requireDeferred")("CometNotificationsActionsMenu.react").__setRef("CometNotificationsActionsButton.react"),d=r("requireDeferred")("OpenJewelOptionsMenuFalcoEvent").__setRef("CometNotificationsActionsButton.react");function m(e){var t=o("react-compiler-runtime").c(9),n=e.actorId,a=e.notificationsListRef,i=e.onSeeAllClick,l;t[0]!==n||t[1]!==a||t[2]!==i?(l={actorId:n,notificationsListRef:a,onSeeAllClick:i},t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3];var m;t[4]!==n?(m=function(t,o,a,i,l,c){return u.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Notification Actions"),color_DEPRECATED:"secondary",icon:r("FDSDots3HorizontalFilled20Icon"),onHoverIn:i,onHoverOut:l,onPress:function(){o(),d.onReady(function(e){var t=e.log;return t(function(){return{userID:n}})})},onPressIn:c,ref:t,size:32,testid:void 0,type_DEPRECATED:"deemphasized"})},t[4]=n,t[5]=m):m=t[5];var p;return t[6]!==l||t[7]!==m?(p=u.jsx(r("FDSDeferredPopoverTrigger.react"),{align:"end",popoverProps:l,popoverResource:c,popoverType:"menu",position:"below",children:m}),t[6]=l,t[7]=m,t[8]=p):p=t[8],p}l.default=m}),226);
__d("CometNotificationsBucketHeaderListItem.react",["CometFocusTableContext","FDSUnitHeader.react","ODS","react","react-compiler-runtime","useNotificationsImpressionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useContext,m=c.useEffect;function p(e){var t=o("react-compiler-runtime").c(22),n=e.actorId,a=e.bucketHeader,i=e.filterTokens,l=e.headerLinkText,c=e.onPress,p=e.title,_=e.trackingData,f=e.url,g;t[0]!==n||t[1]!==_?(g={actorId:n,loggerContext:"www_tab",notifId:null,trackingData:_},t[0]=n,t[1]=_,t[2]=g):g=t[2];var h=r("useNotificationsImpressionLogger")(g),y=h[0],C=d(r("CometFocusTableContext")),b=C.FocusRow,v=b!=null?b:u.Fragment,S,R;t[3]!==a?(S=function(){(s||(s=o("ODS"))).bumpEntityKey(3478,"comet_notifications.list","see_all.impression."+(a!=null?a:"null"))},R=[a],t[3]=a,t[4]=S,t[5]=R):(S=t[4],R=t[5]),m(S,R);var L=l!=null?l:void 0,E;t[6]!==i?(E={filterTokens:i},t[6]=i,t[7]=E):E=t[7];var k;t[8]!==E||t[9]!==f?(k={passthroughProps:E,url:f},t[8]=E,t[9]=f,t[10]=k):k=t[10];var I;t[11]!==c||t[12]!==L||t[13]!==k||t[14]!==p?(I=u.jsx(r("FDSUnitHeader.react"),{action_DEPRECATED:L,actionLinkProps:k,actiontestid:"NotificationsBucketHeaderLink",headline:p,level:3,onActionPress:c,testid:void 0,useFocusCell:!0}),t[11]=c,t[12]=L,t[13]=k,t[14]=p,t[15]=I):I=t[15];var T;t[16]!==y||t[17]!==I?(T=u.jsx("div",{ref:y,children:I}),t[16]=y,t[17]=I,t[18]=T):T=t[18];var D;return t[19]!==v||t[20]!==T?(D=u.jsx(v,{children:T}),t[19]=v,t[20]=T,t[21]=D):D=t[21],D}l.default=p}),98);
__d("CometNotificationsContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({renderLocation:null});l.default=u}),98);
__d("CometNotificationsDropdownQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometNotificationsDropdownQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"environment"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Literal",name:"filter_tokens",value:[]},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"notif_cache_ids",value:[]},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"]},{kind:"Literal",name:"source",value:"unknown"}],a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i=[a],l={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"prefetch_score",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},p={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometNotificationsDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"CometNotificationsListWrapper_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometNotificationsDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[t,r,{kind:"TypeDiscriminator",abstractKey:"__isActor"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[t,{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_id",storageKey:null},{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},s,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},l],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[u,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[c,r,d,m,p,s],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[u,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[c,m,r,d,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[t],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},p,_,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:n("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},a],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"XFBUfiIconsAndCounts",kind:"LinkedField",name:"ufi_icons_and_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi_counts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ufi_icon_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"44kVfU"}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometRisingFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"RisingFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometGroupsNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometXIPaidexNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XIPaidexNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometAPPlusPostWaitlistNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"APPlusPostWaitlistNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCustomBadgeNameIsLiveNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeNameIsLiveNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCreatorCustomBadgeUserUpgradeNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeUserUpgradeNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometFXFetaUpgradeSuccessNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FXFetaUpgradeSuccessNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:"44kVfU")'}],storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[c,_,r],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"see_previous_text",storageKey:null}],type:"NotifPageSeePreviousButtonRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:o,filters:["environment_alias_override"],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null},{alias:null,args:[{kind:"Literal",name:"promptType",value:"FOOTER"},{kind:"Literal",name:"surface",value:"JEWEL_COMET"}],concreteType:"XFBCometPushTurnOnStatus",kind:"LinkedField",name:"comet_push_turn_on_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_comet_push_turn_on_eligible",storageKey:null}],storageKey:'comet_push_turn_on_status(promptType:"FOOTER",surface:"JEWEL_COMET")'},{alias:null,args:null,concreteType:"BrowserPushConfig",kind:"LinkedField",name:"browser_push_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"browser_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_worker_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("CometNotificationsDropdownQuery_facebookRelayOperation"),metadata:{},name:"CometNotificationsDropdownQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("CometNotificationsInteractionLoggingContext",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useMemo,d=u.useRef;function m(){var e=o("react-compiler-runtime").c(1),t=d(!1),n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n={notifsLoadCompleteRef:t},e[0]=n):n=e[0],n}var p=s.createContext({notifsLoadCompleteRef:{current:!1}});l.useInteractionLoggingRefs=m,l.CometNotificationsInteractionLoggingContext=p}),98);
__d("CometNotificationsFilter.react",["FDSPivotLink.react","filterNulls","react","react-compiler-runtime","requireDeferred","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("NotifFilterClickFalcoEvent").__setRef("CometNotificationsFilter.react"),c=r("requireDeferred")("NotifFilterImpressionFalcoEvent").__setRef("CometNotificationsFilter.react");function d(e){switch(e==null?void 0:e.toLowerCase()){case"priority":return"click_priority_filter";case"unread":return"click_unread_filter";case"friends":return"click_friends_filter";case"my ads":return"click_ads_filter";case"new followers":return"click_new_followers_filter";case"all":default:return"click_all_filter"}}function m(e){switch(e==null?void 0:e.toLowerCase()){case"priority":return"impression_priority_filter";case"unread":return"impression_unread_filter";case"friends":return"impression_friends_filter";case"my ads":return"impression_ads_filter";case"new followers":return"impression_new_followers_filter";case"all":default:return"impression_all_filter"}}function p(e){var t=o("react-compiler-runtime").c(21),n=e.actorId,a=e.name,i=e.notifFilterToken,l=e.selectedFilterTokens,p=e.setFilterTokens,_=n!=null?n:"",f;t[0]!==_?(f={ref:"www_tab",userID:_},t[0]=_,t[1]=f):f=t[1];var g=f,h;t[2]!==a||t[3]!==g?(h={onVisible:function(){c.onReady(function(e){var t=e.log;t(function(){return babelHelpers.extends({},g,{event:m(a)})})})}},t[2]=a,t[3]=g,t[4]=h):h=t[4];var y=r("useVisibilityObserver")(h);if(a==null)return null;var C;t[5]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x9f619 x5yr21d xf159sx"},t[5]=C):C=t[5];var b;t[6]!==a||t[7]!==i||t[8]!==g||t[9]!==p?(b=function(){p(r("filterNulls")([i])),u.onReady(function(e){var t=e.log;return t(function(){return babelHelpers.extends({},g,{event:d(a)})})})},t[6]=a,t[7]=i,t[8]=g,t[9]=p,t[10]=b):b=t[10];var v;t[11]!==i||t[12]!==l?(v=l==null?void 0:l.includes(i),t[11]=i,t[12]=l,t[13]=v):v=t[13];var S;t[14]!==a||t[15]!==b||t[16]!==v?(S=s.jsx(r("FDSPivotLink.react"),{label:a,onPress:b,selected:v,type:"deemphasized"}),t[14]=a,t[15]=b,t[16]=v,t[17]=S):S=t[17];var R;return t[18]!==y||t[19]!==S?(R=s.jsx("div",babelHelpers.extends({},C,{ref:y,children:S})),t[18]=y,t[19]=S,t[20]=R):R=t[20],R}l.default=p}),98);
__d("CometNotificationsFilters_filters.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsFilters_filters",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[{kind:"InlineFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},action:"THROW",path:"filters.title.text"}],storageKey:null},action:"THROW",path:"filters.title"},{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null},action:"THROW",path:"filters"}],type:"NotifPageFilterConfig",abstractKey:null};a.exports=e}),null);
__d("CometNotificationsFilters.react",["fbt","CometNotificationsFilter.react","CometNotificationsFilters_filters.graphql","CometRelay","FocusGroup.react","focusScopeQueries","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.startTransition,p=d.useOptimistic,_=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),f=_[0],g=_[1];function h(t){var a,i=o("react-compiler-runtime").c(9),l=t.actorId,u=t.filterConfig,d=t.setFilterTokens,_=(a=r("qex")._("3873"))!=null?a:!1,h=o("CometRelay").useFragment(e!==void 0?e:e=n("CometNotificationsFilters_filters.graphql"),u),y=p(h==null?void 0:h.selected_filter_tokens),C=y[0],b=y[1],v=_?C:h==null?void 0:h.selected_filter_tokens,S;i[0]!==d?(S=function(t){m(async function(){b(t),await d(t)})},i[0]=d,i[1]=S):S=i[1];var R=S,L=_?R:d;if(h==null)return null;var E,k;i[2]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Notifications Filters"),k={className:"x78zum5 x1q0g3np x2lah0s x1a02dak xf7dkkf"},i[2]=E,i[3]=k):(E=i[2],k=i[3]);var I;return i[4]!==l||i[5]!==h.filters||i[6]!==v||i[7]!==L?(I=c.jsx(f,{allowModifiers:!0,orientation:"horizontal",preventScrollOnFocus:!1,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:c.jsx("div",babelHelpers.extends({"aria-label":E},k,{role:"toolbar",children:h.filters.map(function(e){var t;return c.jsx(g,{children:c.jsx(r("CometNotificationsFilter.react"),{actorId:l,name:(t=e.title)==null?void 0:t.text,notifFilterToken:e.notif_filter_token,selectedFilterTokens:v,setFilterTokens:L})},e.notif_filter_token)})}))}),i[4]=l,i[5]=h.filters,i[6]=v,i[7]=L,i[8]=I):I=i[8],I}l.default=h}),226);
__d("CometNotificationsListPaginationQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26233113089612671"}),null);
__d("CometNotificationsListPaginationQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometNotificationsListPaginationQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"environment"},{defaultValue:[],kind:"LocalArgument",name:"filter_tokens"},{defaultValue:[],kind:"LocalArgument",name:"notif_cache_ids"},{defaultValue:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"],kind:"LocalArgument",name:"notif_query_flags"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t={kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},r={kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},o={kind:"Variable",name:"notif_query_flags",variableName:"notif_query_flags"},a=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"environment_alias_override",variableName:"environment"},t,{kind:"Variable",name:"first",variableName:"count"},r,o,{kind:"Literal",name:"source",value:"unknown"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},s=[l],u={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:s,storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"prefetch_score",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},g={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometNotificationsListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},t,r,o],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometNotificationsListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[i,{kind:"InlineFragment",selections:[u,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_id",storageKey:null},{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},u],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,p,_,f,g,c],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,f,p,_,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[i],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},g,h,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:n("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},l],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"XFBUfiIconsAndCounts",kind:"LinkedField",name:"ufi_icons_and_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi_counts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ufi_icon_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"44kVfU"}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometRisingFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"RisingFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometGroupsNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometXIPaidexNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XIPaidexNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometAPPlusPostWaitlistNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"APPlusPostWaitlistNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCustomBadgeNameIsLiveNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeNameIsLiveNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCreatorCustomBadgeUserUpgradeNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeUserUpgradeNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometFXFetaUpgradeSuccessNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FXFetaUpgradeSuccessNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:"44kVfU")'}],storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,h,p],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"see_previous_text",storageKey:null}],type:"NotifPageSeePreviousButtonRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:a,filters:["environment_alias_override"],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"}],storageKey:null}]},params:{id:n("CometNotificationsListPaginationQuery_facebookRelayOperation"),metadata:{},name:"CometNotificationsListPaginationQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("CometNotificationsList_viewerConnection.graphql",["CometNotificationsListPaginationQuery.graphql"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=["notifications_page"],t={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"prefetch_score",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},u={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"environment"},{defaultValue:[],kind:"LocalArgument",name:"filter_tokens"},{defaultValue:[],kind:"LocalArgument",name:"notif_cache_ids"},{defaultValue:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"],kind:"LocalArgument",name:"notif_query_flags"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["viewer"],operation:n("CometNotificationsListPaginationQuery.graphql")}},name:"CometNotificationsList_viewerConnection",selections:[{alias:"notifications_page",args:[{kind:"Variable",name:"environment_alias_override",variableName:"environment"}],concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"__CometNotificationsList_notifications_page_comet_notifications_thin_client",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsFilters_filters"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_id",storageKey:null},{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},t,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null}],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[a,i,l,s,u,t],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[a,s,i,l,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null}],storageKey:null},u,{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},{args:null,kind:"FragmentSpread",name:"CometToastNotification_notification"},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"44kVfU"}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometRisingFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"RisingFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometGroupsNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometXIPaidexNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XIPaidexNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometAPPlusPostWaitlistNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"APPlusPostWaitlistNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCustomBadgeNameIsLiveNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeNameIsLiveNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCreatorCustomBadgeUserUpgradeNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeUserUpgradeNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometFXFetaUpgradeSuccessNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FXFetaUpgradeSuccessNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:"44kVfU")'}],storageKey:null}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null}],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"see_previous_text",storageKey:null}],type:"NotifPageSeePreviousButtonRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Viewer",abstractKey:null}})();a.exports=e}),null);
__d("CometNotificationsList_viewerData.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsList_viewerData",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"},{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null},{alias:null,args:[{kind:"Literal",name:"promptType",value:"FOOTER"},{kind:"Literal",name:"surface",value:"JEWEL_COMET"}],concreteType:"XFBCometPushTurnOnStatus",kind:"LinkedField",name:"comet_push_turn_on_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_comet_push_turn_on_eligible",storageKey:null}],storageKey:'comet_push_turn_on_status(promptType:"FOOTER",surface:"JEWEL_COMET")'},{args:null,kind:"FragmentSpread",name:"CometNotificationsPushTurnOnPrompt_viewerData"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometNotificationsRenderLocations",[],(function(t,n,r,o,a,i){"use strict";var e="dropdown",l="rail";i.DROPDOWN=e,i.RAIL=l}),66);
__d("CometNotificationsScrollHoldingContainer.react",["BaseScrollableAreaContext","HiddenSubtreePassiveContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useLayoutEffect,p=u.useRef;function _(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.firstNotificationID,i=c(r("BaseScrollableAreaContext")),l=c(r("HiddenSubtreePassiveContext")),u=p(null),_=p(null),f=p(null),g=p(0),h=i[i.length-1],y,C;t[0]!==h?(y=function(){var e=h.getDOMNode();if(e!=null){g.current=e.scrollTop;var t=function(){g.current=e.scrollTop};return e.addEventListener("scroll",t,{passive:!0}),(function(){e.removeEventListener("scroll",t)})}},C=[h],t[0]=h,t[1]=y,t[2]=C):(y=t[1],C=t[2]),d(y,C);var b;t[3]!==a||t[4]!==l||t[5]!==h?(b=function(){if(u.current!=null&&!l.getCurrentState().hiddenOrBackgrounded_FIXME){var e=u.current.getBoundingClientRect();if(f.current!=null&&_.current!=null){var t=e.height-f.current.height;if(t===0||_.current===a){_.current=a,f.current=e;return}var n=h.getDOMNode();n!=null&&(n.scrollTop===g.current||f.current==null)&&(n.scrollTop=n.scrollTop+t)}_.current=a,f.current=e}},t[3]=a,t[4]=l,t[5]=h,t[6]=b):b=t[6],m(b,void 0);var v;return t[7]!==n?(v=s.jsx("div",{ref:u,children:n}),t[7]=n,t[8]=v):v=t[8],v}l.default=_}),98);
__d("useHandleUpdateMultiNotifReadState",["CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","FBLogger","react-compiler-runtime","useGetCancellableSeenStateCallback","useTriggerAccessibilityAlert"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.accessibilityString,n=e.environment,a=e.queryEnvironment,i=e.queryID,l=e.receivedNotificationIdsRef,s=e.timestamp,u=e.triggerAccessibilityAlert;l==null||l.current==null||o("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(n,{environment:a,input:{environment:a,is_comet:!0,last_notif_sync_time:s,notif_ids:Array.from(l.current),query_id:i,source:"unknown",update_type:"MARK_ALL_READ"}},{mutationLogger:o("CometNotificationsMutationLogger").notificationMarkAllAsReadStart,onError:function(t){r("FBLogger")("Notifications").catching(t).mustfix("Update read state (multi) mutation failed with an error")},onSuccess:function(){t!=null&&u!=null&&u(t)},updater:function(t){o("CometNotificationsUpdateSeenStateMutation").updateMultiNotifReadState(t),o("CometNotificationsUpdateSeenStateMutation").clearBadgeCount(t)}})}function s(t){var n=o("react-compiler-runtime").c(3),a=r("useTriggerAccessibilityAlert")(),i;return n[0]!==t||n[1]!==a?(i=babelHelpers.extends({},t,{triggerAccessibilityAlert:a,updater:e}),n[0]=t,n[1]=a,n[2]=i):i=n[2],r("useGetCancellableSeenStateCallback")(i)}l.default=s}),98);
__d("useThrottledMarkNotificationsAsSeen",["CometRelay","CometThrottle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.accessibilityString,n=e.mutationLogger,a=e.notifId,i=e.queryEnvironment,l=e.queryID,u=e.receivedNotificationIdsRef,c=e.seenState,d=e.timestamp,m=e.triggerAccessibilityAlert,p=e.updater,_=e.updateType,f=o("CometRelay").useRelayEnvironment();return s(function(){return r("CometThrottle")(function(){p({accessibilityString:t,environment:f,mutationLogger:n,notifId:a,queryEnvironment:i,queryID:l,receivedNotificationIdsRef:u,seenState:c,timestamp:d,triggerAccessibilityAlert:m,updateType:_})},1e3,{leading:!0})},[p,t,f,n,a,i,l,u,c,d,m,_])}l.default=u}),98);
__d("useHandleUpdateMultiNotifSeenState",["CometFeedsNotificationsUpdateSeenStateMutation","CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","FBLogger","react-compiler-runtime","useIsDsaNotifications","useThrottledMarkNotificationsAsSeen"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.environment,n=e.queryEnvironment,a=e.queryID,i=e.receivedNotificationIdsRef,l=e.timestamp;i==null||i.current==null||o("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(t,{environment:n,input:{environment:n,is_comet:!0,last_notif_sync_time:l,notif_ids:Array.from(i.current),query_id:a,source:"unknown",update_type:"MARK_ALL_SEEN"}},{mutationLogger:o("CometNotificationsMutationLogger").notificationMarkAllAsSeenStart,onError:function(t){r("FBLogger")("Notifications").catching(t).mustfix("Update seen state (multi) mutation failed with an error: ")},updater:function(t){o("CometNotificationsUpdateSeenStateMutation").updateMultiNotifSeenState(t),o("CometNotificationsUpdateSeenStateMutation").clearBadgeCount(t)}})}function s(e){var t=e.environment,n=e.queryEnvironment,a=e.queryID,i=e.receivedNotificationIdsRef,l=e.timestamp;i==null||i.current==null||o("CometFeedsNotificationsUpdateSeenStateMutation").CometFeedsNotificationsUpdateSeenStateMutation(t,{input:{environment:n,is_comet:!0,last_notif_sync_time:l,notif_ids:Array.from(i.current),query_id:a,source:"unknown",update_type:"MARK_ALL_SEEN"}},{mutationLogger:o("CometNotificationsMutationLogger").notificationMarkAllAsSeenStart,onError:function(t){r("FBLogger")("Notifications").catching(t).mustfix("Update feeds seen state (multi) mutation failed with an error: ")},updater:function(t){o("CometNotificationsUpdateSeenStateMutation").updateMultiNotifSeenState(t)}})}function u(t){var n=o("react-compiler-runtime").c(3),a=r("useIsDsaNotifications")(),i=a?s:e,l;return n[0]!==t||n[1]!==i?(l=babelHelpers.extends({},t,{updater:i}),n[0]=t,n[1]=i,n[2]=l):l=n[2],r("useThrottledMarkNotificationsAsSeen")(l)}l.default=u}),98);
__d("CometNotificationsList.react",["fbt","CometErrorBoundary.react","CometInfiniteScrollSuspenseList.react","CometNoNotifications.react","CometNotificationsBucketHeaderListItem.react","CometNotificationsContext","CometNotificationsFilters.react","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListItem.react","CometNotificationsList_viewerConnection.graphql","CometNotificationsList_viewerData.graphql","CometNotificationsRenderLocations","CometNotificationsRootContext","CometNotificationsScrollHoldingContainer.react","CometOnRefresh","CometPlaceholder.react","CometRelay","FBLogger","FDSButton.react","FDSListCellGlimmer.react","FocusRegion.react","FriendingCometFriendsBadgeCountClearMutation","HiddenSubtreeContext","JSResourceForInteraction","WebPixelRatio","cr:1460543","cr:3701","err","focusScopeQueries","getErrorSafe","gkx","promiseDone","qex","react","requireDeferred","setupNotificationsLiveQuery","useHandleUpdateMultiNotifReadState","useHandleUpdateMultiNotifSeenState","useHideNotificationsToasts","useNotificationsEnvironmentFromContext","useSimpleImpression","useToasterStateManager","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["ref"],u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useCallback,h=f.useContext,y=f.useEffect,C=f.useImperativeHandle,b=f.useMemo,v=f.useRef,S=f.useState,R=f.useTransition,L=r("requireDeferred")("CometNotificationsRankingErrorFalcoEvent").__setRef("CometNotificationsList.react"),E=r("requireDeferred")("CometSeeMoreButtonClickFalcoEvent").__setRef("CometNotificationsList.react"),k=r("requireDeferred")("CometSeeMoreButtonImpressionFalcoEvent").__setRef("CometNotificationsList.react"),I=r("requireDeferred")("GriffinTabOpenFalcoEvent").__setRef("CometNotificationsList.react"),T=r("requireDeferred")("NotifDebugModeFalcoEvent").__setRef("CometNotificationsList.react"),D=r("requireDeferred")("NotifListBottomCollisionFalcoEvent").__setRef("CometNotificationsList.react"),x=r("JSResourceForInteraction")("CometToastNotification.react").__setRef("CometNotificationsList.react"),$=r("JSResourceForInteraction")("CometNotificationSound").__setRef("CometNotificationsList.react"),P=(d=r("qex")._("978"))!=null?d:10,N=(m=r("qex")._("990"))!=null?m:.7,M="SHOW_TOAST",w="PLAY_SOUND",A=10;function F(e,t){r("FBLogger")("Notifications").catching(e).mustfix("[CometNotificationsList] %s suffered an uncaught error",t)}function O(e,t){o("CometRelay").commitLocalUpdate(e,function(e){var n=e.get(o("CometRelay").VIEWER_ID);if(!(n==null||t==null)){var r=e.get(t);if(r!=null){var a=r.getLinkedRecords("edges");a==null||a.length===0||a.forEach(function(t){if(t!=null){var n=t.getLinkedRecord("node");if(n!=null){var r=n.getType();r==="NotifPageSeePreviousButtonRow"&&e.delete(n.getDataID())}}})}}})}var B;function W(t){var a,l,d,m,p,f,W,q,U,V=t.ref,H=babelHelpers.objectWithoutPropertiesLoose(t,e),G=o("CometRelay").useRelayEnvironment(),z=R(),j=z[0],K=z[1],Q=H.hideHeaderLinks,X=H.isFromPageNotification,Y=H.onClose,J=H.onSeeAllClick,Z=H.setNewNotifState,ee=H.startNotifFilterTransition,te=r("gkx")("23786"),ne=(a=r("qex")._("3873"))!=null?a:!1,re=o("CometRelay").usePaginationFragment(u!==void 0?u:u=n("CometNotificationsList_viewerConnection.graphql"),H.viewerConnection),oe=re.data,ae=re.hasNext,ie=re.isLoadingNext,le=re.loadNext,se=re.refetch,ue=o("CometRelay").useFragment(c!==void 0?c:c=n("CometNotificationsList_viewerData.graphql"),H.viewer),ce=ue.actor,de=ue.comet_push_turn_on_status,me=ue.last_update_timestamp,pe=ue.notifications_sound_path,_e=ue.notifications_unseen_count,fe=(l=oe.notifications_page)==null?void 0:l.query_id,ge=(d=r("qex")._("519"))!=null?d:!1,he=de==null?void 0:de.is_comet_push_turn_on_eligible,ye=((m=window)==null||(m=m.Notification)==null?void 0:m.permission)==="default",Ce=ge&&he===!0&&ye,be=b(function(){var e,t;return(e=(t=oe.notifications_page)==null?void 0:t.edges)!=null?e:[]},[(p=oe.notifications_page)==null?void 0:p.edges]),ve=ce==null?void 0:ce.id,Se=be.find(function(e){var t=e.node;return t&&t.row_type==="NOTIFICATION"}),Re=Se&&((f=Se.node)==null||(f=f.notif)==null?void 0:f.id),Le=h(r("CometNotificationsContext")),Ee=Le.renderLocation===o("CometNotificationsRenderLocations").RAIL,ke=Le.renderLocation===o("CometNotificationsRenderLocations").DROPDOWN?void 0:"self",Ie=h(r("CometNotificationsRootContext")),Te=Ie.isNotificationsRoute,De=Ie.source,xe=o("WebPixelRatio").get(),$e=v(new Set),Pe=v(!1),Ne=g(function(){T.onReady(function(e){var t=e.log;return t(function(){return{userID:ve}})}),Pe.current===!1?(Pe.current=!0,K(function(){se({notif_query_flags:["IS_COMET","DEBUG_SHOW_INVALIDATED","INCLUDE_WA_P2B_NOTIFS"],scale:xe},{fetchPolicy:"network-only"})})):(Pe.current=!1,K(function(){se({notif_query_flags:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"],scale:xe},{fetchPolicy:"network-only"})}))},[ve,Pe,se,xe,K]);C(V,function(){return{debugModeEnabled:Pe,handleDebugModeClick:function(){Ne()},markAllNotificationsAsRead:function(){Ae()}}});var Me=g(function(){if(!te)try{o("FriendingCometFriendsBadgeCountClearMutation").commit(G,{}),r("promiseDone")(I.load().then(function(e){return e.log(function(){return{}})}))}catch(t){var e=r("getErrorSafe")(t);r("FBLogger")("growth_friending").mustfix("[Comet] FriendingCometFriendsBadgeCountClearMutation failed: ",e.message)}},[G,te]);r("useSimpleImpression")(Me);var we=r("useNotificationsEnvironmentFromContext")(),Ae=r("useHandleUpdateMultiNotifReadState")({accessibilityString:s._(/*BTDS*/"All notifications were marked as read."),queryEnvironment:we,queryID:fe,receivedNotificationIdsRef:$e,timestamp:me}),Fe=r("useHandleUpdateMultiNotifSeenState")({queryEnvironment:we,queryID:fe,receivedNotificationIdsRef:$e,timestamp:me}),Oe=v(be.length);y(function(){Oe.current=be.length},[be.length]);var Be=h(o("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext);y(function(){if(!j){var e=Be.notifsLoadCompleteRef;e&&(e.current=!0),o("CometNotificationsInteractionLogger").success(Oe.current)}},[Be,j,Oe]);var We=g(function(){j||K(function(){se({scale:xe},{fetchPolicy:"network-only"})})},[j,se,xe,K]);o("CometOnRefresh").useOnRefresh(We);var qe=g(function(){ie||!ae||(D.onReady(function(e){return e.log(function(){return{}})}),le(A,{UNSTABLE_extraVariables:{notif_query_flags:["IS_COMET","INCLUDE_WA_P2B_NOTIFS","HIDE_SEE_MORE_BUTTON"]}}))},[ie,ae,le]),Ue=b(function(){return be.map(function(e){var t=e.node,n={};if(t&&t.row_type==="NOTIFICATION"){var r,o,a,i;((r=t.notif)==null?void 0:r.notif_tags)!=null&&(o=t.notif)!=null&&o.notif_tags.includes(M)&&(n.new_notif=t.notif),((a=t.notif)==null?void 0:a.notif_cache_id)!=null&&(n.notif_cache_id=t.notif.notif_cache_id),((i=t.notif)==null?void 0:i.id)!=null&&(n.id=t.notif.id)}return n})},[be]),Ve=S(!1),He=Ve[0],Ge=Ve[1],ze=S(!1),je=ze[0],Ke=ze[1],Qe=g(function(e){var t=Ue.reduce(function(e,t){return t.notif_cache_id!=null?e.concat(t.notif_cache_id):e},[]),n=["IS_COMET"];He&&n.push("HIDE_SEE_MORE_BUTTON"),ne?ee(function(){se({filter_tokens:e,notif_cache_ids:t,notif_query_flags:n,scale:xe},{fetchPolicy:"network-only"})}):se({filter_tokens:e,notif_cache_ids:t,notif_query_flags:n,scale:xe},{fetchPolicy:"network-only"})},[Ue,ne,He,se,xe,ee]);y(function(){B==null&&Ue.forEach(function(e){var t;e.new_notif!=null&&(t=e.new_notif)!=null&&(t=t.notif_tags)!=null&&t.includes(w)&&B==null&&r("promiseDone")($.load().then(function(e){B=e}))})},[Ue,pe]);var Xe=r("useToasterStateManager")(),Ye=v({}),Je=r("useHideNotificationsToasts")();y(function(){if(!Je){var e=!1;Ue.forEach(function(t){var n,o=t.new_notif;if(o!=null&&o!=null&&(n=o.notif_tags)!=null&&n.includes(M)){var a,i;!e&&Z!=null&&(Z(function(e){return e.isScrollAnchorVisible?babelHelpers.extends({},e,{newNotifId:o==null?void 0:o.id}):babelHelpers.extends({},e,{isNewNotifSeen:!1,newNotifId:o==null?void 0:o.id})}),e=!0);var l=o,s=l.notif_id,u=(a=l.creation_time)==null?void 0:a.timestamp,c=l.notif_attachments,d;if(c!=null){var m;d=(m=c.find(function(e){return e.sound_urls!=null}))==null?void 0:m.sound_urls}var p=(i=l.notif_tags)==null?void 0:i.includes(w);if(s!=null&&u!=null&&Ye.current[s+u]==null&&l.seen_state==="UNSEEN_AND_UNREAD"){var f;r("promiseDone")(x.load().then(function(e){Ye.current[s+u]==null&&(f=Xe.push(_.jsx(e,{actor:ce,notification:l,onCloseClick:function(){return Xe.expire(f)}}),5e3),Ye.current[s+u]=f)}),function(){if(p===!0&&B!=null){var e=d!=null?d:pe;new B(e).play(String(f))}})}}})}},[ce,ve,pe,Ue,Je,Z,Xe]);var Ze=be.length,et=S(null),tt=et[0],nt=et[1],rt=h(r("HiddenSubtreeContext")).hiddenOrBackgrounded,ot=r("useVisibilityObserver")({onHidden:function(){return nt(!1)},onVisible:function(){return nt(!0)}}),at=(W=oe.notifications_page)==null?void 0:W.__id,it=(q=oe.notifications_page)==null?void 0:q.filter_config,lt=it==null?void 0:it.selected_filter_tokens;y(function(){var e=new Set;Ue.forEach(function(t){t.notif_cache_id!=null&&e.add(t.notif_cache_id),t.id!=null&&$e.current.add(t.id)});var t=Ze||15,n=r("setupNotificationsLiveQuery")(G,{count:t,filterTokens:lt,receivedNotifications:e});return function(){n.dispose()}},[Ue,Ze,G,lt]),y(function(){var e=!1;Ue.forEach(function(t){(t==null?void 0:t.seen_state)==="UNSEEN_AND_UNREAD"&&(e=!0)});var t=_e!=null&&_e>0;tt===!0&&!rt&&(t||e)&&Fe()},[Ue,Fe,rt,tt,_e]);var st=g(function(){O(G,at),bt(function(){Ge(!0),le(A,{UNSTABLE_extraVariables:{notif_query_flags:["IS_COMET","INCLUDE_WA_P2B_NOTIFS","HIDE_SEE_MORE_BUTTON"]}})}),r("promiseDone")(E.load().then(function(e){e.log(function(){return{event:"comet_see_more_button_click",row_type:"NotifPageSeeMoreButton"}})}))},[at,G,le]),ut=r("useVisibilityObserver")({onVisible:function(){r("promiseDone")(k.load().then(function(e){e.log(function(){return{event:"comet_see_more_button_impression",row_type:"NotifPageSeeMoreButton"}})}))}}),ct=g(function(e){return ae?_.jsx("div",{className:"xw7yly9 x1yztbdb xyqm7xq x1ys307a",ref:ut,children:_.jsx(r("FDSButton.react"),{label:e!=null?e:"",onPress:st,testid:void 0,type:"secondary"})},"see-previous-button"):null},[ae,st,ut]),dt=b(function(){var e=null,t=[],a=new Map,l=0;return be.forEach(function(s,u){var c=s.node,d={row_tracking:c==null?void 0:c.tracking};if(c!=null){var m=c.row_type;switch(m){case"NOTIFICATION":{var p,f=c.notif,g=c.prefetch_score,h=g!=null?g:0;if(!f)return;d.notif_tracking=f.tracking;var y=f.notif_id,C=f==null?void 0:f.seen_state;e==="PRIORITY_INBOX"&&y!=null&&C!=null&&a.set(y,C);var b=h>=N&&l<P,v={actor:ce,isFromPageNotification:X,isNotificationsRoute:Te,onClose:Y,queryID:fe,replace:Ee&&!Te?!0:void 0,routeTarget:!Te||De==="FEEDS"?ke:"content",shouldPrefetch:b,showSelectedState:Ee,trackingData:d};if(((p=f.navigation_endpoint)==null?void 0:p.comet_custom_renderer)!=null)t.push(_.jsx(r("CometErrorBoundary.react"),{onError:function(t){return F(t,"CometNotificationsListItemMatchContainer")},children:_.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:_.jsx(o("CometRelay").MatchContainer,{match:f.navigation_endpoint.comet_custom_renderer,props:v})})},y));else{var S;if((S=f.__fragments)!=null&&S.CometNotificationsListItem_notification)t.push(_.jsx(r("CometErrorBoundary.react"),{onError:function(t){return F(t,"CometNotificationsListItem")},children:_.jsx(r("CometNotificationsListItem.react"),babelHelpers.extends({},v,{notification:f,preventLocalNavigation:!1,queryID:fe}))},y));else{var R=r("err")("Missing fragment for notif: "+JSON.stringify(f),JSON.stringify(be));F(R,"CometNotificationsListItemMissingFragment")}}l++;break}case"BUCKET_HEADER":{var L;e=c==null?void 0:c.bucket_type;var E=c==null||(L=c.title)==null?void 0:L.text,k,I;if(Q!==!0){var T,D;k=c==null||(T=c.header_link)==null?void 0:T.text,I=c==null||(D=c.header_link)==null?void 0:D.url}t.push(_.jsx("div",{className:"x1rdy4ex",role:"listitem",children:_.jsx(r("CometNotificationsBucketHeaderListItem.react"),{actorId:ve,bucketHeader:e,filterTokens:lt,headerLinkText:k,onPress:function(){J("bucket.header.link."+(e!=null?e:"null"))},title:E,trackingData:d,url:I})},e));break}case"DEBUG_INVALIDATION":{if(!n("cr:1460543"))return;var x=c.invalidation_reason,$=c.notif;if($==null){r("FBLogger")("Notifications").mustfix("NotifPageDebugInvalidationRow missing notif");return}var M=$.notif_id,w=$.notif_type;if(w==null||M==null)return;t.push(_.jsx(n("cr:1460543"),{exception:x,notifType:w,notificationNotifId:M},M));break}case"SEE_PREVIOUS_BUTTON":{var A=c==null?void 0:c.see_previous_text;t.push(ct(A));break}default:break}}}),[t,a]},[ce,ve,be,ct,Q,X,Ee,Te,ke,Y,J,fe,lt,De]),mt=dt[0],pt=dt[1],_t=b(function(){return be.some(function(e){var t;return(e==null||(t=e.node)==null?void 0:t.row_type)==="SEE_PREVIOUS_BUTTON"})},[be]),ft=(U=r("qex")._("861"))!=null?U:!1,gt=ft&&_t===!0&&!He,ht=pt.values().next().value==="UNSEEN_AND_UNREAD";y(function(){!rt&&_e!=null&&_e>0&&!ht&&L.onReady(function(e){e.log(function(){return{bucketed_notifs:Object.fromEntries(pt),unseen_count:_e}})})},[ht,rt,pt,_e]);var yt=R(),Ct=yt[0],bt=yt[1];return _.jsxs("div",{"aria-label":s._(/*BTDS*/"Notifications"),"data-testid":void 0,ref:ot,role:"list",children:[_.jsx(r("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(t){return F(t,"CometNotificationsFilters")},children:_.jsx(r("CometNotificationsFilters.react"),{actorId:ve,filterConfig:it,setFilterTokens:Qe})}),j&&_.jsx(r("FDSListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:1}),be.length>0?_.jsx(o("FocusRegion.react").FocusRegion,{recoverFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:_.jsxs(r("CometNotificationsScrollHoldingContainer.react"),{firstNotificationID:Re,children:[n("cr:3701")!=null&&Ce&&!je&&_.jsx(r("CometErrorBoundary.react"),{onError:function(t){return F(t,"CometNotificationsPushTurnOnPrompt")},children:_.jsx(n("cr:3701"),{props:{setHasClickedPushPrompt:Ke,viewerData:ue}})},"CometNotificationsPushTurnOnPrompt"),_.jsx(r("CometInfiniteScrollSuspenseList.react"),{hasMore:ae&&_t===!1&&!gt,isLoading:ie,listGlimmer:_.jsx(r("FDSListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:2}),onLoadMore:qe,children:mt.filter(Boolean)})]})}):_.jsx(r("CometNoNotifications.react"),{loggingSurface:"comet",userId:ve}),_.jsx("div",{"data-testid":void 0})]})}W.displayName=W.name+" [from "+i.id+"]",l.default=W}),226);
__d("CometNotificationsListWrapper_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:[],kind:"LocalArgument",name:"filter_tokens"}],kind:"Fragment",metadata:null,name:"CometNotificationsListWrapper_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"}],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNotificationsList_viewerData"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometNotificationsListWrapper.react",["fbt","CometLeftRailHeader.react","CometLeftRailNewContentPill.react","CometNotificationsActionsButton.react","CometNotificationsContext","CometNotificationsList.react","CometNotificationsListItemSeenContext","CometNotificationsListWrapper_viewer.graphql","CometNotificationsRenderLocations","CometProductAttributionContextProvider.react","CometRelay","CometRouterDispatcherContextFactory.react","CometScrollView.react","CometTopNavListDropdownCard.react","FDSProgressRingIndeterminate.react","ODS","mergeRefs","qex","react","setTimeout","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useCallback,_=m.useContext,f=m.useEffect,g=m.useMemo,h=m.useRef,y=m.useState,C=m.useTransition;function b(t){var a,i,l,u=t.hideHeaderLinks,m=t.onClose,b=t.useFullWidth,v=t.viewer,S=h(null),R=_(r("CometNotificationsContext")),L=R.renderLocation===o("CometNotificationsRenderLocations").DROPDOWN,E=R.renderLocation===o("CometNotificationsRenderLocations").RAIL||b,k=h(null),I=o("CometRelay").useFragment(e!==void 0?e:e=n("CometNotificationsListWrapper_viewer.graphql"),v),T=y({isNewNotifSeen:!0,isScrollAnchorVisible:!0,newNotifId:void 0}),D=T[0],x=T[1],$=(a=I==null||(i=I.actor)==null?void 0:i.id)!=null?a:null,P=y(!1),N=P[0],M=P[1],w=(l=r("qex")._("3873"))!=null?l:!1,A=C(),F=A[0],O=A[1];f(function(){D.newNotifId!=null&&D.isScrollAnchorVisible===!1&&D.isNewNotifSeen===!1?M(!0):M(!1)},[D]);var B=r("useVisibilityObserver")({onHidden:function(t){var e=t.hiddenReason;e!=="COMPONENT_UNMOUNTED"&&x(babelHelpers.extends({},D,{isScrollAnchorVisible:!1}))},onVisible:function(){x(babelHelpers.extends({},D,{isScrollAnchorVisible:!0}))}}),W=h(!1),q=g(function(){return r("mergeRefs")(k,B)},[k,B]),U=p(function(){k.current&&k.current.scrollIntoView({behavior:"smooth",block:"start"}),W.current=!1},[]),V=p(function(){if(N){if(W.current===!1){r("setTimeout")(function(){W.current=!0},100);return}W.current=!1}},[N]),H=N?d.jsx(r("CometLeftRailNewContentPill.react"),{onClick:U,children:s._(/*BTDS*/"See new notifications")}):null,G=p(function(e){e===D.newNotifId&&x(function(e){return babelHelpers.extends({},e,{isNewNotifSeen:!0})})},[D.newNotifId]),z=function(t){(c||(c=o("ODS"))).bumpEntityKey(3478,"comet_notifications.list","see_all.click."+t),m&&m()};return d.jsxs(d.Fragment,{children:[d.jsx(r("CometTopNavListDropdownCard.react"),{testid:void 0,useFullWidth:E,useMaxHeight:L,children:d.jsxs(r("CometScrollView.react"),{onScroll:V,showsHorizontalScrollIndicator:!1,children:[d.jsx("div",{className:"xjm9jq1 xtijo5x x10l6tqk x13vifvy",ref:q},"firstChildScrollAnchor"),d.jsx(r("CometLeftRailHeader.react"),{auxiliary:d.jsxs("div",{className:"x78zum5 xl56j7k x1wsgfga x9otpla",children:[w&&F&&d.jsx("div",{className:"x6s0dn4 x78zum5 xmzvs34 xf159sx",children:d.jsx(r("FDSProgressRingIndeterminate.react"),{color:"blue",size:24})}),d.jsx(r("CometNotificationsActionsButton.react"),{actorId:$,notificationsListRef:S,onSeeAllClick:function(){return z("dropdown")}})]}),disableProportional:!0,title:s._(/*BTDS*/"Notifications")}),d.jsx(r("CometProductAttributionContextProvider.react"),{value:"notifications",children:d.jsx(r("CometNotificationsListItemSeenContext").Provider,{value:G,children:d.jsx(r("CometRouterDispatcherContextFactory.react"),{actorID:null,children:d.jsx(r("CometNotificationsList.react"),{hideHeaderLinks:u,onClose:m,onSeeAllClick:z,ref:S,setNewNotifState:x,startNotifFilterTransition:O,viewer:I,viewerConnection:I})})})})]})}),H]})}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("CometNotificationsDropdown.react",["fbt","CometErrorBoundary.react","CometHero.react","CometNotificationsContext","CometNotificationsDropdownQuery.graphql","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListWrapper.react","CometNotificationsRenderLocations","CometRelay","CometTopNavListDropdown.react","FBLogger","react","react-compiler-runtime","updateWidgetServiceWorker"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useEffect,_=d.useMemo,f=e!==void 0?e:e=n("CometNotificationsDropdownQuery.graphql");function g(){var e=o("react-compiler-runtime").c(3),t=m(o("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext),n=t.notifsLoadCompleteRef;o("CometNotificationsInteractionLogger").start("dropdown");var r,a;e[0]!==n?(r=function(){var e=n.current;return(function(){e!==!0&&o("CometNotificationsInteractionLogger").cancel()})},a=[n],e[0]=n,e[1]=r,e[2]=a):(r=e[1],a=e[2]),p(r,a)}function h(e){var t=o("react-compiler-runtime").c(9);g();var n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],t[0]=n):n=t[0],p(y,n);var a=o("CometRelay").usePreloadedQuery(f,e.queries.notificationsDropdownQueryReference),i=a==null?void 0:a.viewer;if(i==null)throw r("FBLogger")("Notifications").mustfixThrow("viewer cannot be null when querying for notifications");var l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={renderLocation:o("CometNotificationsRenderLocations").DROPDOWN},t[1]=l):l=t[1];var u=l,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(r("CometHero.react"),{description:"NotificationList"}),t[2]=d):d=t[2];var m;t[3]!==e.props.onClose||t[4]!==i?(m=c.jsxs(c.Fragment,{children:[d,c.jsx(r("CometNotificationsContext").Provider,{value:u,children:c.jsx(r("CometNotificationsListWrapper.react"),{onClose:e.props.onClose,viewer:i})})]}),t[3]=e.props.onClose,t[4]=i,t[5]=m):m=t[5];var _=m,h;t[6]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"Notifications"),t[6]=h):h=t[6];var C;return t[7]!==_?(C=c.jsx(r("CometTopNavListDropdown.react"),{label:h,name:"NotificationList",children:_}),t[7]=_,t[8]=C):C=t[8],C}function y(){r("updateWidgetServiceWorker")()}function C(e){var t=o("CometNotificationsInteractionLoggingContext").useInteractionLoggingRefs();return c.jsx(r("CometErrorBoundary.react"),{onError:function(n){t.notifsLoadCompleteRef&&(t.notifsLoadCompleteRef.current=!0),o("CometNotificationsInteractionLogger").error(n)},children:c.jsx(o("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext.Provider,{value:t,children:c.jsx(h,babelHelpers.extends({},e))})})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),226);
__d("CometNotificationsPushTurnOnMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9613971575362047"}),null);
__d("CometNotificationsPushTurnOnMutation.graphql",["CometNotificationsPushTurnOnMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XFBLogPushTurnOnPromptEventResponsePayload",kind:"LinkedField",name:"xfb_log_push_turn_on_prompt_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometNotificationsPushTurnOnMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometNotificationsPushTurnOnMutation",selections:t},params:{id:n("CometNotificationsPushTurnOnMutation_facebookRelayOperation"),metadata:{},name:"CometNotificationsPushTurnOnMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometNotificationsPushTurnOnMutation",["CometNotificationsPushTurnOnMutation.graphql","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometNotificationsPushTurnOnMutation.graphql");function u(e,t,n){return o("CometRelay").commitMutation(e,{mutation:s,onCompleted:function(t){n&&n.onSuccess(t)},onError:n&&n.onError,variables:t})}l.doPushTurnOnMutation=u}),98);
__d("CometNotificationsPushTurnOnPrompt_viewerData.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsPushTurnOnPrompt_viewerData",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"BrowserPushConfig",kind:"LinkedField",name:"browser_push_config",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"browser_name",storageKey:null},action:"NONE",path:"browser_push_config.browser_name"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"service_worker_uri",storageKey:null},action:"NONE",path:"browser_push_config.service_worker_uri"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"app_id",storageKey:null},action:"NONE",path:"browser_push_config.app_id"}],storageKey:null},action:"NONE",path:"browser_push_config"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"NONE",path:"actor.id"}],storageKey:null},action:"NONE",path:"actor"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useInstallPush",["BrowserPushDirectPromptInstallerComet","ODS","PushNotificationsEventEmitter","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e){var t=o("react-compiler-runtime").c(8),n=e.actorID,a=e.appID,i=e.browserName,l=e.path,u=e.onInstall,c=e.setIsPushEnabled,d=e.setIsUpdating,m=u===void 0?r("emptyFunction"):u,p;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==m||t[4]!==l||t[5]!==c||t[6]!==d?(p=function(){(s||(s=o("ODS"))).bumpEntityKey(6486,"comet_push_notif_settings","install."+i),c(!0),d(!0),r("PushNotificationsEventEmitter").emit("openInstallPush",{appID:a,browserName:i,hideRequestOverlay:!0,onInstall:m,path:l,workerIsForPushOnly:!0}),o("BrowserPushDirectPromptInstallerComet").logUserSettingAction(n,a.toString(),"turn_on","off","on","CometPushNotificationSettings")},t[0]=n,t[1]=a,t[2]=i,t[3]=m,t[4]=l,t[5]=c,t[6]=d,t[7]=p):p=t[7],p}l.default=c}),98);
__d("useListenToBrowserPermission",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(6),n=e.installPush,r=e.setNotificationsBlocked,a=e.setWaitingForBrowserPermission,i=e.waitingForBrowserPermission,l,u;t[0]!==n||t[1]!==r||t[2]!==a||t[3]!==i?(l=function(){if(!window.Notification)return c;var e=window.setInterval(function(){var e,t=((e=window)==null||(e=e.Notification)==null?void 0:e.permission)==="denied";r(t),i&&!t&&(n(),a(!1))},2e3);return(function(){return window.clearInterval(e)})},u=[r,i,a,n],t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=l,t[5]=u):(l=t[4],u=t[5]),s(l,u)}function c(){}l.default=u}),98);
__d("useOpenInstructionsDialogOnButtonPress",["fbt","ODS","cr:7019","react","react-compiler-runtime","useCometAlertDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=r("react")),m=(e||(e=o("react"))).useCallback;function p(e){var t=o("react-compiler-runtime").c(4),a=e.browserName,i=e.setWaitingForBrowserPermission,l=r("useCometAlertDialog")(),c;return t[0]!==a||t[1]!==i||t[2]!==l?(c=function(){(u||(u=o("ODS"))).bumpEntityKey(6486,"comet_push_notif_settings","browser_permission."+a),i(!0),l({body:d.jsx(n("cr:7019"),{browserName:a}),title:s._(/*BTDS*/"Turn on Facebook Notifications")})},t[0]=a,t[1]=i,t[2]=l,t[3]=c):c=t[3],c}l.default=p}),226);
__d("useValidatePushInstall",["BrowserPushDirectPromptInstallerComet","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(5),n=e.appID,a=e.path,i=e.setIsPushEnabled,l,u;t[0]!==n||t[1]!==a||t[2]!==i?(l=function(){r("promiseDone")(o("BrowserPushDirectPromptInstallerComet").genPushSubscription(a,n),function(e){i(e!=null)})},u=[a,n,i],t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u):(l=t[3],u=t[4]),s(l,u)}l.default=u}),98);
__d("CometNotificationsPushTurnOnPrompt.react",["fbt","CometNotificationsPushTurnOnMutation","CometNotificationsPushTurnOnPrompt_viewerData.graphql","FDSButtonGroup.react","FDSContextualMessage.react","RelayHooks","XCometSettingsControllerRouteBuilder","cometPushToast","emptyFunction","goUriOnNewWindow","react","react-compiler-runtime","useInstallPush","useListenToBrowserPermission","useOpenInstructionsDialogOnButtonPress","useValidatePushInstall"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useState,_={action:{label:s._(/*BTDS*/"Edit"),onPress:function(){r("goUriOnNewWindow")(r("XCometSettingsControllerRouteBuilder").buildURL({tab:"notifications"}))},testid:"EditSettingsFromPush"},href:r("XCometSettingsControllerRouteBuilder").buildURL({tab:"notifications"}),message:s._(/*BTDS*/"Your push notifications are on. You can customize them anytime in Settings."),target:"_blank",truncateText:!1};function f(e){var t=o("react-compiler-runtime").c(47),n=e.props,a=o("RelayHooks").useRelayEnvironment(),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={event_type:"RESPONSE",prompt_type:"HEADER",surface:"JEWEL_COMET"},t[0]=i):i=t[0];var l=i,u=n.data,d=u.actor,m=u.browser_push_config,_;t[1]!==m?(_=m||{},t[1]=m,t[2]=_):_=t[2];var f=_,h=f.app_id,y=f.browser_name,C=f.service_worker_uri,b=Number(h),v=d==null?void 0:d.id,S=p(!1),R=S[0],L=S[1],E=p(!1),k=E[0],I=E[1],T=g,D;t[3]!==v||t[4]!==b||t[5]!==y||t[6]!==C?(D={actorID:v,appID:b,browserName:y,onInstall:T,path:C,setIsPushEnabled:r("emptyFunction"),setIsUpdating:r("emptyFunction")},t[3]=v,t[4]=b,t[5]=y,t[6]=C,t[7]=D):D=t[7];var x=r("useInstallPush")(D),$;t[8]!==x||t[9]!==R?($={installPush:x,setNotificationsBlocked:I,setWaitingForBrowserPermission:L,waitingForBrowserPermission:R},t[8]=x,t[9]=R,t[10]=$):$=t[10],r("useListenToBrowserPermission")($);var P;t[11]!==y?(P={browserName:y,setWaitingForBrowserPermission:L},t[11]=y,t[12]=P):P=t[12];var N=r("useOpenInstructionsDialogOnButtonPress")(P),M;t[13]!==b||t[14]!==C?(M={appID:b,path:C,setIsPushEnabled:r("emptyFunction")},t[13]=b,t[14]=C,t[15]=M):M=t[15],r("useValidatePushInstall")(M);var w;t[16]!==x||t[17]!==k||t[18]!==N?(w=function(){k?N():x()},t[16]=x,t[17]=k,t[18]=N,t[19]=w):w=t[19];var A=w;if(d==null)return null;var F;t[20]===Symbol.for("react.memo_cache_sentinel")?(F={className:"xyqm7xq x1ys307a x1xmf6yo"},t[20]=F):F=t[20];var O;t[21]===Symbol.for("react.memo_cache_sentinel")?(O=s._(/*BTDS*/"Turn on"),t[21]=O):O=t[21];var B;t[22]!==a||t[23]!==A||t[24]!==n?(B=function(){n.setHasClickedPushPrompt(!0),A(),o("CometNotificationsPushTurnOnMutation").doPushTurnOnMutation(a,{input:babelHelpers.extends({},l,{answer:"ACCEPT"})})},t[22]=a,t[23]=A,t[24]=n,t[25]=B):B=t[25];var W;t[26]!==B||t[27]!==O?(W={label:O,onPress:B,reduceEmphasis:!0},t[26]=B,t[27]=O,t[28]=W):W=t[28];var q;t[29]===Symbol.for("react.memo_cache_sentinel")?(q=s._(/*BTDS*/"Not now"),t[29]=q):q=t[29];var U;t[30]!==a||t[31]!==n?(U=function(){n.setHasClickedPushPrompt(!0),o("CometNotificationsPushTurnOnMutation").doPushTurnOnMutation(a,{input:babelHelpers.extends({},l,{answer:"DISMISS"})})},t[30]=a,t[31]=n,t[32]=U):U=t[32];var V;t[33]!==q||t[34]!==U?(V={label:q,onPress:U},t[33]=q,t[34]=U,t[35]=V):V=t[35];var H;t[36]!==W||t[37]!==V?(H=c.jsx(r("FDSButtonGroup.react"),{expanding:!0,primary:W,secondary:V}),t[36]=W,t[37]=V,t[38]=H):H=t[38];var G,z;t[39]===Symbol.for("react.memo_cache_sentinel")?(G=s._(/*BTDS*/"Turn on notifications to stay connected"),z=s._(/*BTDS*/"Your push notifications are off"),t[39]=G,t[40]=z):(G=t[39],z=t[40]);var j;t[41]!==a||t[42]!==n?(j=function(){n.setHasClickedPushPrompt(!0),o("CometNotificationsPushTurnOnMutation").doPushTurnOnMutation(a,{input:babelHelpers.extends({},l,{answer:"DISMISS"})})},t[41]=a,t[42]=n,t[43]=j):j=t[43];var K;return t[44]!==H||t[45]!==j?(K=c.jsx("div",babelHelpers.extends({},F,{role:"row",children:c.jsx(r("FDSContextualMessage.react"),{addOnPrimary:H,body:G,headline:z,onClose:j,type:"secondary"})})),t[44]=H,t[45]=j,t[46]=K):K=t[46],K}function g(){o("cometPushToast").cometPushToast(_,3e3)}function h(t){var r,a,i,l,s=o("react-compiler-runtime").c(8),u=t.props,d=o("RelayHooks").useFragment(e!==void 0?e:e=n("CometNotificationsPushTurnOnPrompt_viewerData.graphql"),u.viewerData);if((d==null||(r=d.actor)==null?void 0:r.id)==null||(d==null||(a=d.browser_push_config)==null?void 0:a.app_id)==null||(d==null||(i=d.browser_push_config)==null?void 0:i.browser_name)==null||(d==null||(l=d.browser_push_config)==null?void 0:l.service_worker_uri)==null)return null;var m;s[0]!==d.browser_push_config?(m=babelHelpers.extends({},d.browser_push_config),s[0]=d.browser_push_config,s[1]=m):m=s[1];var p;s[2]!==d.actor||s[3]!==m?(p={actor:d.actor,browser_push_config:m},s[2]=d.actor,s[3]=m,s[4]=p):p=s[4];var _;if(s[5]!==u||s[6]!==p){var g=babelHelpers.extends({},u,{data:p});_=c.jsx(f,{props:g}),s[5]=u,s[6]=p,s[7]=_}else _=s[7];return _}l.default=h}),226);
__d("CometPushNotificationSettingsInstructionsUpdated.react",["fbt","ix","AddOnStartOverride.react","CometList_DEPRECATED.react","FDSIcon.react","FDSListCell.react","FDSListCellText.react","FDSText.react","IconSource","UserAgent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=[s._(/*BTDS*/"1"),s._(/*BTDS*/"2"),s._(/*BTDS*/"3")];function m(e){var t=o("react-compiler-runtime").c(5),n=e.count,a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},i={className:"xjb1437 x12ol6y4 x180vkcf x1khw62d x709u02 x1rg5ohu xxk0z11 x2b8uid xvy4d1p"},l={className:"xr9ek0c"},t[0]=a,t[1]=i,t[2]=l):(a=t[0],i=t[1],l=t[2]);var s=d[n],u;return t[3]!==s?(u=c.jsx(r("AddOnStartOverride.react"),{xstyle:a,children:c.jsx("div",babelHelpers.extends({},i,{children:c.jsx("div",babelHelpers.extends({},l,{children:c.jsx(r("FDSText.react"),{color:"white",type:"body2",children:s})}))}))}),t[3]=s,t[4]=u):u=t[4],u}function p(e){var t,n=o("react-compiler-runtime").c(19),a=e.browserName,i=((t=window)==null||(t=t.Notification)==null?void 0:t.permission)==="default",l=i&&(a==="Chrome"||a==="Microsoft Edge"),d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=r("UserAgent").isBrowser("Chrome > 116"),n[0]=d):d=n[0];var p=d,_=0,f;n[1]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsx(m,{count:_++}),n[1]=f):f=n[1];var g;n[2]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("FDSListCell.react"),{addOnStart:f,content:c.jsx(r("FDSListCellText.react"),{headline:p?s._(/*BTDS*/"Choose {Slider Icon} in your browser's address bar.",[s._param("Slider Icon",c.jsx(r("FDSIcon.react"),{alt:s._(/*BTDS*/"the slider icon"),icon:new(r("IconSource"))("FB",u("479013"),16)}))]):s._(/*BTDS*/"Choose {Lock Icon} in your browser's address bar.",[s._param("Lock Icon",c.jsx(r("FDSIcon.react"),{alt:s._(/*BTDS*/"the lock icon"),icon:new(r("IconSource"))("FB",u("368407"),16)}))])})},"lock"),n[2]=g):g=n[2];var h;if(n[3]!==a||n[4]!==l){var y=[g];if(l){var C;n[6]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx(m,{count:_++}),n[6]=C):C=n[6];var b;if(n[7]===Symbol.for("react.memo_cache_sentinel")){var v=new(r("IconSource"))("FB",u("497566"),16),S;n[8]!==v?(S=c.jsx(r("FDSIcon.react"),{icon:v}),n[8]=v,n[9]=S):S=n[9],b=c.jsx(r("FDSListCell.react"),{addOnStart:C,content:c.jsx(r("FDSListCellText.react"),{headline:s._(/*BTDS*/"Select {Settings Icon} {Site settings menu item}.",[s._param("Settings Icon",S),s._param("Site settings menu item",c.jsx("strong",{children:s._(/*BTDS*/"Site settings")}))])})},"settings"),n[7]=b}else b=n[7];y.push(b)}var R;n[10]!==a?(R=a==="Firefox"?s._(/*BTDS*/"Locate {Notifications Icon} {Notifications menu item} and select {Remove (X) Icon} next to {Blocked label}.",[s._param("Notifications Icon",c.jsx(r("FDSIcon.react"),{icon:new(r("IconSource"))("FB",u("514219"),16)})),s._param("Notifications menu item",c.jsx("strong",{children:s._(/*BTDS*/"Receive Notifications")})),s._param("Remove (X) Icon",c.jsx(r("FDSIcon.react"),{alt:s._(/*BTDS*/"the remove icon"),icon:new(r("IconSource"))("FB",u("368782"),16)})),s._param("Blocked label",c.jsx("em",{children:s._(/*BTDS*/"\"Blocked\"")}))]):s._(/*BTDS*/"Locate {Bell Icon} {Notifications menu item} and select {allow option} or {=m8}",[s._param("Bell Icon",c.jsx(r("FDSIcon.react"),{icon:new(r("IconSource"))("FB",u("407789"),16)})),s._param("Notifications menu item",c.jsx("strong",{children:s._(/*BTDS*/"Notifications")})),s._param("allow option",c.jsx("em",{children:s._(/*BTDS*/"\"Allow\"")})),s._implicitParam("=m8",c.jsx(r("FDSIcon.react"),{icon:new(r("IconSource"))("FB",u("1723180"),16),children:s._(/*BTDS*/"")}))]),n[10]=a,n[11]=R):R=n[11];var L=R,E=_++,k;n[12]!==E?(k=c.jsx(m,{count:E}),n[12]=E,n[13]=k):k=n[13];var I;n[14]!==L?(I=c.jsx(r("FDSListCellText.react"),{headline:L}),n[14]=L,n[15]=I):I=n[15];var T;n[16]!==k||n[17]!==I?(T=c.jsx(r("FDSListCell.react"),{addOnStart:k,content:I},"browser"),n[16]=k,n[17]=I,n[18]=T):T=n[18],y.push(T),h=c.jsx(r("CometList_DEPRECATED.react"),{children:y}),n[3]=a,n[4]=l,n[5]=h}else h=n[5];return h}l.default=p}),226);