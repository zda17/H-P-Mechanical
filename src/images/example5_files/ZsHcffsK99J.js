;/*FB_PKG_DELIM*/

__d("CometAlbumMediaItemOrderType",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ASCENDING","DESCENDING","DEFAULT"]);i.MediaAttachmentOrderType=e}),66);
__d("CometComposerAttachmentActionTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["MEDIA_EDIT","PRODUCT_TAG"]),l=e;i.default=l}),66);
__d("CometMediaEditorPageResource",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("CometMediaEditorPage.react").__setRef("CometMediaEditorPageResource"),s=e;l.default=s}),98);
__d("GroupCometComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({errorMetadata:null,groupID:null,isSaving:!1});l.default=u}),98);
__d("ProductTagTypeaheadContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={approvedOnly:!1},c=s.createContext(u);l.ProductTagTypeaheadContext=c}),98);
__d("addMediaUploadStatuses",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t,r){return t.reduce(function(t,r){if(r.file==null)return t;var o=r.file.uploadID;if(o==null||t[o]!=null)return t;var a=null,i=new(e||(e=n("Promise")))(function(e){a=e}),l=null,s=new e(function(e){l=e});return a&&l&&(r.fileType==="PHOTO"||r.fileType==="VIDEO")&&(t[o]={cancelUpload:l,onFileComplete:i,onUploadCancel:s,resolveFileUpload:a}),t},r)}i.addMediaUploadStatuses=l}),66);
__d("composerFooterAttachmentAreaChecker",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n,r;return(e==null||(n=e.footerAttachmentArea)==null?void 0:n.activeFooterAttachmentType)!==(t==null||(r=t.footerAttachmentArea)==null?void 0:r.activeFooterAttachmentType)}i.default=e}),66);
__d("composerFooterAttachmentAreaReducer",["CometComposerFooterAttachmentPluginTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;switch(t.type){case"ACTIVATE_FOOTER_ATTACHMENT_TYPE":return((n=e.footerAttachmentArea)==null?void 0:n.activeFooterAttachmentType)===t.footerAttachmentType?e:babelHelpers.extends({},e,{footerAttachmentArea:babelHelpers.extends({},e.footerAttachmentArea,{activeFooterAttachmentType:t.footerAttachmentType}),placeholderTextOverride:t.placeholderTextOverride});case"REMOVE_FOOTER_ATTACHMENT_TYPE":{var r;if(((r=e.footerAttachmentArea)==null?void 0:r.activeFooterAttachmentType)!==t.footerAttachmentType)return e;var a={nonprofit:e.nonprofit};t.footerAttachmentType===o("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.NONPROFIT&&e.nonprofit!=null&&(a={nonprofit:void 0});var i={isGetMessagesPost:e.isGetMessagesPost,isGetMessagesPostAttachmentOptional:e.isGetMessagesPostAttachmentOptional};return t.footerAttachmentType===o("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES&&(e==null?void 0:e.isGetMessagesPost)!=null&&(i={isGetMessagesPost:null,isGetMessagesPostAttachmentOptional:null}),babelHelpers.extends({},e,a,i,{footerAttachmentArea:babelHelpers.extends({},e.footerAttachmentArea,{activeFooterAttachmentType:null}),placeholderTextOverride:void 0})}case"UPDATE_PLACEHOLDER_TEXT":return babelHelpers.extends({},e,{placeholderTextOverride:t.placeholderTextOverride});case"RESET_PLACEHOLDER_TEXT":return babelHelpers.extends({},e,{placeholderTextOverride:void 0})}return e}l.composerFooterAttachmentAreaReducer=e}),98);
__d("convertVideoToPhoto",[],(function(t,n,r,o,a,i){"use strict";var e=["activeCaptionID","fileMimeType","trimData","videoAttachmentAudioDescriptionsMetadata","videoAttachmentMetadata","videoAttachmentTextTranscriptsMetadata"];function l(t){var n=t.data.id,r=t.activeCaptionID,o=t.fileMimeType,a=t.trimData,i=t.videoAttachmentAudioDescriptionsMetadata,l=t.videoAttachmentMetadata,s=t.videoAttachmentTextTranscriptsMetadata,u=babelHelpers.objectWithoutPropertiesLoose(t,e);if(n==null)return null;switch(u.state){case"NEW":return babelHelpers.extends({},u,{data:{id:n},fileType:"PHOTO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers.extends({},u,{data:{id:n},fileType:"PHOTO"});case"CLIENT_PROCESSING":return babelHelpers.extends({},u,{data:{id:n},fileType:"PHOTO"});case"QUEUED":return babelHelpers.extends({},u,{data:{id:n},fileType:"PHOTO"});case"FAILED":return babelHelpers.extends({},u,{data:{id:n},fileType:"PHOTO"})}}i.default=l}),66);
__d("getIDFromMediaAttachment",[],(function(t,n,r,o,a,i){"use strict";function e(e){switch(e.state){case"PREEXISTING":return e.data.id;case"OPTIMISTIC_UPLOADED":return e.uploadID;default:return e.file.uploadID}}i.default=e}),66);
__d("getMediaAttachmentDateNumber",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.state==="UPLOADED"?e.takenTime!=null?e.takenTime:e.file.lastModified:0}i.default=e}),66);
__d("extractMediaLocationData",["FBLogger","exif-js","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e[0].numerator+e[1].numerator/(60*e[1].denominator)+e[2].numerator/(3600*e[2].denominator)}function s(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){r.result instanceof ArrayBuffer?t(r.result):n(r.error)},r.onerror=function(){n(r.error)},r.readAsArrayBuffer(e)})}async function u(t){try{var n=await s(t),o=r("exif-js").readFromBinaryFile(n);if(!o.GPSLongitude||!o.GPSLatitude)return null;var a=o.GPSLatitudeRef||"N",i=o.GPSLongitudeRef||"W",l=e(o.GPSLatitude)*(a==="N"?1:-1),u=e(o.GPSLongitude)*(i==="W"?-1:1),c={accuracy:0,latitude:l,longitude:u,stale_time:0};return c}catch(e){var d=r("getErrorSafe")(e);return r("FBLogger")("comet_composer").catching(d).mustfix("Failed to extract GPS location from media"),null}}l.extractMediaLocationData=u}),98);
__d("processNewMediaAttachments",["FBLogger","cometIsMimeTypeForMedia","cometUniqueID","extractMediaLocationData","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return(e!=null?e:[]).map(function(e){if(e==null)return null;var n=e.uploadID,r=n!=null&&t!=null?t[n]:void 0;return s(e,r)}).filter(Boolean)}function s(e,t){var n,a=(n=e.uploadID)!=null?n:r("cometUniqueID")();e.uploadID=a;var i=URL.createObjectURL(e);if(o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(e.type)){var l=(t==null?void 0:t.type)==="PHOTO"?t==null?void 0:t.data:void 0;return babelHelpers.extends({data:{id:a},file:e,fileObjectURL:i,fileType:"PHOTO",state:"NEW"},l)}else if(o("cometIsMimeTypeForMedia").isMimeTypeForVideo(e.type)){var s=(t==null?void 0:t.type)==="VIDEO"?t==null?void 0:t.data:void 0;return babelHelpers.extends({data:{id:a},file:e,fileMimeType:e.type,fileObjectURL:i,fileType:"VIDEO",state:"NEW"},s)}else return{data:{id:a},file:e,fileObjectURL:i,fileType:"UNKNOWN",state:"NEW"}}async function u(e){var t=new Map,n=e.filter(function(e){return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(e.type)});if(n.length===0)return t;var a=3,i=n.slice(0,a),l=i.map(async function(e){try{var n=await o("extractMediaLocationData").extractMediaLocationData(e),a=e.uploadID;n!=null&&a!=null&&t.set(a,n)}catch(e){var i=r("getErrorSafe")(e);r("FBLogger")("comet_composer").catching(i).warn("Failed to extract GPS location data from photo during batch processing")}});return await Promise.all(l),t}l.processNewMediaAttachments=e,l.getNewMediaAttachment=s,l.extractLocationDataForPhotos=u}),98);
__d("removeMediaUploadStatuses",["getIDFromMediaAttachment"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={},o=function(a){e.some(function(e){return a===r("getIDFromMediaAttachment")(e)})||(n[a]=t[a])};for(var a in t)o(a);return n}l.default=e}),98);
__d("removeTagsFromMedia",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=new Map(t),r=e.data.id;if(r==null)return n;var o=((e==null?void 0:e.fileType)==="PHOTO"||(e==null?void 0:e.fileType)==="VIDEO")&&e.data.tags!=null?[].concat(e.data.tags).filter(Boolean):[],a=o.reduce(function(e,t){return t.taggee.id!=null&&t.taggee.taggee_type!=="PRODUCT_ITEM"&&e.push(t.taggee.id),e},[]);return a.forEach(function(e){var t=n.get(e);if(t!=null){var o={isDisplayedInSocialSentence:t.isDisplayedInSocialSentence,withTagSourceIDs:t.withTagSourceIDs.filter(function(e){return e!==r})};o.withTagSourceIDs.length===0?n.delete(e):n.set(e,o)}}),n}i.default=e}),66);
__d("rotatePhotoAttachmentTags",[],(function(t,n,r,o,a,i){"use strict";var e=100;function l(t){if(t==null)return t;var n=t.x,r=t.y;return babelHelpers.extends({},t,{x:r,y:e-n})}function s(t){if(t==null)return t;var n=t.x,r=t.y;return babelHelpers.extends({},t,{x:e-r,y:n})}function u(e,t){switch(t){case"LEFT":return e.map(l);case"RIGHT":return e.map(s);default:return e}}i.default=u}),66);
__d("updateMediaUploadStatuses",["getIDFromMediaAttachment"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e.reduce(function(e,n){var o=r("getIDFromMediaAttachment")(n);return o!=null&&t!=null&&(e[o]=t[o]),e},{})}l.default=e}),98);
__d("composerMediaAttachmentReducer",["CometAlbumMediaItemOrderType","CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes","FBLogger","Promise","addMediaUploadStatuses","addTagsToWithTagsIDsTracker","composerAttachmentAreaReducer","convertVideoToPhoto","getIDFromMediaAttachment","getMediaAttachmentDateNumber","gkx","processNewMediaAttachments","removeMediaUploadStatuses","removeTagsFromMedia","rotatePhotoAttachmentTags","updateMediaUploadStatuses"],(function(t,n,r,o,a,i,l){"use strict";var e=["replaceMediaItemUploadID"],s;function u(e,t){var n=t.aiGenMetadata,r=t.allExtraData,a=t.files,i=o("processNewMediaAttachments").processNewMediaAttachments(a,r),l=n?i.map(function(e){if(e.fileType==="PHOTO"&&e.state==="NEW"){var t,r,o={ai_animated_memory_metadata:null,campaign_id:null,imagine_platform_surface:(t=n.imagine_platform_surface)!=null?t:null,imagine_product_type:(r=n.imagine_product_type)!=null?r:null,input_media:null,prompt:n.prompt,result_id:null,short_prompt:null};return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{ai_gen_metadata:o})})}return e}):i,s=(e.mediaAttachments||[]).concat(l);return babelHelpers.extends({},e,{mediaAttachments:s,mediaUploadStatuses:o("addMediaUploadStatuses").addMediaUploadStatuses(l,babelHelpers.extends({},e.mediaUploadStatuses))})}function c(e,t){var n=t.allExtraData,r=t.files,a=o("processNewMediaAttachments").processNewMediaAttachments(r,n);return babelHelpers.extends({},e,{mediaAttachments:a,mediaUploadStatuses:o("addMediaUploadStatuses").addMediaUploadStatuses(a,{})})}function d(e,t){if(!e.mediaAttachments)return babelHelpers.extends({},e);var n=e.mediaAttachments.map(function(e){return t.retryAttachments.has(e)&&e.file?o("processNewMediaAttachments").getNewMediaAttachment(e.file):e});return babelHelpers.extends({},e,{mediaAttachments:n})}function m(e,t){var r,o=e.mediaAttachments||[],a=t.photo,i={data:{id:a.id,message:null,tags:[]},entID:a.id,fileType:"PHOTO",height:a.height,state:"PREEXISTING",url:a.url,useCDNPreview:!0,width:a.width},l=[].concat(o,[i]),u=babelHelpers.extends({},e.mediaUploadStatuses);return Object.assign(u,(r={},r[a.id]={onFileComplete:(s||(s=n("Promise"))).resolve({attachmentID:a.id,attachmentType:"PHOTO"}),resolveFileUpload:function(){}},r)),babelHelpers.extends({},e,{mediaAttachments:l,mediaUploadStatuses:u})}function p(e,t){var r,o,a=e.mediaAttachments||[],i=t.video,l=i.thumbnail,u=babelHelpers.extends({data:{id:i.id,title:i.title},entID:i.id,fileType:"VIDEO",imageURL:(r=l==null?void 0:l.url)!=null?r:"",state:"PREEXISTING",useCDNPreview:!0},l!=null?{height:l.height,width:l.width}:{usePlaceHolderPreview:!0}),c=[].concat(a,[u]),d=babelHelpers.extends({},e.mediaUploadStatuses);return Object.assign(d,(o={},o[i.id]={onFileComplete:(s||(s=n("Promise"))).resolve({attachmentID:i.id,attachmentType:"VIDEO"}),resolveFileUpload:function(){}},o)),babelHelpers.extends({},e,{mediaAttachments:c,mediaUploadStatuses:d})}function _(e,t){if(e.mediaAttachments==null)return e;var n,o=!1,a=e.mediaAttachments.filter(function(e){return r("getIDFromMediaAttachment")(t.attachment)===r("getIDFromMediaAttachment")(e)?(e.fileObjectURL!=null&&URL.revokeObjectURL(e.fileObjectURL),!1):(e.isGenerated===!0&&(o=!0),!0)}),i=r("removeTagsFromMedia")(t.attachment,new Map(e.withTagIDsTracker)),l=e==null||(n=e.genAISelfDisclosureMetadata)==null?void 0:n.genAIFeatureTracker;return!o&&l!=null&&l.delete("MEDIA"),a.length>0||e.isMediaAttachmentsRequired===!0?babelHelpers.extends({},e,{genAISelfDisclosureMetadata:babelHelpers.extends({},e.genAISelfDisclosureMetadata,{genAIFeatureTracker:new Set(l)}),mediaAttachments:a,mediaUploadStatuses:r("removeMediaUploadStatuses")([t.attachment],babelHelpers.extends({},e.mediaUploadStatuses)),withTagIDsTracker:i}):babelHelpers.extends({},e,{attachmentArea:void 0,genAISelfDisclosureMetadata:babelHelpers.extends({},e.genAISelfDisclosureMetadata,{genAIFeatureTracker:new Set(l)}),mediaAttachments:void 0,mediaUploadStatuses:void 0})}function f(e,t){if(e.mediaAttachments==null||t.index<0||t.index>=e.mediaAttachments.length)return e;var n=[].concat(e.mediaAttachments);return n[t.index]=t.newAttachment,babelHelpers.extends({},e,{mediaAttachments:n})}function g(e,t){return(e.mediaAttachments||[]).length>0?h(e,t,!0):babelHelpers.extends({},e,{attachmentArea:babelHelpers.extends({},e.attachmentArea,{activeAttachmentType:void 0,previousAttachmentType:r("CometComposerAttachmentPluginTypes").GET_MESSAGES}),isGetMessagesPost:null})}function h(e,t,n){var a,i,l,s,u,c;if(n===void 0&&(n=!1),!n&&([r("CometComposerAttachmentPluginTypes").GET_MESSAGES].includes((a=e.attachmentArea)==null?void 0:a.activeAttachmentType)||[o("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES].includes((i=e.footerAttachmentArea)==null?void 0:i.activeFooterAttachmentType)||[o("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES].includes((l=e.footerAttachmentArea)==null?void 0:l.activeFooterAttachmentType))||!n&&[r("CometComposerAttachmentPluginTypes").GET_MESSAGES].includes((s=e.attachmentArea)==null?void 0:s.previousAttachmentType))return e;var d=new Map(e.withTagIDsTracker);((u=e.mediaAttachments)!=null?u:[]).forEach(function(e){d=r("removeTagsFromMedia")(e,d)}),(e.mediaAttachments||[]).forEach(function(t){if(t.fileObjectURL!=null&&URL.revokeObjectURL(t.fileObjectURL),t.state!=="PREEXISTING"&&t.fileType==="VIDEO"&&e.mediaUploadStatuses!=null){var n,r=(n=t.file.uploadID)!=null?n:"";if(r!==""){var o=e.mediaUploadStatuses[r];o&&o.cancelUpload({attachmentID:r,attachmentType:t.fileType})}}});var m=e==null||(c=e.genAISelfDisclosureMetadata)==null?void 0:c.genAIFeatureTracker;return m!=null&&m.delete("MEDIA"),babelHelpers.extends({},e,{animatedImageAttachments:void 0,genAISelfDisclosureMetadata:babelHelpers.extends({},e.genAISelfDisclosureMetadata,{genAIFeatureTracker:new Set(m)}),mediaAttachments:void 0,mediaUploadStatuses:void 0,withTagIDsTracker:d})}function y(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.state==="NEW"&&t.uploadIDs.includes(e.file.uploadID))switch(e.fileType){case"PHOTO":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",isGenerated:e.isGenerated,locationData:e.locationData,replaceMediaItemUploadID:e.replaceMediaItemUploadID,sphericalEncoding:e.sphericalEncoding,state:"CLIENT_PROCESSING",useCDNPreview:e.useCDNPreview};case"VIDEO":return{activeCaptionID:e.activeCaptionID,data:e.data,file:e.file,fileMimeType:e.fileMimeType,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",replaceMediaItemUploadID:e.replaceMediaItemUploadID,state:"CLIENT_PROCESSING",trimData:e.trimData,useCDNPreview:e.useCDNPreview,videoAttachmentAudioDescriptionsMetadata:e.videoAttachmentAudioDescriptionsMetadata,videoAttachmentTextTranscriptsMetadata:e.videoAttachmentTextTranscriptsMetadata};case"FILE":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"FILE",state:"CLIENT_PROCESSING"};case"UNKNOWN":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"UNKNOWN",state:"CLIENT_PROCESSING"}}else return e}).filter(Boolean)})}function C(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.file&&e.fileType==="UNKNOWN"&&t.uploadIDs.includes(e.file.uploadID))switch(e.state){case"NEW":return babelHelpers.extends({},e,{data:{id:e.data.id},fileType:"PHOTO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers.extends({},e,{data:{id:e.data.id},fileType:"PHOTO"});case"CLIENT_PROCESSING":case"QUEUED":case"UPLOADING":case"UPLOADED":case"FAILED":return babelHelpers.extends({},e,{data:{id:e.data.id},fileType:"PHOTO"})}return e})})}function b(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.state==="UPLOADED")switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{partOfCompleteBatch:!0});case"VIDEO":return babelHelpers.extends({},e,{partOfCompleteBatch:!0});case"FILE":return babelHelpers.extends({},e,{partOfCompleteBatch:!0})}return e})})}function v(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.file&&e.fileType==="VIDEO"&&t.uploadIDs.includes(e.file.uploadID)){var n;return(n=r("convertVideoToPhoto")(e))!=null?n:e}return e})})}function S(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.file&&e.fileType==="UNKNOWN"&&t.uploadIDs.includes(e.file.uploadID))switch(e.state){case"NEW":return babelHelpers.extends({},e,{data:{id:e.data.id},fileType:"VIDEO"});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers.extends({},e,{data:{id:e.data.id},fileType:"VIDEO"});case"CLIENT_PROCESSING":case"QUEUED":case"UPLOADING":case"UPLOADED":case"FAILED":return babelHelpers.extends({},e,{data:{id:e.data.id},fileType:"VIDEO"})}return e})})}function R(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if((e.state==="NEW"||e.state==="CLIENT_PROCESSING")&&t.uploadIDs.includes(e.file.uploadID))switch(e.fileType){case"PHOTO":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",height:e.height,isGenerated:e.isGenerated,locationData:e.locationData,replaceMediaItemUploadID:e.replaceMediaItemUploadID,sphericalEncoding:e.sphericalEncoding,state:"CLIENT_PROCESSING_COMPLETE",useCDNPreview:e.useCDNPreview,width:e.width};case"VIDEO":return{activeCaptionID:e.activeCaptionID,data:e.data,file:e.file,fileMimeType:e.fileMimeType,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",height:e.height,replaceMediaItemUploadID:e.replaceMediaItemUploadID,state:"CLIENT_PROCESSING_COMPLETE",trimData:e.trimData,useCDNPreview:e.useCDNPreview,videoAttachmentAudioDescriptionsMetadata:e.videoAttachmentAudioDescriptionsMetadata,videoAttachmentMetadata:e.videoAttachmentMetadata,videoAttachmentTextTranscriptsMetadata:e.videoAttachmentTextTranscriptsMetadata,width:e.width};case"FILE":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"FILE",state:"CLIENT_PROCESSING_COMPLETE"};case"UNKNOWN":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"UNKNOWN",state:"CLIENT_PROCESSING_COMPLETE"}}else return e}).filter(Boolean)})}function L(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.state==="CLIENT_PROCESSING_COMPLETE"&&t.uploadIDs.includes(e.file.uploadID))switch(e.fileType){case"PHOTO":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",height:e.height,isGenerated:e.isGenerated,locationData:e.locationData,replaceMediaItemUploadID:e.replaceMediaItemUploadID,sphericalEncoding:e.sphericalEncoding,state:"QUEUED",useCDNPreview:e.useCDNPreview,width:e.width};case"VIDEO":return{activeCaptionID:e.activeCaptionID,data:e.data,file:e.file,fileMimeType:e.fileMimeType,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",height:e.height,replaceMediaItemUploadID:e.replaceMediaItemUploadID,state:"QUEUED",trimData:e.trimData,videoAttachmentAudioDescriptionsMetadata:e.videoAttachmentAudioDescriptionsMetadata,videoAttachmentMetadata:e.videoAttachmentMetadata,videoAttachmentTextTranscriptsMetadata:e.videoAttachmentTextTranscriptsMetadata,width:e.width};default:return{data:e.data,file:e.file,fileType:"FILE",state:"QUEUED"}}else return e}),mediaUploadStatuses:o("addMediaUploadStatuses").addMediaUploadStatuses(n.filter(function(e){return e.file!=null&&t.uploadIDs.includes(e.file.uploadID)}),babelHelpers.extends({},e.mediaUploadStatuses))})}function E(e,t){return e.mediaAttachments==null?e:babelHelpers.extends({},e,{mediaAttachments:e.mediaAttachments.map(function(e){if(e.state!=="CLIENT_PROCESSING"&&e.state!=="UPLOADING"&&e.state!=="UPLOADED"&&e.state!=="PREEXISTING"&&e.file.uploadID===t.uploadID)switch(e.fileType){case"PHOTO":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",height:e.height,isGenerated:e.isGenerated,locationData:e.locationData,percentComplete:0,replaceMediaItemUploadID:e.replaceMediaItemUploadID,sphericalEncoding:e.sphericalEncoding,state:"UPLOADING",useCDNPreview:e.useCDNPreview,width:e.width};case"VIDEO":return{activeCaptionID:e.activeCaptionID,data:e.data,file:e.file,fileMimeType:e.fileMimeType,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",height:e.height,percentComplete:0,replaceMediaItemUploadID:e.replaceMediaItemUploadID,state:"UPLOADING",trimData:e.trimData,videoAttachmentAudioDescriptionsMetadata:e.videoAttachmentAudioDescriptionsMetadata,videoAttachmentMetadata:e.videoAttachmentMetadata,videoAttachmentTextTranscriptsMetadata:e.videoAttachmentTextTranscriptsMetadata,width:e.width};default:return{data:e.data,file:e.file,fileType:"FILE",percentComplete:0,state:"UPLOADING"}}else return e})})}function k(e,t){return e.mediaAttachments==null?e:babelHelpers.extends({},e,{mediaAttachments:e.mediaAttachments.map(function(e){if(e.state==="UPLOADING"&&e.file.uploadID===t.uploadID)switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",percentComplete:t.percentComplete});case"VIDEO":return babelHelpers.extends({},e,{entID:t.entID,fileType:"VIDEO",percentComplete:t.percentComplete});default:return babelHelpers.extends({},e,{fileType:"FILE",percentComplete:t.percentComplete})}else return e})})}function I(t,n){if(t.mediaAttachments==null)return t;var o,a=t.mediaAttachments.map(function(e){if(e.state!=="CLIENT_PROCESSING"&&e.state!=="CLIENT_PROCESSING_COMPLETE"&&e.state!=="UPLOADED"&&e.state!=="PREEXISTING"&&e.file.uploadID===n.uploadID)switch(e.fileType){case"PHOTO":{var t={data:babelHelpers.extends({},e.data,{id:n.entID}),entID:n.entID,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",height:e.height,isGenerated:e.isGenerated,locationData:e.locationData,replaceMediaItemUploadID:e.replaceMediaItemUploadID,sphericalEncoding:e.sphericalEncoding,state:n.draftState!=null?n.draftState:"UPLOADED",takenTime:n.takenTime,uploadedImageURL:n.imageURL,useCDNPreview:e.useCDNPreview,width:e.width};return e.replaceMediaItemUploadID!=null&&(o=t),t}case"VIDEO":{var a={};!r("gkx")("22894")&&r("gkx")("20836")&&(a.closed_caption_settings={autogenerate_captions_on_upload:!0,should_review_all_captions:!1});var i={activeCaptionID:e.activeCaptionID,data:babelHelpers.extends({},a,e.data,{id:n.entID}),entID:n.entID,file:e.file,fileMimeType:e.fileMimeType,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",height:e.height,replaceMediaItemUploadID:e.replaceMediaItemUploadID,state:n.draftState!=null?n.draftState:"UPLOADED",trimData:e.trimData,useCDNPreview:e.useCDNPreview,videoAttachmentAudioDescriptionsMetadata:e.videoAttachmentAudioDescriptionsMetadata,videoAttachmentMetadata:e.videoAttachmentMetadata||{},videoAttachmentTextTranscriptsMetadata:e.videoAttachmentTextTranscriptsMetadata,width:e.width};return e.replaceMediaItemUploadID!=null&&(o=i),i}default:return{data:{id:n.entID},entID:n.entID,file:e.file,fileType:"FILE",state:"UPLOADED"}}else return e}),i;return o!=null&&(a=a.map(function(t){var n,r;if(((n=t.file)==null?void 0:n.uploadID)===o.replaceMediaItemUploadID){var a=o,i=a.replaceMediaItemUploadID,l=babelHelpers.objectWithoutPropertiesLoose(a,e);return l}return((r=t.file)==null?void 0:r.uploadID)===o.file.uploadID?null:t}).filter(Boolean),i=r("updateMediaUploadStatuses")(a,t.mediaUploadStatuses)),babelHelpers.extends({},t,{mediaAttachments:a,mediaUploadStatuses:i!=null?i:t.mediaUploadStatuses})}function T(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){if(e.state!=="PREEXISTING"&&e.file.uploadID===t.uploadID)switch(e.fileType){case"PHOTO":return{data:{id:t.uploadID},error:t.error,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",height:e.height,isGenerated:e.isGenerated,replaceMediaItemUploadID:e.replaceMediaItemUploadID,sphericalEncoding:e.sphericalEncoding,state:"FAILED",useCDNPreview:e.useCDNPreview,width:e.width};case"VIDEO":return{activeCaptionID:e.activeCaptionID,data:{id:t.uploadID},error:t.error,file:e.file,fileMimeType:e.fileMimeType,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",height:e.height,replaceMediaItemUploadID:e.replaceMediaItemUploadID,state:"FAILED",trimData:e.trimData,useCDNPreview:e.useCDNPreview,videoAttachmentAudioDescriptionsMetadata:e.videoAttachmentAudioDescriptionsMetadata,videoAttachmentTextTranscriptsMetadata:e.videoAttachmentTextTranscriptsMetadata,width:e.width};default:return{data:{id:t.uploadID},error:t.error,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"FILE",state:"FAILED"}}else return e})})}function D(e,t){var n,o;if(e.mediaAttachments==null)return e;var a=new Map(e.withTagIDsTracker),i=[],l=[],s=t.media.data.id;((n=t.media.data.tags)!=null?n:[]).forEach(function(e){var n;if((e==null||(n=e.taggee)==null?void 0:n.id)!=null){var r=e.taggee.id;e.taggee.taggee_type==="PRODUCT_ITEM"?i.push(r):t.actorID!==r&&l.push(r)}});var u=t.media.originalEntID!=null?t.media.originalEntID:s,c=(e.mediaAttachments||[]).find(function(e){var t=e.originalEntID!=null?e.originalEntID:e.data.id;return t===u});if(u==null||c==null)throw r("FBLogger")("comet_composer").mustfixThrow("Invalid action taken to save media edits of a media attachment that does not exist");a=r("removeTagsFromMedia")(c,a),a=r("addTagsToWithTagsIDsTracker")(u,l,a);var d=a.size>0;return babelHelpers.extends({},d?x(e):$(e),{mediaAttachments:(o=e.mediaAttachments)==null?void 0:o.map(function(e,n){return n!==t.index?e:t.media}),taggedProductIDs:i,withTagIDsTracker:a})}function x(e){var t,n,r=new Set((t=(n=e.taggerData)==null?void 0:n.activeTaggerList)!=null?t:[]);return r.has("TAG")?e:(r.add("TAG"),babelHelpers.extends({},e,{taggerData:{activeTaggerList:r}}))}function $(e){var t,n,r=new Set((t=(n=e.taggerData)==null?void 0:n.activeTaggerList)!=null?t:[]);return r.has("TAG")?(r.delete("TAG"),babelHelpers.extends({},e,{taggerData:{activeTaggerList:r}})):e}function P(e,t){if(e.mediaAttachments!=null){var n=[].concat(e.mediaAttachments);n.splice(t.targetIndex,0,n.splice(t.sourceIndex,1)[0]);var o=r("updateMediaUploadStatuses")(n,e.mediaUploadStatuses);return babelHelpers.extends({},e,{mediaAttachments:n,mediaUploadStatuses:o})}else return e}function N(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e){if(e.data.id===t.entID&&e.fileType==="PHOTO"&&e.state==="UPLOADED"){var n=babelHelpers.extends({},e,{height:t.height,uploadedImageURL:t.imageURI,useCDNPreview:!0,width:t.width}),o=n.data.tags;return o!=null&&o.length>0?babelHelpers.extends({},n,{data:babelHelpers.extends({},n.data,{tags:r("rotatePhotoAttachmentTags")(o,t.direction)})}):n}return e})})}function M(e,t){var n=e.mediaAttachments;return n==null?e:babelHelpers.extends({},e,{mediaAttachments:n.map(function(e){return(e.entID===t.attachmentId||e.data.id===t.attachmentId)&&e.fileType==="VIDEO"&&e.state==="UPLOADED"?babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{closed_caption_settings:babelHelpers.extends({},e.data.closed_caption_settings,{autogenerate_captions_on_upload:t.autoGenerateCaptionOnUpload,should_review_all_captions:t.shouldReviewAllCaptions})})}):e})})}function w(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e){if(e===t.attachment){switch(e.state){case"NEW":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"VIDEO"});default:return e}case"QUEUED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"VIDEO"});default:return e}case"UPLOADING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"VIDEO"});default:return e}case"UPLOADED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"VIDEO"});default:return e}case"PREEXISTING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"VIDEO"});case"UNKNOWN":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"UNKNOWN"})}return e;case"FAILED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"PHOTO"});case"VIDEO":return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{message:{text:t.caption}}),fileType:"VIDEO"});default:return e}}return e}else return e})})}function A(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e){if(r("getIDFromMediaAttachment")(e)===r("getIDFromMediaAttachment")(t.attachment)){switch(e.state){case"NEW":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return e}case"QUEUED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return e}case"UPLOADING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return e}case"UPLOADED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return e}case"FAILED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return e}case"CLIENT_PROCESSING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return e}case"PREEXISTING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",useCDNPreview:!0});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",useCDNPreview:!0});default:return babelHelpers.extends({},e,{fileType:"UNKNOWN",useCDNPreview:!0})}}return e}else return e})})}function F(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e){if(e.data.id===t.entID&&e.state==="UPLOADED")switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",height:t.height,width:t.width});case"VIDEO":return babelHelpers.extends({},e,{fileType:"VIDEO",height:t.height,width:t.width});case"UNKOWN":return babelHelpers.extends({},e,{fileType:"UNKNOWN",height:t.height,width:t.width});default:return e}else return e})})}function O(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e){return r("getIDFromMediaAttachment")(e)===r("getIDFromMediaAttachment")(t.attachment)?V(t.height,t.width,e):e})})}function B(e,t){var n,r,o=URL.createObjectURL(t.placeholderImage.file);return e.photo3dAttachment&&URL.revokeObjectURL(e.photo3dAttachment.inputData.placeholderImageSrc),babelHelpers.extends({},e,{photo3dAttachment:{inputData:{colorImageIds:t.colorImageIds,depthImageIds:t.depthImageIds,placeholderImageHeight:(n=t.placeholderImage.height)!=null?n:0,placeholderImageSrc:o,placeholderImageWidth:(r=t.placeholderImage.width)!=null?r:0},renderData:void 0}})}function W(e,t){if(e.mediaAttachments!=null){var n=[].concat(e.mediaAttachments);return n.sort(function(e,n){var a=r("getMediaAttachmentDateNumber")(e),i=r("getMediaAttachmentDateNumber")(n);return a<i&&t.orderType===o("CometAlbumMediaItemOrderType").MediaAttachmentOrderType.ASCENDING||a>i&&t.orderType===o("CometAlbumMediaItemOrderType").MediaAttachmentOrderType.DESCENDING?-1:1}),babelHelpers.extends({},e,{mediaAttachments:n})}else return e}function q(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e,n){if(n!==t.currentIndex)return e;switch(e.state){case"NEW":switch(e.fileType){case"VIDEO":return babelHelpers.extends({},e,{videoAttachmentMetadata:babelHelpers.extends({},e.videoAttachmentMetadata,t.videoAttachmentMetadata)});default:return e}case"CLIENT_PROCESSING":switch(e.fileType){case"VIDEO":return babelHelpers.extends({},e,{videoAttachmentMetadata:babelHelpers.extends({},e.videoAttachmentMetadata,t.videoAttachmentMetadata)});default:return e}case"CLIENT_PROCESSING_COMPLETE":switch(e.fileType){case"VIDEO":return babelHelpers.extends({},e,{videoAttachmentMetadata:babelHelpers.extends({},e.videoAttachmentMetadata,t.videoAttachmentMetadata)});default:return e}case"UPLOADING":switch(e.fileType){case"VIDEO":return babelHelpers.extends({},e,{videoAttachmentMetadata:babelHelpers.extends({},e.videoAttachmentMetadata,t.videoAttachmentMetadata)});default:return e}case"UPLOADED":switch(e.fileType){case"VIDEO":return babelHelpers.extends({},e,{videoAttachmentMetadata:babelHelpers.extends({},e.videoAttachmentMetadata,t.videoAttachmentMetadata)});default:return e}case"PREEXISTING":switch(e.fileType){case"VIDEO":return babelHelpers.extends({},e,{videoAttachmentMetadata:babelHelpers.extends({},e.videoAttachmentMetadata,t.videoAttachmentMetadata)});default:return e}default:return e}})})}function U(e,t){return babelHelpers.extends({},e,{mediaAttachments:(e.mediaAttachments||[]).map(function(e){if(e.file&&e.file.uploadID===t.uploadID)switch(e.state){case"NEW":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}case"QUEUED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}case"UPLOADING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}case"UPLOADED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}case"FAILED":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}case"CLIENT_PROCESSING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}case"PREEXISTING":switch(e.fileType){case"PHOTO":return babelHelpers.extends({},e,{fileType:"PHOTO",sphericalEncoding:t.sphericalEncoding});default:return e}default:return e}else return e})})}function V(e,t,n){switch(n.fileType){case"PHOTO":switch(n.state){case"NEW":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"CLIENT_PROCESSING":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"QUEUED":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"UPLOADING":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"UPLOADED":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"FAILED":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});case"PREEXISTING":return babelHelpers.extends({},n,{fileType:"PHOTO",height:e,width:t});default:return n}case"VIDEO":switch(n.state){case"NEW":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"CLIENT_PROCESSING":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"CLIENT_PROCESSING_COMPLETE":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"QUEUED":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"UPLOADING":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"UPLOADED":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"FAILED":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});case"PREEXISTING":return babelHelpers.extends({},n,{fileType:"VIDEO",height:e,width:t});default:return n}default:return n}}function H(e,t){return babelHelpers.extends({},e,{shouldShowDefaultToReelsDialog:t.shouldShowDefaultToReelsDialog})}function G(e,t){var n,r;if(e.mediaAttachments==null)return e;var o=babelHelpers.extends({},e,{mediaAttachments:(n=(r=e.mediaAttachments)==null?void 0:r.map(function(e){var n;return e.fileType==="PHOTO"&&((n=e.file)==null?void 0:n.uploadID)===t.uploadID?babelHelpers.extends({},e,{locationData:t.locationData}):e}))!=null?n:void 0});return o}function z(e,t){var n,r;if(e.mediaAttachments==null)return e;var o=babelHelpers.extends({},e,{mediaAttachments:(n=(r=e.mediaAttachments)==null?void 0:r.map(function(e){var n;return e.fileType==="PHOTO"&&((n=e.file)==null?void 0:n.uploadID)===t.uploadID?babelHelpers.extends({},e,{locationData:t.locationData}):e}))!=null?n:void 0});return o}function j(e,t){switch(t.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":return u(e,t);case"REPLACE_MEDIA_ATTACHMENT_ITEMS":return c(e,t);case"ADD_PREEXISTING_PHOTO":return m(e,t);case"ADD_PREEXISTING_VIDEO":return p(e,t);case"REMOVE_MEDIA_ATTACHMENT_ITEM":return _(e,t);case"REPLACE_MEDIA_ATTACHMENT_ITEM":return f(e,t);case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":return h(e,t);case"REMOVE_GET_MESSAGE_MEDIA_ATTACHMENT_ITEMS":return g(e,t);case"RETRY_MEDIA_ATTACHMENT_ITEMS":return d(e,t);case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":return R(e,t);case"QUEUE_UPLOADS":return L(e,t);case"MARK_UPLOADS_CLIENT_PROCESSING":return y(e,t);case"MARK_UNKNOWN_UPLOADS_AS_PHOTO":return C(e,t);case"MARK_UPLOADS_AS_PART_OF_COMPLETE_BATCH":return b(e,t);case"MARK_UPLOADS_AS_PHOTO":return v(e,t);case"MARK_UNKNOWN_UPLOADS_AS_VIDEO":return S(e,t);case"MEDIA_UPLOAD_STARTED":return E(e,t);case"MEDIA_UPLOAD_PROGRESS":return k(e,t);case"MEDIA_UPLOAD_SUCCESSFUL":return I(e,t);case"REORDER_MEDIA_ATTACHMENT_ITEM":return P(e,t);case"ROTATE_MEDIA_ATTACHMENT_ITEM":return N(e,t);case"SAVE_MEDIA_EDITS":return D(e,t);case"SET_MEDIA_ATTACHMENT_CAPTION":return w(e,t);case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":return A(e,t);case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":return F(e,t);case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":return O(e,t);case"SET_PHOTO3D_CREATION_DATA":return B(e,t);case"SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING":return U(e,t);case"SET_VIDEO_ATTACHMENT_ITEM_CLOSED_CAPTIONS":return M(e,t);case"ORDER_BY_DATE_TAKEN":return W(e,t);case"SET_VIDEO_ATTACHMENT_METADATA":return q(e,t);case"MEDIA_UPLOAD_FAILED":return T(e,t);case"REMOVE_ATTACHMENT_TYPE":{var n=o("composerAttachmentAreaReducer").getCanAlterAttachmentData(t,"MEDIA",e)||o("composerAttachmentAreaReducer").getCanAlterAttachmentData(t,"CALL_NOW",e);return n?h(e,{type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"}):e}case"SET_SHOULD_DEFAULT_TO_REELS_DIALOG":return H(e,t);case"UPDATE_PHOTO_LOCATION_DATA":return G(e,t);case"SET_MEDIA_ATTACHMENT_ITEM_LOCATION_DATA":return z(e,t)}return e}l.default=j}),98);
__d("useCometComposerMediaEditorPushPage",["fbt","CometMediaEditorPageResource","CometTransientDialogProvider.react","CometVideoToolsLoggingContext","GroupCometComposerContext","MediaEditorViewStateContext","ProductTagTypeaheadContext","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext,d=r("lazyLoadComponent")(r("CometMediaEditorPageResource"));function m(e){var t,n=o("react-compiler-runtime").c(13),a=e.initialFormStep,i=e.initialMediaIndex,l=e.initialTool,m=e.isOnEditReelRevamp,p=e.isOnVideoLiteComposer,_=e.isVideoBeingEdited,f=e.onBack,g=e.postButtonProps,h=m===void 0?!1:m,y=p===void 0?!1:p,C=_===void 0?!1:_,b=r("useCometComposerPushPage")(),v=c(r("CometVideoToolsLoggingContext")),S=(t=c(r("MediaEditorViewStateContext")))==null?void 0:t.isEditingPreExistingStory;S===!0&&(v=babelHelpers.extends({},v,{dialogMode:"video_edit"}));var R=c(r("GroupCometComposerContext")),L=c(o("ProductTagTypeaheadContext").ProductTagTypeaheadContext),E;return n[0]!==R||n[1]!==a||n[2]!==i||n[3]!==l||n[4]!==h||n[5]!==y||n[6]!==C||n[7]!==f||n[8]!==g||n[9]!==L||n[10]!==b||n[11]!==v?(E=function(){return b(C?s._(/*BTDS*/"Video detail"):s._(/*BTDS*/"Photo detail"),function(e){var t=e.onReturn;return u.jsx(r("CometVideoToolsLoggingContext").Provider,{value:v,children:u.jsx(r("GroupCometComposerContext").Provider,{value:R,children:u.jsx(o("ProductTagTypeaheadContext").ProductTagTypeaheadContext.Provider,{value:L,children:u.jsx(r("CometTransientDialogProvider.react"),{children:u.jsx(d,{initialFormStep:a,initialMediaIndex:i,initialTool:l,isOnEditReelRevamp:h,isOnVideoLiteComposer:y,isVideoBeingEdited:C,onBack:f!=null?function(){return f(t)}:t,postButtonProps:g})})})})})},!0,{_sizeOverrides:{height:"80vh",width:"80vw"},hasCustomHeader:!0,overrideOnEscape_I_KNOW_WHAT_IM_DOING:!0})},n[0]=R,n[1]=a,n[2]=i,n[3]=l,n[4]=h,n[5]=y,n[6]=C,n[7]=f,n[8]=g,n[9]=L,n[10]=b,n[11]=v,n[12]=E):E=n[12],E}l.default=m}),226);
__d("useCometComposerPushAllMediaItemsPage",["fbt","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("ComposerMediaDeepDive.react").__setRef("useCometComposerPushAllMediaItemsPage"));function d(e){var t=o("react-compiler-runtime").c(3),n=r("useCometComposerPushPage")(),a;return t[0]!==e||t[1]!==n?(a=function(){n(s._(/*BTDS*/"Photos\/Videos"),function(t){var n=t.onReturn;return u.jsx(c,{isEditingDisabled:e,popPage:n})},!0,{_sizeOverrides:{height:"100%",width:"100%"}})},t[0]=e,t[1]=n,t[2]=a):a=t[2],a}l.default=d}),226);
__d("useVerifyCometComposerPushPage",["CometComposerPushPageContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometComposerPushPageContext"))!=null}l.default=u}),98);